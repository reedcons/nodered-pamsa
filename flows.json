[
    {
        "id": "1ae16134.2ffe3f",
        "type": "tab",
        "label": "CIU888 - Lee/Publica - 3",
        "disabled": false,
        "info": ""
    },
    {
        "id": "10108ae0.c69e55",
        "type": "tab",
        "label": "CIU888 - Lee/Publica - 2",
        "disabled": true,
        "info": ""
    },
    {
        "id": "38dbe062.1e867",
        "type": "tab",
        "label": "MODSCAN ",
        "disabled": true,
        "info": ""
    },
    {
        "id": "8201686d.7b90e8",
        "type": "tab",
        "label": "CIU888 - Lee/Publica - 1",
        "disabled": true,
        "info": ""
    },
    {
        "id": "d5883d38.eb44d",
        "type": "tab",
        "label": "CIU888 - Tablero from MQTT",
        "disabled": false,
        "info": ""
    },
    {
        "id": "b70c95d6.e86af8",
        "type": "subflow",
        "name": "Autenticación TT",
        "info": "# Configuración\n\n---\n\n\n - _urlBaseTT_, por ejemplo: http://172.17.0.1:8080/tt\n - _msg.urlBaseTT_, para que se utilice esta opción debe dejar en blanco la UI\n\n - usernameTT\n - passwordTT\n\nSi se consigue el token, se retorna en payload, de lo contrario se retorna false. Si hay error se retorna en _msg.error_",
        "category": "",
        "in": [
            {
                "x": 50,
                "y": 30,
                "wires": [
                    {
                        "id": "79d365b2.27141c"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 960,
                "y": 120,
                "wires": [
                    {
                        "id": "2637145a.041f1c",
                        "port": 0
                    }
                ]
            },
            {
                "x": 980,
                "y": 300,
                "wires": [
                    {
                        "id": "8de233b.ea133d",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [
            {
                "name": "urlBaseTT",
                "type": "str",
                "value": ""
            },
            {
                "name": "usernameTT",
                "type": "str",
                "value": "integracion"
            },
            {
                "name": "passwordTT",
                "type": "str",
                "value": "passworddeintegracion$1"
            }
        ],
        "color": "#D8BFD8",
        "outputLabels": [
            "Token",
            "No Token"
        ],
        "status": {
            "x": 1200,
            "y": 200,
            "wires": [
                {
                    "id": "476be406.efb0ac",
                    "port": 0
                },
                {
                    "id": "6a34bac4.782c14",
                    "port": 0
                },
                {
                    "id": "b61afd36.d54f8",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "cd27c58f.6d91d8",
        "type": "subflow",
        "name": "Status TT",
        "info": "## Configuración\n\n - **urlBaseTT**, por ejemplo: http://172.17.0.1:8080/tt\n - **msg.urlBaseTT**, para que se utilice esta opción debe dejar en blanco la UI\n\n## Salidas \n\n * 1) TruckFlow está en línea y el token es válido\n * 2) TruckFlow está en línea pero hay problemas con el token de autenticación, pueden ocurrir dos situaciones:\n * - El token no es válido\n * - El token es válido pero no está autorizado\n * 3) TrcukFlow está desconectado\n\nEn todos los casos se retorna: ```msg.payload``` con la descripción del estado y ```msg.urlBaseTT``` con la misma url que se recibió como parámetro\n\nSiempre se establece en el contexto flow del Flow padre, el atributo **lastStatusTT** de la siguiente forma: ```code``` 1=OK, 2=No logueado, 3=No autorizado y 4=Desconectado, ```descripcion``` corresponiente a los textos anteriores y ```tiempo``` con el momento de la muestra.\n \n",
        "category": "",
        "in": [
            {
                "x": 40,
                "y": 140,
                "wires": [
                    {
                        "id": "81fe00bc.1e54e"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 1265,
                "y": 190,
                "wires": [
                    {
                        "id": "733e040a.ecddbc",
                        "port": 0
                    }
                ]
            },
            {
                "x": 1265,
                "y": 250,
                "wires": [
                    {
                        "id": "733e040a.ecddbc",
                        "port": 1
                    },
                    {
                        "id": "733e040a.ecddbc",
                        "port": 2
                    }
                ]
            },
            {
                "x": 1265,
                "y": 310,
                "wires": [
                    {
                        "id": "733e040a.ecddbc",
                        "port": 3
                    }
                ]
            }
        ],
        "env": [
            {
                "name": "urlBaseTT",
                "type": "str",
                "value": ""
            }
        ],
        "color": "#AAAA66",
        "outputLabels": [
            "OK",
            "Renovar Token",
            "Desconectado"
        ],
        "status": {
            "x": 1225,
            "y": 130,
            "wires": [
                {
                    "id": "733e040a.ecddbc",
                    "port": 3
                },
                {
                    "id": "733e040a.ecddbc",
                    "port": 2
                },
                {
                    "id": "733e040a.ecddbc",
                    "port": 1
                },
                {
                    "id": "733e040a.ecddbc",
                    "port": 0
                },
                {
                    "id": "9aa32e01.7aa93",
                    "port": 0
                },
                {
                    "id": "fc89282a.2c6468",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "9a6ff9b7.9c6fb8",
        "type": "subflow",
        "name": "PutCIUDataTT",
        "info": "Se debe enviar: \n\nmag.payload (body)\nmsg.tokenTT \nmsg.idPlc",
        "category": "",
        "in": [
            {
                "x": 50,
                "y": 30,
                "wires": [
                    {
                        "id": "e8bca60.a0a2558"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 930,
                "y": 30,
                "wires": [
                    {
                        "id": "777b9c87.67cd94",
                        "port": 0
                    }
                ]
            },
            {
                "x": 920,
                "y": 130,
                "wires": [
                    {
                        "id": "777b9c87.67cd94",
                        "port": 1
                    }
                ]
            }
        ],
        "env": [
            {
                "name": "idCompania",
                "type": "str",
                "value": "1"
            },
            {
                "name": "categoria",
                "type": "str",
                "value": "fafnir"
            },
            {
                "name": "almacenarCadaXSegs",
                "type": "str",
                "value": "60"
            }
        ],
        "color": "#D8BFD8",
        "outputLabels": [
            "OK",
            "Error"
        ],
        "status": {
            "x": 680,
            "y": 240,
            "wires": [
                {
                    "id": "faa12506.a7fd48",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "35b40fae.3fa48",
        "type": "subflow",
        "name": "UltimosEstadosTanquesTT",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 50,
                "y": 30,
                "wires": [
                    {
                        "id": "24b5e71f.55a928"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 1320,
                "y": 80,
                "wires": [
                    {
                        "id": "c1519f1d.23df3",
                        "port": 0
                    }
                ]
            },
            {
                "x": 1100,
                "y": 180,
                "wires": [
                    {
                        "id": "44975b9a.989454",
                        "port": 0
                    }
                ]
            },
            {
                "x": 1030,
                "y": 260,
                "wires": [
                    {
                        "id": "44975b9a.989454",
                        "port": 1
                    }
                ]
            }
        ],
        "env": [
            {
                "name": "idCompania",
                "type": "str",
                "value": "1"
            },
            {
                "name": "urlBaseTTBrowserCompat",
                "type": "str",
                "value": ""
            },
            {
                "name": "categoria",
                "type": "str",
                "value": ""
            }
        ],
        "color": "#D8BFD8",
        "outputLabels": [
            "OK JSON Object",
            "OK JSON String",
            "Error"
        ],
        "status": {
            "x": 1000,
            "y": 20,
            "wires": [
                {
                    "id": "69abfd47.334cc4",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "3801840d.4716fc",
        "type": "group",
        "z": "1ae16134.2ffe3f",
        "g": "91f1378d.46f8c8",
        "name": "Adquisición",
        "style": {
            "fill": "#c8e7a7",
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "7d6678d5.5fdf58",
            "87dc256a.267de8",
            "d4abc7b9.afa878",
            "d544bfc4.5df96",
            "83276511.7e2308",
            "f0c64784.cf45e8",
            "38267ff2.c4f68",
            "631dfd34.0b0504",
            "e887af7f.3b1d6",
            "cda848c0.cb1458"
        ],
        "x": 34,
        "y": 299,
        "w": 362,
        "h": 282
    },
    {
        "id": "c748b389.5ca8",
        "type": "group",
        "z": "1ae16134.2ffe3f",
        "name": "Autenticación y Configuración",
        "style": {
            "fill": "#ffbfbf",
            "label": true,
            "label-position": "s",
            "color": "#000000"
        },
        "nodes": [
            "5986bea6.f91ae",
            "adaafac.a6da808",
            "403198df.6ac198",
            "7b818a9b.290154",
            "3b6e3678.65c61a",
            "c7fff10f.9583c",
            "ae635ca6.3767e",
            "d43e457b.717a18",
            "20ce64b6.05b27c",
            "8d2a24f4.27d468",
            "76e2484c.05ffa8",
            "75448b.fe902b74",
            "7b3f2681.a312d8"
        ],
        "x": 34,
        "y": 19,
        "w": 1462,
        "h": 237.5
    },
    {
        "id": "69ead5f1.65b89c",
        "type": "group",
        "z": "1ae16134.2ffe3f",
        "g": "91f1378d.46f8c8",
        "name": "Procesamiento de Datos",
        "style": {
            "fill": "#c8e7a7",
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "c61fbdc8.6c643",
            "4d50a4c4.10e60c",
            "2fbbdff6.7704d"
        ],
        "x": 434,
        "y": 319,
        "w": 362,
        "h": 82
    },
    {
        "id": "a0a2fbe1.baf158",
        "type": "group",
        "z": "1ae16134.2ffe3f",
        "g": "91f1378d.46f8c8",
        "name": "Envía Datos Backend",
        "style": {
            "fill": "#92d04f",
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "f45e3aba.7c6728",
            "c1ab009b.0e357",
            "8cb2135c.046c6",
            "d685f89e.758118",
            "818705f6.133798"
        ],
        "x": 434,
        "y": 439,
        "w": 914.5,
        "h": 84
    },
    {
        "id": "91f1378d.46f8c8",
        "type": "group",
        "z": "1ae16134.2ffe3f",
        "name": "",
        "style": {
            "fill": "#e3f3d3",
            "label": true
        },
        "nodes": [
            "3801840d.4716fc",
            "69ead5f1.65b89c",
            "a0a2fbe1.baf158"
        ],
        "x": 8,
        "y": 273,
        "w": 1366.5,
        "h": 334
    },
    {
        "id": "7575f7f7.3026d8",
        "type": "group",
        "z": "1ae16134.2ffe3f",
        "name": "Pide Ultimos estados, procesa y publica en MQTT",
        "style": {
            "fill": "#7fb7df",
            "label": true,
            "label-position": "s",
            "color": "#000000"
        },
        "nodes": [
            "143fe700.e1b9c9",
            "6976a4b7.3e4e8c",
            "1319b071.8f9e3",
            "cc594bfc.910258",
            "ff525a2f.608f28",
            "cd25a503.4992e8",
            "726b285.1c265d8",
            "afb95977.5ce9d8"
        ],
        "x": 34,
        "y": 659,
        "w": 1272,
        "h": 170
    },
    {
        "id": "eadd0d0e.01e44",
        "type": "modbus-client",
        "name": "CIU888",
        "clienttype": "serial",
        "bufferCommands": true,
        "stateLogEnabled": false,
        "queueLogEnabled": false,
        "tcpHost": "127.0.0.1",
        "tcpPort": "502",
        "tcpType": "DEFAULT",
        "serialPort": "/dev/ttyUSB0",
        "serialType": "RTU-BUFFERD",
        "serialBaudrate": "9600",
        "serialDatabits": "8",
        "serialStopbits": "1",
        "serialParity": "none",
        "serialConnectionDelay": "10",
        "unit_id": "42",
        "commandDelay": "1",
        "clientTimeout": "1000",
        "reconnectOnTimeout": false,
        "reconnectTimeout": "2000",
        "parallelUnitIdsAllowed": false
    },
    {
        "id": "4f9c8f6b.534f3",
        "type": "mqtt-broker",
        "name": "",
        "broker": "localhost",
        "port": "1883",
        "clientid": "",
        "usetls": false,
        "compatmode": true,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "willTopic": "",
        "willQos": "0",
        "willPayload": ""
    },
    {
        "id": "70970556.d63e3c",
        "type": "mqtt-broker",
        "name": "",
        "broker": "fueltrace.oneclickeb.com",
        "port": "1883",
        "clientid": "",
        "usetls": false,
        "compatmode": false,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "willTopic": "",
        "willQos": "0",
        "willPayload": ""
    },
    {
        "id": "ebcd37d1.e8b1b8",
        "type": "ui_group",
        "name": "Read (0 Based)",
        "tab": "bc69e6ff.6310a8",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "a33316e0.a81ea8",
        "type": "modbus-client",
        "name": "MODSCAN",
        "clienttype": "serial",
        "bufferCommands": true,
        "stateLogEnabled": false,
        "tcpHost": "127.0.0.1",
        "tcpPort": "502",
        "tcpType": "DEFAULT",
        "serialPort": "/dev/ttyUSB0",
        "serialType": "RTU-BUFFERD",
        "serialBaudrate": "9600",
        "serialDatabits": "8",
        "serialStopbits": "1",
        "serialParity": "none",
        "serialConnectionDelay": "100",
        "unit_id": "1",
        "commandDelay": "1",
        "clientTimeout": "1000",
        "reconnectTimeout": "2000"
    },
    {
        "id": "908629b1.5fd378",
        "type": "ui_group",
        "name": "Output",
        "tab": "bc69e6ff.6310a8",
        "order": 5,
        "disp": true,
        "width": "24",
        "collapse": false
    },
    {
        "id": "2566cc2e.826e34",
        "type": "ui_group",
        "d": true,
        "name": "Write (0 Based)",
        "tab": "bc69e6ff.6310a8",
        "order": 4,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "65a439a1.236948",
        "type": "ui_group",
        "d": true,
        "name": "TCP",
        "tab": "bc69e6ff.6310a8",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "a64203cd.5b6a7",
        "type": "ui_group",
        "name": "Serial",
        "tab": "bc69e6ff.6310a8",
        "order": 1,
        "disp": true,
        "width": "6"
    },
    {
        "id": "bc69e6ff.6310a8",
        "type": "ui_tab",
        "name": "Modscan (C.Iskender 26.12.2018)",
        "icon": "dashboard",
        "order": 2
    },
    {
        "id": "ee6f5a66.330838",
        "type": "ui_base",
        "theme": {
            "name": "theme-dark",
            "lightTheme": {
                "default": "#0094CE",
                "baseColor": "#0094CE",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "darkTheme": {
                "default": "#097479",
                "baseColor": "#097479",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "customTheme": {
                "name": "Untitled Theme 1",
                "default": "#4B7930",
                "baseColor": "#4B7930",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
            },
            "themeState": {
                "base-color": {
                    "default": "#097479",
                    "value": "#097479",
                    "edited": false
                },
                "page-titlebar-backgroundColor": {
                    "value": "#097479",
                    "edited": false
                },
                "page-backgroundColor": {
                    "value": "#111111",
                    "edited": false
                },
                "page-sidebar-backgroundColor": {
                    "value": "#333333",
                    "edited": false
                },
                "group-textColor": {
                    "value": "#0eb8c0",
                    "edited": false
                },
                "group-borderColor": {
                    "value": "#555555",
                    "edited": false
                },
                "group-backgroundColor": {
                    "value": "#333333",
                    "edited": false
                },
                "widget-textColor": {
                    "value": "#eeeeee",
                    "edited": false
                },
                "widget-backgroundColor": {
                    "value": "#097479",
                    "edited": false
                },
                "widget-borderColor": {
                    "value": "#333333",
                    "edited": false
                },
                "base-font": {
                    "value": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
                }
            },
            "angularTheme": {
                "primary": "indigo",
                "accents": "blue",
                "warn": "red",
                "background": "grey"
            }
        },
        "site": {
            "name": "Node-RED Dashboard",
            "hideToolbar": "false",
            "allowSwipe": "false",
            "lockMenu": "false",
            "allowTempTheme": "true",
            "dateFormat": "DD/MM/YYYY",
            "sizes": {
                "sx": 48,
                "sy": 48,
                "gx": 6,
                "gy": 6,
                "cx": 6,
                "cy": 6,
                "px": 0,
                "py": 0
            }
        }
    },
    {
        "id": "3c9e94c8.8ca6dc",
        "type": "modbus-client",
        "name": "CIU888",
        "clienttype": "serial",
        "bufferCommands": true,
        "stateLogEnabled": false,
        "queueLogEnabled": false,
        "tcpHost": "127.0.0.1",
        "tcpPort": "502",
        "tcpType": "DEFAULT",
        "serialPort": "/dev/ttyUSB0",
        "serialType": "RTU-BUFFERD",
        "serialBaudrate": "9600",
        "serialDatabits": "8",
        "serialStopbits": "1",
        "serialParity": "none",
        "serialConnectionDelay": "10",
        "unit_id": "42",
        "commandDelay": "1",
        "clientTimeout": "1000",
        "reconnectOnTimeout": false,
        "reconnectTimeout": "2000",
        "parallelUnitIdsAllowed": false
    },
    {
        "id": "2554d9c.6c202a6",
        "type": "ui_group",
        "d": true,
        "name": "Barra1",
        "tab": "a16d25b8.8664a",
        "order": 1,
        "disp": false,
        "width": "4",
        "collapse": false
    },
    {
        "id": "91a045be.96519",
        "type": "ui_group",
        "name": "Tanque8",
        "tab": "a16d25b8.8664a",
        "order": 10,
        "disp": false,
        "width": "6"
    },
    {
        "id": "43b385cd.b42e74",
        "type": "ui_group",
        "name": "Tanque1",
        "tab": "a16d25b8.8664a",
        "order": 3,
        "disp": false,
        "width": "6"
    },
    {
        "id": "94492b06.695d",
        "type": "ui_group",
        "name": "Tanque2",
        "tab": "a16d25b8.8664a",
        "order": 4,
        "disp": false,
        "width": "6"
    },
    {
        "id": "1a779b08.3aec8d",
        "type": "ui_group",
        "name": "Tanque3",
        "tab": "a16d25b8.8664a",
        "order": 5,
        "disp": false,
        "width": "6"
    },
    {
        "id": "1754dad.c056325",
        "type": "ui_group",
        "name": "Tanque4",
        "tab": "a16d25b8.8664a",
        "order": 6,
        "disp": false,
        "width": "6"
    },
    {
        "id": "63366cc7.c01424",
        "type": "ui_group",
        "name": "Tanque5",
        "tab": "a16d25b8.8664a",
        "order": 7,
        "disp": false,
        "width": "6"
    },
    {
        "id": "1792a10e.2cc0bf",
        "type": "ui_group",
        "name": "Tanque6",
        "tab": "a16d25b8.8664a",
        "order": 8,
        "disp": false,
        "width": "6"
    },
    {
        "id": "93ebc419.d9ad1",
        "type": "ui_group",
        "name": "Tanque7",
        "tab": "a16d25b8.8664a",
        "order": 9,
        "disp": false,
        "width": "6"
    },
    {
        "id": "11983d23.20fd73",
        "type": "ui_group",
        "d": true,
        "name": "Barra2",
        "tab": "a16d25b8.8664a",
        "order": 2,
        "disp": false,
        "width": "20",
        "collapse": false
    },
    {
        "id": "9095ae3e.94a51",
        "type": "mqtt-broker",
        "name": "",
        "broker": "fueltrace.oneclickeb.com",
        "port": "1883",
        "clientid": "",
        "usetls": false,
        "compatmode": true,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "closeTopic": "",
        "closePayload": "",
        "willTopic": "",
        "willQos": "0",
        "willPayload": ""
    },
    {
        "id": "cf9f269.4486058",
        "type": "ui_group",
        "name": "Tanque9",
        "tab": "a16d25b8.8664a",
        "order": 11,
        "disp": false,
        "width": "6"
    },
    {
        "id": "a19dc388.e76f68",
        "type": "ui_group",
        "name": "Tanque11",
        "tab": "a16d25b8.8664a",
        "order": 13,
        "disp": false,
        "width": "6"
    },
    {
        "id": "a85a2484.9d88b",
        "type": "ui_group",
        "name": "Tanque10",
        "tab": "a16d25b8.8664a",
        "order": 12,
        "disp": false,
        "width": "6"
    },
    {
        "id": "41ef8a5f.ab0c44",
        "type": "ui_group",
        "name": "Tanque13",
        "tab": "a16d25b8.8664a",
        "order": 15,
        "disp": false,
        "width": "6"
    },
    {
        "id": "d796d7d7.aef4d8",
        "type": "ui_group",
        "name": "Tanque12",
        "tab": "a16d25b8.8664a",
        "order": 14,
        "disp": false,
        "width": "6"
    },
    {
        "id": "a52dc82a.e870f8",
        "type": "ui_group",
        "name": "Tanque14",
        "tab": "a16d25b8.8664a",
        "order": 16,
        "disp": false,
        "width": "6"
    },
    {
        "id": "7406201f.6fe67",
        "type": "ui_group",
        "name": "Tanque15",
        "tab": "a16d25b8.8664a",
        "order": 17,
        "disp": false,
        "width": "6"
    },
    {
        "id": "bf8b9391.2d3a2",
        "type": "ui_group",
        "name": "Tanque16",
        "tab": "a16d25b8.8664a",
        "order": 18,
        "disp": false,
        "width": "6"
    },
    {
        "id": "3ab4818e.a5ff76",
        "type": "ui_group",
        "name": "Tanque18",
        "tab": "a16d25b8.8664a",
        "order": 20,
        "disp": false,
        "width": "6"
    },
    {
        "id": "464c8e8e.43292",
        "type": "ui_group",
        "name": "Tanque17",
        "tab": "a16d25b8.8664a",
        "order": 19,
        "disp": false,
        "width": "6"
    },
    {
        "id": "cd537e83.b88f8",
        "type": "ui_group",
        "name": "Tanque19",
        "tab": "a16d25b8.8664a",
        "order": 21,
        "disp": false,
        "width": "6"
    },
    {
        "id": "cbc678a5.9613d",
        "type": "ui_group",
        "name": "Tanque20",
        "tab": "a16d25b8.8664a",
        "order": 22,
        "disp": false,
        "width": "6"
    },
    {
        "id": "3f258f5d.54b13",
        "type": "ui_group",
        "name": "Tanque21",
        "tab": "a16d25b8.8664a",
        "order": 23,
        "disp": false,
        "width": "6"
    },
    {
        "id": "9ee299b7.459618",
        "type": "ui_group",
        "name": "Tanque23",
        "tab": "a16d25b8.8664a",
        "order": 25,
        "disp": false,
        "width": "6"
    },
    {
        "id": "2f21b3d6.183f04",
        "type": "ui_group",
        "name": "Tanque22",
        "tab": "a16d25b8.8664a",
        "order": 24,
        "disp": false,
        "width": "6"
    },
    {
        "id": "71c0a253.44a8cc",
        "type": "ui_group",
        "name": "Tanque24",
        "tab": "a16d25b8.8664a",
        "order": 26,
        "disp": false,
        "width": "6"
    },
    {
        "id": "3028e0ea.8d3568",
        "type": "ui_group",
        "name": "Tanque25",
        "tab": "a16d25b8.8664a",
        "order": 27,
        "disp": false,
        "width": "6"
    },
    {
        "id": "f2ecdaf9.31705",
        "type": "ui_group",
        "name": "Taqnue26",
        "tab": "a16d25b8.8664a",
        "order": 28,
        "disp": false,
        "width": "6"
    },
    {
        "id": "4adf345c.8374fc",
        "type": "ui_group",
        "name": "Tanque28",
        "tab": "a16d25b8.8664a",
        "order": 30,
        "disp": false,
        "width": "6"
    },
    {
        "id": "dba5a500.24baa8",
        "type": "ui_group",
        "name": "Tanque27",
        "tab": "a16d25b8.8664a",
        "order": 29,
        "disp": false,
        "width": "6"
    },
    {
        "id": "c2a869f1.db673",
        "type": "ui_group",
        "name": "Taqnue29",
        "tab": "a16d25b8.8664a",
        "order": 31,
        "disp": false,
        "width": "6"
    },
    {
        "id": "6a5e9f40.a2c8d",
        "type": "ui_group",
        "name": "Tanque30",
        "tab": "a16d25b8.8664a",
        "order": 32,
        "disp": false,
        "width": "6"
    },
    {
        "id": "85c8d030.5509c",
        "type": "ui_group",
        "name": "",
        "tab": "a018f11.d79621",
        "order": 1,
        "disp": true,
        "width": "27",
        "collapse": false
    },
    {
        "id": "a16d25b8.8664a",
        "type": "ui_tab",
        "name": "Fueltrace",
        "icon": "fa-industry",
        "order": 4,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "a018f11.d79621",
        "type": "ui_tab",
        "name": "Lista",
        "icon": "dashboard",
        "order": 2,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "2ffc24d6.58bcbc",
        "type": "mqtt-broker",
        "name": "",
        "broker": "mosquitto",
        "port": "1883",
        "clientid": "",
        "usetls": false,
        "compatmode": true,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "closeTopic": "",
        "closePayload": "",
        "willTopic": "",
        "willQos": "0",
        "willPayload": ""
    },
    {
        "id": "1462e163.32007f",
        "type": "modbus-read",
        "z": "10108ae0.c69e55",
        "name": "Lee CIU - 0",
        "topic": "",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": true,
        "unitid": "42",
        "dataType": "HoldingRegister",
        "adr": "0",
        "quantity": "125",
        "rate": "10",
        "rateUnit": "s",
        "delayOnStart": false,
        "startDelayTime": "",
        "server": "eadd0d0e.01e44",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "x": 290,
        "y": 860,
        "wires": [
            [],
            [
                "b0a17de7.b8823"
            ]
        ]
    },
    {
        "id": "c667273b.6c6268",
        "type": "debug",
        "z": "10108ae0.c69e55",
        "name": "Descarte por no config",
        "active": false,
        "console": "false",
        "complete": "payload",
        "x": 750,
        "y": 1310,
        "wires": []
    },
    {
        "id": "ec05047c.155118",
        "type": "function",
        "z": "10108ae0.c69e55",
        "name": "Parseo de registros",
        "func": "/*\nvar a=new Array();\nfor(i=0;i<msg.payload.buffer.length;i=i+2) {\n    a.push(msg.payload.buffer.readInt16BE(i));\n}\n*/\nvar descartados=new Array();\nvar a=msg.arreglo;\nvar descartados=new Array();\nvar a8=msg.arreglo8;\n//node.warn(a8)\n\nvar sinSigno=function(v){\n    return v<0?v+65536:v; \n}\nvar v16=function(v,escala) {\n    return v/escala;\n}\nvar v32=function(v1,v2,escala) {\n    return ((sinSigno(v1)*65536)+sinSigno(v2))/escala;\n}\nvar float32BS=function(desde, buf) {\n  var a8=new Uint8Array([ buf[desde+1], buf[desde], buf[desde+3], buf[desde+2] ]);\n  var a16=new Uint16Array(a8.buffer);\n  var a32=new Float32Array(a16.buffer);\n  return a32.toString()*1;\n}\nvar uint32BS=function(desde, buf) {\n  var a8=new Uint8Array([ buf[desde+1], buf[desde], buf[desde+3], buf[desde+2] ]);\n  var a16=new Uint16Array(a8.buffer);\n  var a32=new Uint32Array(a16.buffer);\n  return a32.toString()*1;\n}\nvar int32BS=function(desde, buf) {\n  var a8=new Int8Array([ buf[desde+1], buf[desde], buf[desde+3], buf[desde+2] ]);\n  var a16=new Int16Array(a8.buffer);\n // return a16.toString()*1;\n   var a32=new Int32Array(a16.buffer);\n  return a32.toString()*1;\n}\n\n\n\nvar calcTank=function(c) {\n    var values={\n        tankName:c.tankName,\n        idTanque:c.idTanque,\n        valoresAlarmaNivel:c.alarmaNivel,\n        mailNotificaciones:c.mailNotificaciones,\n        productName:c.productName,\n        plantName:c.planta,\n        nivelManual:c.nivelManual,\n        nivelManualFechaHora:new Date(c.nivelManualFechaHora),\n        inconsistencia:c.inconsistencia,\n        tanqueRojo:c.tanqueRojo,\n        productLevelAttrName:c.productLevelAttrName,\n        productTempAttrName:c.productTempAttrName,\n        estadoAlarmaNivel: c.estadoAlarmaNivel\n        \n    };\n    c.attributes.forEach(function(o,i){\n        \n        var addr=c.startAddr+o.shiftAddr;\n        if(o.r16) {\n            values[o.attr]=v16(a[addr],o.scale);\n            //node.warn(c.tankName + \">> \" + o.attr + \" * \" + values[o.attr]);\n        } else {\n            //values[o.attr]=int32BS(addr*2,a8)/o.scale;\n            \n            values[o.attr]=v32(a[addr],a[addr+1],o.scale);\n            //node.warn(c.tankName + \">> \" + o.attr + \" * \" + values[o.attr]); // + ' ' + uint32BS(addr*2,a8)/o.scale);\n        }\n    });\n    values.percent=values[c.productLevelAttrName]/c.maxLevel;\n    return values;\n};\n\n\nvar tanques=new Array();\nvar addTanque=function(t) {\n    //if(t.percent) {\n   // if(t.productTemp || t.gsv || t.tov || t.percent) {\n        tanques.push(t);\n    //} else {\n      //  descartados.push(t);\n    //}\n}\n\nmsg.ciuConfigP1C1.forEach(function(o,i){\n    addTanque(calcTank(o));\n});\n\n\nvar ret=function(t) {\n    if(t) {\n        return {payload:t, enabled:true};\n    } else {\n        return {payload:false, enabled:true};;\n    }\n};\nvar r=new Array();\nfor(t=0;t<30;t++) {\n    r.push(ret(tanques[t]));\n}\n\n\n//r.push({payload:JSON.parse(JSON.stringify(r))});\nmsg.payload=JSON.stringify(r);\nmsg.descartados=descartados;\nreturn msg;\n",
        "outputs": "1",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 760,
        "y": 1070,
        "wires": [
            [
                "8c64320e.55ed5",
                "28dc7717.c42bc8",
                "b3896576.60be48",
                "8c35fe00.09f4a",
                "49eea916.db1b78"
            ]
        ],
        "outputLabels": [
            "t1"
        ]
    },
    {
        "id": "1e38a58.0194a5b",
        "type": "function",
        "z": "10108ae0.c69e55",
        "name": "Hay Config Planta 1 CIU 1?",
        "func": "var ciuConfig = msg.ciuConfigP1C1 || \"[]\";\n//ciuConfig=JSON.parse(ciuConfig);\nmsg.ciuConfigP1C1=ciuConfig;\nif(ciuConfig.length==0 || !ciuConfig[0] || !ciuConfig[0].tankName)\n    return [null,{payload:'Descartado por no config'}];\nelse\n    return [msg,null];",
        "outputs": "2",
        "noerr": 0,
        "x": 750,
        "y": 1270,
        "wires": [
            [
                "ec05047c.155118",
                "c60c64c5.a2dad8"
            ],
            [
                "c667273b.6c6268"
            ]
        ],
        "outputLabels": [
            "ok",
            "sinConfig"
        ]
    },
    {
        "id": "a249289f.bd5758",
        "type": "change",
        "z": "10108ae0.c69e55",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "ciuConfigP1C1",
                "pt": "msg",
                "to": "ciuConfigP1C1",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 660,
        "y": 1574,
        "wires": [
            [
                "1e38a58.0194a5b"
            ]
        ]
    },
    {
        "id": "28dc7717.c42bc8",
        "type": "debug",
        "z": "10108ae0.c69e55",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "false",
        "x": 1100,
        "y": 1130,
        "wires": []
    },
    {
        "id": "8c64320e.55ed5",
        "type": "mqtt out",
        "z": "10108ae0.c69e55",
        "name": "MQTT /ciu888/planta1",
        "topic": "/ciu888/planta1",
        "qos": "",
        "retain": "",
        "broker": "70970556.d63e3c",
        "x": 1170,
        "y": 1210,
        "wires": []
    },
    {
        "id": "c60c64c5.a2dad8",
        "type": "debug",
        "z": "10108ae0.c69e55",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "ciuConfigP1C1",
        "targetType": "msg",
        "x": 750,
        "y": 1230,
        "wires": []
    },
    {
        "id": "f460177c.1c6948",
        "type": "function",
        "z": "10108ae0.c69e55",
        "name": "Simulador",
        "func": "\n\nvar calcTank=function(c) {\n    var values={\n        tankName:c.tankName,\n        idTanque:c.idTanque,\n        mailNotificaciones:c.mailNotificaciones,\n        productName:c.productName,\n        plantName:c.planta,\n        productLevel:Math.floor(Math.random()*c.maxLevel),\n        nivelManual:c.nivelManual,\n        nivelManualFechaHora:new Date(c.nivelManualFechaHora)\n    };\n    values.percent=values.productLevel/c.maxLevel;\n    return values;\n};\n\n\nvar tanques=new Array();\nvar addTanque=function(t) {\n    if(t.percent) {\n        tanques.push(t);\n    }\n}\n\nmsg.ciuConfigP1C1.forEach(function(o,i){\n    addTanque(calcTank(o));\n});\n\n\nvar ret=function(t) {\n    if(t) {\n        return {payload:t, enabled:true};\n    } else {\n        return {payload:false, enabled:true};;\n    }\n};\nvar r=new Array();\nfor(t=0;t<8;t++) {\n    r.push(ret(tanques[t]));\n}\n\n\n//r.push({payload:JSON.parse(JSON.stringify(r))});\nmsg.payload=JSON.stringify(r);\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1170,
        "y": 1650,
        "wires": [
            [
                "bfb4b8fe.7a2348",
                "8c64320e.55ed5",
                "a01a6f98.c2923"
            ]
        ]
    },
    {
        "id": "de0353d9.006f8",
        "type": "change",
        "z": "10108ae0.c69e55",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "ciuConfigP1C1",
                "pt": "msg",
                "to": "ciuConfigP1C1",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 880,
        "y": 1730,
        "wires": [
            [
                "779fcebc.819e6"
            ]
        ]
    },
    {
        "id": "779fcebc.819e6",
        "type": "function",
        "z": "10108ae0.c69e55",
        "name": "Hay Config Planta 1 CIU 1?",
        "func": "var ciuConfig = msg.ciuConfigP1C1 || \"[]\";\nciuConfig=JSON.parse(ciuConfig);\nmsg.ciuConfigP1C1=ciuConfig;\nif(ciuConfig.length==0 || !ciuConfig[0] || !ciuConfig[0].tankName)\n    return [null,{payload:'Descartado por no config'}];\nelse\n    return [msg,null];",
        "outputs": "2",
        "noerr": 0,
        "x": 950,
        "y": 1650,
        "wires": [
            [
                "f460177c.1c6948"
            ],
            []
        ],
        "outputLabels": [
            "ok",
            "sinConfig"
        ]
    },
    {
        "id": "b737fa3d.9f2f18",
        "type": "inject",
        "z": "10108ae0.c69e55",
        "name": "Simulador",
        "repeat": "",
        "crontab": "",
        "once": false,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 790,
        "y": 1790,
        "wires": [
            [
                "de0353d9.006f8"
            ]
        ]
    },
    {
        "id": "bfb4b8fe.7a2348",
        "type": "debug",
        "z": "10108ae0.c69e55",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "true",
        "x": 1180,
        "y": 1710,
        "wires": []
    },
    {
        "id": "b3896576.60be48",
        "type": "function",
        "z": "10108ae0.c69e55",
        "name": "Retardo 10 a 1 CIU>backend",
        "func": "var contador = flow.get(\"cantCIURequest\");\nvar frecuenciaAlmacenamiento=flow.get(\"data.frecuenciaAlmacenamiento\");\nif(!contador)\n    contador=0;\ncontador++;\ncontador%=frecuenciaAlmacenamiento;\nflow.set(\"cantCIURequest\",contador);\n\nmsg.llamarws=contador==(frecuenciaAlmacenamiento-1);\nmsg.useBackend=flow.get(\"data.useBackend\");\n\nnode.status({fill:\"green\",shape:\"ring\",text:\"cnt=\"+(contador+1)+\", store=\"+msg.llamarws});\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1090,
        "y": 1070,
        "wires": [
            [
                "2f2c9646.f36f5a",
                "53a47b98.a61964",
                "4f37ea47.0cd824",
                "3d1ce8e9.9ff628"
            ]
        ]
    },
    {
        "id": "2f2c9646.f36f5a",
        "type": "switch",
        "z": "10108ae0.c69e55",
        "d": true,
        "name": "Solo pasa si: llamarws=true",
        "property": "llamarws",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1450,
        "y": 1050,
        "wires": [
            [
                "3d1ce8e9.9ff628"
            ]
        ]
    },
    {
        "id": "7ba51bce.85a824",
        "type": "function",
        "z": "10108ae0.c69e55",
        "name": "To arreglo Int(16)",
        "func": "var arreglo=msg.arreglo;\nvar arreglo8=msg.arreglo8;\nfor(i=0;i<msg.payload.buffer.length;i=i+2) {\n    arreglo.push(msg.payload.buffer.readInt16BE(i));\n}\nfor(i=0;i<msg.payload.buffer.length;i++) {\n    arreglo8.push(msg.payload.buffer[i]);\n}\nmsg.arreglo8=arreglo8;\nmsg.arreglo=arreglo;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 310,
        "y": 1040,
        "wires": [
            [
                "f61714c4.dc25d8"
            ]
        ]
    },
    {
        "id": "efdb5b76.b61de8",
        "type": "modbus-getter",
        "z": "10108ae0.c69e55",
        "name": "Lee CIU - 125",
        "showStatusActivities": true,
        "showErrors": true,
        "logIOActivities": false,
        "unitid": "42",
        "dataType": "HoldingRegister",
        "adr": "125",
        "quantity": "125",
        "server": "eadd0d0e.01e44",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "keepMsgProperties": true,
        "x": 300,
        "y": 980,
        "wires": [
            [],
            [
                "7ba51bce.85a824"
            ]
        ]
    },
    {
        "id": "f61714c4.dc25d8",
        "type": "modbus-getter",
        "z": "10108ae0.c69e55",
        "name": "Lee CIU - 250",
        "showStatusActivities": true,
        "showErrors": true,
        "logIOActivities": false,
        "unitid": "42",
        "dataType": "HoldingRegister",
        "adr": "250",
        "quantity": "125",
        "server": "eadd0d0e.01e44",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "keepMsgProperties": true,
        "x": 300,
        "y": 1100,
        "wires": [
            [],
            [
                "b502d959.e83188"
            ]
        ]
    },
    {
        "id": "b0a17de7.b8823",
        "type": "function",
        "z": "10108ae0.c69e55",
        "name": "To arreglo Int(16) - first",
        "func": "var arreglo=new Array();\nvar arreglo8=new Array();\nfor(i=0;i<msg.payload.buffer.length;i=i+2) {\n    arreglo.push(msg.payload.buffer.readInt16BE(i));\n}\nfor(i=0;i<msg.payload.buffer.length;i++) {\n    arreglo8.push(msg.payload.buffer[i]);\n}\nmsg.arreglo8=arreglo8;\nmsg.arreglo=arreglo;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 320,
        "y": 920,
        "wires": [
            [
                "efdb5b76.b61de8"
            ]
        ]
    },
    {
        "id": "8c35fe00.09f4a",
        "type": "debug",
        "z": "10108ae0.c69e55",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "descartados",
        "x": 1080,
        "y": 1030,
        "wires": []
    },
    {
        "id": "776b42cd.001a2c",
        "type": "function",
        "z": "10108ae0.c69e55",
        "name": "To arreglo Int(16)",
        "func": "var arreglo=msg.arreglo;\nvar arreglo8=msg.arreglo8;\nfor(i=0;i<msg.payload.buffer.length;i=i+2) {\n    arreglo.push(msg.payload.buffer.readInt16BE(i));\n}\nfor(i=0;i<msg.payload.buffer.length;i++) {\n    arreglo8.push(msg.payload.buffer[i]);\n}\nmsg.arreglo8=arreglo8;\nmsg.arreglo=arreglo;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 310,
        "y": 1880,
        "wires": [
            [
                "89696584.2aba68"
            ]
        ]
    },
    {
        "id": "3d1ce8e9.9ff628",
        "type": "switch",
        "z": "10108ae0.c69e55",
        "name": "Solo pasa si: useBackend=true",
        "property": "useBackend",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1540,
        "y": 1130,
        "wires": [
            [
                "9a1fa053.0f91b"
            ]
        ]
    },
    {
        "id": "53a47b98.a61964",
        "type": "debug",
        "z": "10108ae0.c69e55",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "llamarws",
        "x": 1330,
        "y": 930,
        "wires": []
    },
    {
        "id": "4f37ea47.0cd824",
        "type": "debug",
        "z": "10108ae0.c69e55",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "useBackend",
        "x": 1340,
        "y": 970,
        "wires": []
    },
    {
        "id": "cbf39de2.6d049",
        "type": "inject",
        "z": "10108ae0.c69e55",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.1",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 290,
        "y": 80,
        "wires": [
            [
                "3e56d701.bbaf48"
            ]
        ]
    },
    {
        "id": "3e56d701.bbaf48",
        "type": "template",
        "z": "10108ae0.c69e55",
        "name": "Init & Default values",
        "field": "data",
        "fieldType": "flow",
        "format": "handlebars",
        "syntax": "plain",
        "template": "{\n    \"urlBase1\":\"http://192.168.195.187:8080/tt\",\n    \"urlBase\":\"http://fueltrace.oneclickeb.com/tt\", \n    \"idCompania\":1,\n    \"userTokenBasicAuth\":\"gettoken:g3ttok3n$\",\n    \"pidiendoToken\":\"no\",\n    \"useBackend\":true,\n    \"ciuConfigP1C1\":false,\n    \"idCiu\":\"ciu1\",\n    \"frecuenciaAlmacenamiento\":15\n}\n",
        "output": "json",
        "x": 480,
        "y": 80,
        "wires": [
            [
                "e63c9a27.4d1798"
            ]
        ]
    },
    {
        "id": "e63c9a27.4d1798",
        "type": "change",
        "z": "10108ae0.c69e55",
        "name": "SET userTokenBasicAuth to payload",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "data.userTokenBasicAuth",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 750,
        "y": 80,
        "wires": [
            [
                "2b1d1b6.b52f5e4"
            ]
        ]
    },
    {
        "id": "2b1d1b6.b52f5e4",
        "type": "base64",
        "z": "10108ae0.c69e55",
        "name": "AuthBasic Value",
        "action": "",
        "property": "payload",
        "x": 1000,
        "y": 80,
        "wires": [
            [
                "c007ac49.55238"
            ]
        ]
    },
    {
        "id": "c007ac49.55238",
        "type": "change",
        "z": "10108ae0.c69e55",
        "name": "SET flow.data.basicAuthHeaderValue",
        "rules": [
            {
                "t": "set",
                "p": "data.basicAuthHeaderValue",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1250,
        "y": 80,
        "wires": [
            [
                "42836cc2.b799e4"
            ]
        ]
    },
    {
        "id": "39fca9f7.5b6e16",
        "type": "inject",
        "z": "10108ae0.c69e55",
        "name": "Request AuthToken ",
        "repeat": "300",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 340,
        "y": 200,
        "wires": [
            [
                "3686df9f.c4c6c"
            ]
        ]
    },
    {
        "id": "3686df9f.c4c6c",
        "type": "switch",
        "z": "10108ae0.c69e55",
        "name": "Se está pidiendo Token?",
        "property": "data.pidiendoToken",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "no",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "si",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 630,
        "y": 200,
        "wires": [
            [
                "fbf5e257.2139"
            ],
            []
        ],
        "outputLabels": [
            "no",
            "si"
        ]
    },
    {
        "id": "ddc18fa5.9a3b6",
        "type": "change",
        "z": "10108ae0.c69e55",
        "name": "pidiendoToken=no",
        "rules": [
            {
                "t": "set",
                "p": "data.pidiendoToken",
                "pt": "flow",
                "to": "no",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 390,
        "y": 280,
        "wires": [
            [
                "3686df9f.c4c6c"
            ]
        ]
    },
    {
        "id": "7cfbe72f.fc8918",
        "type": "delay",
        "z": "10108ae0.c69e55",
        "name": "",
        "pauseType": "delay",
        "timeout": "10",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 320,
        "y": 340,
        "wires": [
            [
                "ddc18fa5.9a3b6"
            ]
        ]
    },
    {
        "id": "ac80fa1b.c90328",
        "type": "catch",
        "z": "10108ae0.c69e55",
        "name": "catch getToken",
        "scope": [
            "4a09492a.d94ee8"
        ],
        "uncaught": false,
        "x": 300,
        "y": 420,
        "wires": [
            [
                "7cfbe72f.fc8918"
            ]
        ]
    },
    {
        "id": "fbf5e257.2139",
        "type": "change",
        "z": "10108ae0.c69e55",
        "name": "flow.data to payload & pidiendoToken",
        "rules": [
            {
                "t": "set",
                "p": "data.pidiendoToken",
                "pt": "flow",
                "to": "si",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "data",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 730,
        "y": 280,
        "wires": [
            [
                "24ed68e8.0bc8e8"
            ]
        ]
    },
    {
        "id": "24ed68e8.0bc8e8",
        "type": "function",
        "z": "10108ae0.c69e55",
        "name": "Prepare Request",
        "func": "msg.headers = {};\nmsg.headers['Authorization'] = 'Basic '+msg.payload.basicAuthHeaderValue;\nmsg.url=msg.payload.urlBase+\"/api/v1/token/integration\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 990,
        "y": 280,
        "wires": [
            [
                "4a09492a.d94ee8"
            ]
        ]
    },
    {
        "id": "4a09492a.d94ee8",
        "type": "http request",
        "z": "10108ae0.c69e55",
        "name": "getToken",
        "method": "POST",
        "ret": "obj",
        "paytoqs": false,
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "basic",
        "x": 1157,
        "y": 281,
        "wires": [
            [
                "81ebe3de.9dff",
                "c66f55f0.8b80e8"
            ]
        ]
    },
    {
        "id": "81ebe3de.9dff",
        "type": "switch",
        "z": "10108ae0.c69e55",
        "name": "Recibido?",
        "property": "statusCode",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "200",
                "vt": "str"
            },
            {
                "t": "neq",
                "v": "200",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1297,
        "y": 281,
        "wires": [
            [
                "76c9e37a.df8ecc"
            ],
            [
                "da56945b.0f8848"
            ]
        ],
        "outputLabels": [
            "ok",
            "nook"
        ]
    },
    {
        "id": "76c9e37a.df8ecc",
        "type": "change",
        "z": "10108ae0.c69e55",
        "name": "SET flow.data.authToken",
        "rules": [
            {
                "t": "set",
                "p": "data.authToken",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1487,
        "y": 261,
        "wires": [
            [
                "e4112691.37fe68"
            ]
        ]
    },
    {
        "id": "da56945b.0f8848",
        "type": "change",
        "z": "10108ae0.c69e55",
        "name": "UNSET flow.data.authToken",
        "rules": [
            {
                "t": "set",
                "p": "data.authToken",
                "pt": "flow",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1497,
        "y": 301,
        "wires": [
            [
                "e4112691.37fe68"
            ]
        ]
    },
    {
        "id": "e4112691.37fe68",
        "type": "change",
        "z": "10108ae0.c69e55",
        "name": "pidiendoToken=no",
        "rules": [
            {
                "t": "set",
                "p": "data.pidiendoToken",
                "pt": "flow",
                "to": "no",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1750,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "c66f55f0.8b80e8",
        "type": "debug",
        "z": "10108ae0.c69e55",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 1392.9999694824219,
        "y": 204,
        "wires": []
    },
    {
        "id": "42836cc2.b799e4",
        "type": "switch",
        "z": "10108ae0.c69e55",
        "name": "useBackend?",
        "property": "useBackend",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1500,
        "y": 80,
        "wires": [
            [
                "3686df9f.c4c6c"
            ]
        ],
        "outputLabels": [
            "use backend"
        ]
    },
    {
        "id": "420ef58e.830ebc",
        "type": "http request",
        "z": "10108ae0.c69e55",
        "name": "Request Config",
        "method": "GET",
        "ret": "obj",
        "paytoqs": false,
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "x": 701.6666946411133,
        "y": 520.0000076293945,
        "wires": [
            [
                "b552d8ac.d468a8"
            ]
        ]
    },
    {
        "id": "a1188143.89183",
        "type": "debug",
        "z": "10108ae0.c69e55",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 1061.6666946411133,
        "y": 520.0000076293945,
        "wires": []
    },
    {
        "id": "b552d8ac.d468a8",
        "type": "change",
        "z": "10108ae0.c69e55",
        "name": "Set config ",
        "rules": [
            {
                "t": "set",
                "p": "ciuConfigP1C1",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 901.6666946411133,
        "y": 520.0000076293945,
        "wires": [
            [
                "a1188143.89183"
            ]
        ]
    },
    {
        "id": "5a88749e.29c67c",
        "type": "inject",
        "z": "10108ae0.c69e55",
        "name": "",
        "repeat": "8",
        "crontab": "",
        "once": true,
        "onceDelay": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 284.1666946411133,
        "y": 519.0000076293945,
        "wires": [
            [
                "469e5d53.426ed4"
            ]
        ]
    },
    {
        "id": "469e5d53.426ed4",
        "type": "function",
        "z": "10108ae0.c69e55",
        "name": "Prepare request",
        "func": "if(flow.get(\"data.useBackend\")) {\n    msg.headers={xauthtoken:flow.get(\"data.authToken\").token};\n    msg.url=flow.get(\"data.urlBase\")+\"/api/v1/tanques/\"+flow.get(\"data.idCompania\")+\"/ciuconfig/\"+flow.get(\"data.idCiu\");\n}else{\n    msg.url='http://localhost:1880/ciuconfigstatic';\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 501.6666946411133,
        "y": 520.0000076293945,
        "wires": [
            [
                "420ef58e.830ebc"
            ]
        ]
    },
    {
        "id": "65cd38f4.507108",
        "type": "http in",
        "z": "10108ae0.c69e55",
        "name": "server de Config Estática",
        "url": "/ciuconfigstatic",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 301.6666946411133,
        "y": 610.0000076293945,
        "wires": [
            [
                "457f8ecd.14762"
            ]
        ]
    },
    {
        "id": "457f8ecd.14762",
        "type": "template",
        "z": "10108ae0.c69e55",
        "name": "Configuración",
        "field": "payload",
        "fieldType": "msg",
        "format": "json",
        "syntax": "plain",
        "template": "[\n    {\n        \"nivelManual\": 2749,\n        \"nivelManualFechaHora\": 1548096864000,\n        \"tankName\": \"Tk-06\",\n        \"planta\": \"QC Terminales\",\n        \"idTanque\": 17,\n        \"mailNotificaciones\": \"lasis@reedcons.com\",\n        \"inconsistencia\": 1,\n        \"productName\": \"ACETATO DE ETILO\",\n        \"productLevelAttrName\": \"productLevel\",\n        \"maxLevel\": 7749,\n        \"startAddr\": 640,\n        \"tanqueRojo\": true,\n        \"attributes\": [\n            {\n                \"id\": 455,\n                \"attr\": \"productLevel\",\n                \"shiftAddr\": 0,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 456,\n                \"attr\": \"productTemp\",\n                \"shiftAddr\": 1,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 457,\n                \"attr\": \"vapRoomPress\",\n                \"shiftAddr\": 2,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 458,\n                \"attr\": \"vapRoomTemp\",\n                \"shiftAddr\": 3,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 459,\n                \"attr\": \"DObs\",\n                \"shiftAddr\": 4,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 460,\n                \"attr\": \"productDRef\",\n                \"shiftAddr\": 5,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 461,\n                \"attr\": \"tov\",\n                \"shiftAddr\": 6,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 462,\n                \"attr\": \"gsv\",\n                \"shiftAddr\": 8,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 463,\n                \"attr\": \"tgsv\",\n                \"shiftAddr\": 10,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 464,\n                \"attr\": \"totalMass\",\n                \"shiftAddr\": 12,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 465,\n                \"attr\": \"flowTOV\",\n                \"shiftAddr\": 14,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 466,\n                \"attr\": \"waterLevel\",\n                \"shiftAddr\": 15,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 467,\n                \"attr\": \"waterVol\",\n                \"shiftAddr\": 16,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 468,\n                \"attr\": \"availableRoom\",\n                \"shiftAddr\": 18,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 469,\n                \"attr\": \"availableTOV\",\n                \"shiftAddr\": 20,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 470,\n                \"attr\": \"CTL\",\n                \"shiftAddr\": 22,\n                \"r16\": false,\n                \"scale\": 100000\n            }\n        ]\n    },\n    {\n        \"nivelManual\": 4231,\n        \"nivelManualFechaHora\": 1547725191000,\n        \"tankName\": \"Tk-07\",\n        \"planta\": \"QC Terminales\",\n        \"idTanque\": 18,\n        \"mailNotificaciones\": \"lasis@reedcons.com\",\n        \"inconsistencia\": -1,\n        \"productName\": \"METIL ISOBUTIL CARBONIL \",\n        \"productLevelAttrName\": \"productLevel\",\n        \"maxLevel\": 7719,\n        \"startAddr\": 680,\n        \"tanqueRojo\": false,\n        \"attributes\": [\n            {\n                \"id\": 486,\n                \"attr\": \"productLevel\",\n                \"shiftAddr\": 0,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 487,\n                \"attr\": \"productTemp\",\n                \"shiftAddr\": 1,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 488,\n                \"attr\": \"vapRoomPress\",\n                \"shiftAddr\": 2,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 489,\n                \"attr\": \"vapRoomTemp\",\n                \"shiftAddr\": 3,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 490,\n                \"attr\": \"DObs\",\n                \"shiftAddr\": 4,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 491,\n                \"attr\": \"productDRef\",\n                \"shiftAddr\": 5,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 492,\n                \"attr\": \"tov\",\n                \"shiftAddr\": 6,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 493,\n                \"attr\": \"gsv\",\n                \"shiftAddr\": 8,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 494,\n                \"attr\": \"tgsv\",\n                \"shiftAddr\": 10,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 495,\n                \"attr\": \"totalMass\",\n                \"shiftAddr\": 12,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 496,\n                \"attr\": \"flowTOV\",\n                \"shiftAddr\": 14,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 497,\n                \"attr\": \"waterLevel\",\n                \"shiftAddr\": 15,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 498,\n                \"attr\": \"waterVol\",\n                \"shiftAddr\": 16,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 499,\n                \"attr\": \"availableRoom\",\n                \"shiftAddr\": 18,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 500,\n                \"attr\": \"availableTOV\",\n                \"shiftAddr\": 20,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 501,\n                \"attr\": \"CTL\",\n                \"shiftAddr\": 22,\n                \"r16\": false,\n                \"scale\": 100000\n            }\n        ]\n    },\n    {\n        \"nivelManual\": 4934,\n        \"nivelManualFechaHora\": 1547725266000,\n        \"tankName\": \"Tk-08\",\n        \"planta\": \"QC Terminales\",\n        \"idTanque\": 19,\n        \"mailNotificaciones\": \"lasis@reedcons.com\",\n        \"inconsistencia\": -1,\n        \"productName\": \"PROPYLENE GLYCOL\",\n        \"productLevelAttrName\": \"productLevel\",\n        \"maxLevel\": 7706,\n        \"startAddr\": 720,\n        \"tanqueRojo\": false,\n        \"attributes\": [\n            {\n                \"id\": 517,\n                \"attr\": \"productLevel\",\n                \"shiftAddr\": 0,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 518,\n                \"attr\": \"productTemp\",\n                \"shiftAddr\": 1,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 519,\n                \"attr\": \"vapRoomPress\",\n                \"shiftAddr\": 2,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 520,\n                \"attr\": \"vapRoomTemp\",\n                \"shiftAddr\": 3,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 521,\n                \"attr\": \"DObs\",\n                \"shiftAddr\": 4,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 522,\n                \"attr\": \"productDRef\",\n                \"shiftAddr\": 5,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 523,\n                \"attr\": \"tov\",\n                \"shiftAddr\": 6,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 524,\n                \"attr\": \"gsv\",\n                \"shiftAddr\": 8,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 525,\n                \"attr\": \"tgsv\",\n                \"shiftAddr\": 10,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 526,\n                \"attr\": \"totalMass\",\n                \"shiftAddr\": 12,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 527,\n                \"attr\": \"flowTOV\",\n                \"shiftAddr\": 14,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 528,\n                \"attr\": \"waterLevel\",\n                \"shiftAddr\": 15,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 529,\n                \"attr\": \"waterVol\",\n                \"shiftAddr\": 16,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 530,\n                \"attr\": \"availableRoom\",\n                \"shiftAddr\": 18,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 531,\n                \"attr\": \"availableTOV\",\n                \"shiftAddr\": 20,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 532,\n                \"attr\": \"CTL\",\n                \"shiftAddr\": 22,\n                \"r16\": false,\n                \"scale\": 100000\n            }\n        ]\n    },\n    {\n        \"nivelManual\": 5563,\n        \"nivelManualFechaHora\": 1544805153000,\n        \"tankName\": \"Tk-09\",\n        \"planta\": \"QC Terminales\",\n        \"idTanque\": 20,\n        \"mailNotificaciones\": \"lasis@reedcons.com\",\n        \"inconsistencia\": -1,\n        \"productName\": \"ESTIRENO MONOMERO\",\n        \"productLevelAttrName\": \"productLevel\",\n        \"maxLevel\": 8790,\n        \"startAddr\": 760,\n        \"tanqueRojo\": false,\n        \"attributes\": [\n            {\n                \"id\": 548,\n                \"attr\": \"productLevel\",\n                \"shiftAddr\": 0,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 549,\n                \"attr\": \"productTemp\",\n                \"shiftAddr\": 1,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 550,\n                \"attr\": \"vapRoomPress\",\n                \"shiftAddr\": 2,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 551,\n                \"attr\": \"vapRoomTemp\",\n                \"shiftAddr\": 3,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 552,\n                \"attr\": \"DObs\",\n                \"shiftAddr\": 4,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 553,\n                \"attr\": \"productDRef\",\n                \"shiftAddr\": 5,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 554,\n                \"attr\": \"tov\",\n                \"shiftAddr\": 6,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 555,\n                \"attr\": \"gsv\",\n                \"shiftAddr\": 8,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 556,\n                \"attr\": \"tgsv\",\n                \"shiftAddr\": 10,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 557,\n                \"attr\": \"totalMass\",\n                \"shiftAddr\": 12,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 558,\n                \"attr\": \"flowTOV\",\n                \"shiftAddr\": 14,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 559,\n                \"attr\": \"waterLevel\",\n                \"shiftAddr\": 15,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 560,\n                \"attr\": \"waterVol\",\n                \"shiftAddr\": 16,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 561,\n                \"attr\": \"availableRoom\",\n                \"shiftAddr\": 18,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 562,\n                \"attr\": \"availableTOV\",\n                \"shiftAddr\": 20,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 563,\n                \"attr\": \"CTL\",\n                \"shiftAddr\": 22,\n                \"r16\": false,\n                \"scale\": 100000\n            }\n        ]\n    },\n    {\n        \"nivelManual\": 6210,\n        \"nivelManualFechaHora\": 1547740548000,\n        \"tankName\": \"Tk-10\",\n        \"planta\": \"QC Terminales\",\n        \"idTanque\": 21,\n        \"mailNotificaciones\": \"lasis@reedcons.com\",\n        \"inconsistencia\": 1,\n        \"productName\": \"ACETATO DE ETILO\",\n        \"productLevelAttrName\": \"productLevel\",\n        \"maxLevel\": 8210,\n        \"startAddr\": 800,\n        \"tanqueRojo\": true,\n        \"attributes\": [\n            {\n                \"id\": 579,\n                \"attr\": \"productLevel\",\n                \"shiftAddr\": 0,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 580,\n                \"attr\": \"productTemp\",\n                \"shiftAddr\": 1,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 581,\n                \"attr\": \"vapRoomPress\",\n                \"shiftAddr\": 2,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 582,\n                \"attr\": \"vapRoomTemp\",\n                \"shiftAddr\": 3,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 583,\n                \"attr\": \"DObs\",\n                \"shiftAddr\": 4,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 584,\n                \"attr\": \"productDRef\",\n                \"shiftAddr\": 5,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 585,\n                \"attr\": \"tov\",\n                \"shiftAddr\": 6,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 586,\n                \"attr\": \"gsv\",\n                \"shiftAddr\": 8,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 587,\n                \"attr\": \"tgsv\",\n                \"shiftAddr\": 10,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 588,\n                \"attr\": \"totalMass\",\n                \"shiftAddr\": 12,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 589,\n                \"attr\": \"flowTOV\",\n                \"shiftAddr\": 14,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 590,\n                \"attr\": \"waterLevel\",\n                \"shiftAddr\": 15,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 591,\n                \"attr\": \"waterVol\",\n                \"shiftAddr\": 16,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 592,\n                \"attr\": \"availableRoom\",\n                \"shiftAddr\": 18,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 593,\n                \"attr\": \"availableTOV\",\n                \"shiftAddr\": 20,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 594,\n                \"attr\": \"CTL\",\n                \"shiftAddr\": 22,\n                \"r16\": false,\n                \"scale\": 100000\n            }\n        ]\n    },\n    {\n        \"nivelManual\": 24000,\n        \"nivelManualFechaHora\": 1544190890000,\n        \"tankName\": \"Tk-104\",\n        \"planta\": \"QC Terminales\",\n        \"idTanque\": 23,\n        \"mailNotificaciones\": \"lasis@reedcons.com\",\n        \"inconsistencia\": 1,\n        \"productName\": \"ISOPROPIL ALCOHOL (IPA)\",\n        \"productLevelAttrName\": \"productLevel\",\n        \"maxLevel\": 7331,\n        \"startAddr\": 880,\n        \"tanqueRojo\": true,\n        \"attributes\": [\n            {\n                \"id\": 641,\n                \"attr\": \"productLevel\",\n                \"shiftAddr\": 0,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 642,\n                \"attr\": \"productTemp\",\n                \"shiftAddr\": 1,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 643,\n                \"attr\": \"vapRoomPress\",\n                \"shiftAddr\": 2,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 644,\n                \"attr\": \"vapRoomTemp\",\n                \"shiftAddr\": 3,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 645,\n                \"attr\": \"DObs\",\n                \"shiftAddr\": 4,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 646,\n                \"attr\": \"productDRef\",\n                \"shiftAddr\": 5,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 647,\n                \"attr\": \"tov\",\n                \"shiftAddr\": 6,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 648,\n                \"attr\": \"gsv\",\n                \"shiftAddr\": 8,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 649,\n                \"attr\": \"tgsv\",\n                \"shiftAddr\": 10,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 650,\n                \"attr\": \"totalMass\",\n                \"shiftAddr\": 12,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 651,\n                \"attr\": \"flowTOV\",\n                \"shiftAddr\": 14,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 652,\n                \"attr\": \"waterLevel\",\n                \"shiftAddr\": 15,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 653,\n                \"attr\": \"waterVol\",\n                \"shiftAddr\": 16,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 654,\n                \"attr\": \"availableRoom\",\n                \"shiftAddr\": 18,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 655,\n                \"attr\": \"availableTOV\",\n                \"shiftAddr\": 20,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 656,\n                \"attr\": \"CTL\",\n                \"shiftAddr\": 22,\n                \"r16\": false,\n                \"scale\": 100000\n            }\n        ]\n    },\n    {\n        \"nivelManual\": 5640,\n        \"nivelManualFechaHora\": 1544806778000,\n        \"tankName\": \"Tk-109\",\n        \"planta\": \"QC Terminales\",\n        \"idTanque\": 24,\n        \"mailNotificaciones\": \"lasis@reedcons.com\",\n        \"inconsistencia\": 1,\n        \"productName\": \"VORANOL 8136\",\n        \"productLevelAttrName\": \"productLevel\",\n        \"maxLevel\": 7640,\n        \"startAddr\": 920,\n        \"tanqueRojo\": true,\n        \"attributes\": [\n            {\n                \"id\": 672,\n                \"attr\": \"productLevel\",\n                \"shiftAddr\": 0,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 673,\n                \"attr\": \"productTemp\",\n                \"shiftAddr\": 1,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 674,\n                \"attr\": \"vapRoomPress\",\n                \"shiftAddr\": 2,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 675,\n                \"attr\": \"vapRoomTemp\",\n                \"shiftAddr\": 3,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 676,\n                \"attr\": \"DObs\",\n                \"shiftAddr\": 4,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 677,\n                \"attr\": \"productDRef\",\n                \"shiftAddr\": 5,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 678,\n                \"attr\": \"tov\",\n                \"shiftAddr\": 6,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 679,\n                \"attr\": \"gsv\",\n                \"shiftAddr\": 8,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 680,\n                \"attr\": \"tgsv\",\n                \"shiftAddr\": 10,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 681,\n                \"attr\": \"totalMass\",\n                \"shiftAddr\": 12,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 682,\n                \"attr\": \"flowTOV\",\n                \"shiftAddr\": 14,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 683,\n                \"attr\": \"waterLevel\",\n                \"shiftAddr\": 15,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 684,\n                \"attr\": \"waterVol\",\n                \"shiftAddr\": 16,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 685,\n                \"attr\": \"availableRoom\",\n                \"shiftAddr\": 18,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 686,\n                \"attr\": \"availableTOV\",\n                \"shiftAddr\": 20,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 687,\n                \"attr\": \"CTL\",\n                \"shiftAddr\": 22,\n                \"r16\": false,\n                \"scale\": 100000\n            }\n        ]\n    },\n    {\n        \"nivelManual\": 0,\n        \"nivelManualFechaHora\": null,\n        \"tankName\": \"Tk-11\",\n        \"planta\": \"QC Terminales\",\n        \"idTanque\": 22,\n        \"mailNotificaciones\": \"lasis@reedcons.com\",\n        \"inconsistencia\": -1,\n        \"productName\": \"VINIL ACETATO MONOMERO\",\n        \"productLevelAttrName\": \"productLevel\",\n        \"maxLevel\": 10276,\n        \"startAddr\": 840,\n        \"tanqueRojo\": false,\n        \"attributes\": [\n            {\n                \"id\": 610,\n                \"attr\": \"productLevel\",\n                \"shiftAddr\": 0,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 611,\n                \"attr\": \"productTemp\",\n                \"shiftAddr\": 1,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 612,\n                \"attr\": \"vapRoomPress\",\n                \"shiftAddr\": 2,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 613,\n                \"attr\": \"vapRoomTemp\",\n                \"shiftAddr\": 3,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 614,\n                \"attr\": \"DObs\",\n                \"shiftAddr\": 4,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 615,\n                \"attr\": \"productDRef\",\n                \"shiftAddr\": 5,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 616,\n                \"attr\": \"tov\",\n                \"shiftAddr\": 6,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 617,\n                \"attr\": \"gsv\",\n                \"shiftAddr\": 8,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 618,\n                \"attr\": \"tgsv\",\n                \"shiftAddr\": 10,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 619,\n                \"attr\": \"totalMass\",\n                \"shiftAddr\": 12,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 620,\n                \"attr\": \"flowTOV\",\n                \"shiftAddr\": 14,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 621,\n                \"attr\": \"waterLevel\",\n                \"shiftAddr\": 15,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 622,\n                \"attr\": \"waterVol\",\n                \"shiftAddr\": 16,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 623,\n                \"attr\": \"availableRoom\",\n                \"shiftAddr\": 18,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 624,\n                \"attr\": \"availableTOV\",\n                \"shiftAddr\": 20,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 625,\n                \"attr\": \"CTL\",\n                \"shiftAddr\": 22,\n                \"r16\": false,\n                \"scale\": 100000\n            }\n        ]\n    },\n    {\n        \"nivelManual\": 0,\n        \"nivelManualFechaHora\": null,\n        \"tankName\": \"Tk-110\",\n        \"planta\": \"QC Terminales\",\n        \"idTanque\": 25,\n        \"mailNotificaciones\": \"lasis@reedcons.com\",\n        \"inconsistencia\": -1,\n        \"productName\": \"NO DATA\",\n        \"productLevelAttrName\": \"productLevel\",\n        \"maxLevel\": 7810,\n        \"startAddr\": 960,\n        \"tanqueRojo\": false,\n        \"attributes\": [\n            {\n                \"id\": 703,\n                \"attr\": \"productLevel\",\n                \"shiftAddr\": 0,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 704,\n                \"attr\": \"productTemp\",\n                \"shiftAddr\": 1,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 705,\n                \"attr\": \"vapRoomPress\",\n                \"shiftAddr\": 2,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 706,\n                \"attr\": \"vapRoomTemp\",\n                \"shiftAddr\": 3,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 707,\n                \"attr\": \"DObs\",\n                \"shiftAddr\": 4,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 708,\n                \"attr\": \"productDRef\",\n                \"shiftAddr\": 5,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 709,\n                \"attr\": \"tov\",\n                \"shiftAddr\": 6,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 710,\n                \"attr\": \"gsv\",\n                \"shiftAddr\": 8,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 711,\n                \"attr\": \"tgsv\",\n                \"shiftAddr\": 10,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 712,\n                \"attr\": \"totalMass\",\n                \"shiftAddr\": 12,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 713,\n                \"attr\": \"flowTOV\",\n                \"shiftAddr\": 14,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 714,\n                \"attr\": \"waterLevel\",\n                \"shiftAddr\": 15,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 715,\n                \"attr\": \"waterVol\",\n                \"shiftAddr\": 16,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 716,\n                \"attr\": \"availableRoom\",\n                \"shiftAddr\": 18,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 717,\n                \"attr\": \"availableTOV\",\n                \"shiftAddr\": 20,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 718,\n                \"attr\": \"CTL\",\n                \"shiftAddr\": 22,\n                \"r16\": false,\n                \"scale\": 100000\n            }\n        ]\n    },\n    {\n        \"nivelManual\": 12709,\n        \"nivelManualFechaHora\": 1547726172000,\n        \"tankName\": \"Tk-800\",\n        \"planta\": \"QC Terminales\",\n        \"idTanque\": 1,\n        \"mailNotificaciones\": \"lasis@reedcons.com\",\n        \"inconsistencia\": 1,\n        \"productName\": \"SODA CAUSTICA\",\n        \"productLevelAttrName\": \"productLevel\",\n        \"maxLevel\": 32767,\n        \"startAddr\": 0,\n        \"tanqueRojo\": true,\n        \"attributes\": [\n            {\n                \"id\": 1,\n                \"attr\": \"productLevel\",\n                \"shiftAddr\": 0,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 2,\n                \"attr\": \"productTemp\",\n                \"shiftAddr\": 1,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 3,\n                \"attr\": \"vapRoomPress\",\n                \"shiftAddr\": 2,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 4,\n                \"attr\": \"vapRoomTemp\",\n                \"shiftAddr\": 3,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 5,\n                \"attr\": \"DObs\",\n                \"shiftAddr\": 4,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 6,\n                \"attr\": \"productDRef\",\n                \"shiftAddr\": 5,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 7,\n                \"attr\": \"tov\",\n                \"shiftAddr\": 6,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 8,\n                \"attr\": \"gsv\",\n                \"shiftAddr\": 8,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 9,\n                \"attr\": \"tgsv\",\n                \"shiftAddr\": 10,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 10,\n                \"attr\": \"totalMass\",\n                \"shiftAddr\": 12,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 11,\n                \"attr\": \"flowTOV\",\n                \"shiftAddr\": 14,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 12,\n                \"attr\": \"waterLevel\",\n                \"shiftAddr\": 15,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 13,\n                \"attr\": \"waterVol\",\n                \"shiftAddr\": 16,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 14,\n                \"attr\": \"availableRoom\",\n                \"shiftAddr\": 18,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 15,\n                \"attr\": \"availableTOV\",\n                \"shiftAddr\": 20,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 16,\n                \"attr\": \"CTL\",\n                \"shiftAddr\": 22,\n                \"r16\": false,\n                \"scale\": 100000\n            }\n        ]\n    },\n    {\n        \"nivelManual\": 970,\n        \"nivelManualFechaHora\": 1547725993000,\n        \"tankName\": \"Tk-801\",\n        \"planta\": \"QC Terminales\",\n        \"idTanque\": 2,\n        \"mailNotificaciones\": \"lasis@reedcons.com\",\n        \"inconsistencia\": -1,\n        \"productName\": \"SODA CAUSTICA\",\n        \"productLevelAttrName\": \"productLevel\",\n        \"maxLevel\": 32767,\n        \"startAddr\": 40,\n        \"tanqueRojo\": false,\n        \"attributes\": [\n            {\n                \"id\": 17,\n                \"attr\": \"productLevel\",\n                \"shiftAddr\": 0,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 18,\n                \"attr\": \"productTemp\",\n                \"shiftAddr\": 1,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 19,\n                \"attr\": \"vapRoomPress\",\n                \"shiftAddr\": 2,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 20,\n                \"attr\": \"vapRoomTemp\",\n                \"shiftAddr\": 3,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 21,\n                \"attr\": \"DObs\",\n                \"shiftAddr\": 4,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 22,\n                \"attr\": \"productDRef\",\n                \"shiftAddr\": 5,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 23,\n                \"attr\": \"tov\",\n                \"shiftAddr\": 6,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 24,\n                \"attr\": \"gsv\",\n                \"shiftAddr\": 8,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 25,\n                \"attr\": \"tgsv\",\n                \"shiftAddr\": 10,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 26,\n                \"attr\": \"totalMass\",\n                \"shiftAddr\": 12,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 27,\n                \"attr\": \"flowTOV\",\n                \"shiftAddr\": 14,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 28,\n                \"attr\": \"waterLevel\",\n                \"shiftAddr\": 15,\n                \"r16\": true,\n                \"scale\": 1000\n            },\n            {\n                \"id\": 29,\n                \"attr\": \"waterVol\",\n                \"shiftAddr\": 16,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 30,\n                \"attr\": \"availableRoom\",\n                \"shiftAddr\": 18,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 31,\n                \"attr\": \"availableTOV\",\n                \"shiftAddr\": 20,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 32,\n                \"attr\": \"CTL\",\n                \"shiftAddr\": 22,\n                \"r16\": false,\n                \"scale\": 100000\n            }\n        ]\n    },\n    {\n        \"nivelManual\": 6138,\n        \"nivelManualFechaHora\": 1547725820000,\n        \"tankName\": \"Tk-802\",\n        \"planta\": \"QC Terminales\",\n        \"idTanque\": 3,\n        \"mailNotificaciones\": \"lasis@reedcons.com\",\n        \"inconsistencia\": -1,\n        \"productName\": \"LINEAL ALQUIL BENCENO \",\n        \"productLevelAttrName\": \"productLevel\",\n        \"maxLevel\": 15577,\n        \"startAddr\": 80,\n        \"tanqueRojo\": false,\n        \"attributes\": [\n            {\n                \"id\": 33,\n                \"attr\": \"productLevel\",\n                \"shiftAddr\": 0,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 34,\n                \"attr\": \"productTemp\",\n                \"shiftAddr\": 1,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 35,\n                \"attr\": \"vapRoomPress\",\n                \"shiftAddr\": 2,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 36,\n                \"attr\": \"vapRoomTemp\",\n                \"shiftAddr\": 3,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 37,\n                \"attr\": \"DObs\",\n                \"shiftAddr\": 4,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 38,\n                \"attr\": \"productDRef\",\n                \"shiftAddr\": 5,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 39,\n                \"attr\": \"tov\",\n                \"shiftAddr\": 6,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 40,\n                \"attr\": \"gsv\",\n                \"shiftAddr\": 8,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 41,\n                \"attr\": \"tgsv\",\n                \"shiftAddr\": 10,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 42,\n                \"attr\": \"totalMass\",\n                \"shiftAddr\": 12,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 43,\n                \"attr\": \"flowTOV\",\n                \"shiftAddr\": 14,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 44,\n                \"attr\": \"waterLevel\",\n                \"shiftAddr\": 15,\n                \"r16\": true,\n                \"scale\": 1000\n            },\n            {\n                \"id\": 45,\n                \"attr\": \"waterVol\",\n                \"shiftAddr\": 16,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 46,\n                \"attr\": \"availableRoom\",\n                \"shiftAddr\": 18,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 47,\n                \"attr\": \"availableTOV\",\n                \"shiftAddr\": 20,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 48,\n                \"attr\": \"CTL\",\n                \"shiftAddr\": 22,\n                \"r16\": false,\n                \"scale\": 100000\n            }\n        ]\n    },\n    {\n        \"nivelManual\": 11621,\n        \"nivelManualFechaHora\": 1547725687000,\n        \"tankName\": \"Tk-803\",\n        \"planta\": \"QC Terminales\",\n        \"idTanque\": 4,\n        \"mailNotificaciones\": \"lasis@reedcons.com\",\n        \"inconsistencia\": -1,\n        \"productName\": \"SODA CAUSTICA\",\n        \"productLevelAttrName\": \"productLevel\",\n        \"maxLevel\": 18413,\n        \"startAddr\": 120,\n        \"tanqueRojo\": false,\n        \"attributes\": [\n            {\n                \"id\": 49,\n                \"attr\": \"productLevel\",\n                \"shiftAddr\": 0,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 50,\n                \"attr\": \"productTemp\",\n                \"shiftAddr\": 1,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 51,\n                \"attr\": \"vapRoomPress\",\n                \"shiftAddr\": 2,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 52,\n                \"attr\": \"vapRoomTemp\",\n                \"shiftAddr\": 3,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 53,\n                \"attr\": \"DObs\",\n                \"shiftAddr\": 4,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 54,\n                \"attr\": \"productDRef\",\n                \"shiftAddr\": 5,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 55,\n                \"attr\": \"tov\",\n                \"shiftAddr\": 6,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 56,\n                \"attr\": \"gsv\",\n                \"shiftAddr\": 8,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 57,\n                \"attr\": \"tgsv\",\n                \"shiftAddr\": 10,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 58,\n                \"attr\": \"totalMass\",\n                \"shiftAddr\": 12,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 59,\n                \"attr\": \"flowTOV\",\n                \"shiftAddr\": 14,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 60,\n                \"attr\": \"waterLevel\",\n                \"shiftAddr\": 15,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 61,\n                \"attr\": \"waterVol\",\n                \"shiftAddr\": 16,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 62,\n                \"attr\": \"availableRoom\",\n                \"shiftAddr\": 18,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 63,\n                \"attr\": \"availableTOV\",\n                \"shiftAddr\": 20,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 64,\n                \"attr\": \"CTL\",\n                \"shiftAddr\": 22,\n                \"r16\": false,\n                \"scale\": 100000\n            }\n        ]\n    },\n    {\n        \"nivelManual\": 5,\n        \"nivelManualFechaHora\": 1483585200000,\n        \"tankName\": \"Tk-804\",\n        \"planta\": \"QC Terminales\",\n        \"idTanque\": 5,\n        \"mailNotificaciones\": \"lasis@reedcons.com\",\n        \"inconsistencia\": 1,\n        \"productName\": \"SODA CAUSTICA 30%\",\n        \"productLevelAttrName\": \"productLevel\",\n        \"maxLevel\": 16891,\n        \"startAddr\": 160,\n        \"tanqueRojo\": true,\n        \"attributes\": [\n            {\n                \"id\": 80,\n                \"attr\": \"productLevel\",\n                \"shiftAddr\": 0,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 81,\n                \"attr\": \"productTemp\",\n                \"shiftAddr\": 1,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 82,\n                \"attr\": \"vapRoomPress\",\n                \"shiftAddr\": 2,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 83,\n                \"attr\": \"vapRoomTemp\",\n                \"shiftAddr\": 3,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 84,\n                \"attr\": \"DObs\",\n                \"shiftAddr\": 4,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 85,\n                \"attr\": \"productDRef\",\n                \"shiftAddr\": 5,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 86,\n                \"attr\": \"tov\",\n                \"shiftAddr\": 6,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 87,\n                \"attr\": \"gsv\",\n                \"shiftAddr\": 8,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 88,\n                \"attr\": \"tgsv\",\n                \"shiftAddr\": 10,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 89,\n                \"attr\": \"totalMass\",\n                \"shiftAddr\": 12,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 90,\n                \"attr\": \"flowTOV\",\n                \"shiftAddr\": 14,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 91,\n                \"attr\": \"waterLevel\",\n                \"shiftAddr\": 15,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 92,\n                \"attr\": \"waterVol\",\n                \"shiftAddr\": 16,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 93,\n                \"attr\": \"availableRoom\",\n                \"shiftAddr\": 18,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 94,\n                \"attr\": \"availableTOV\",\n                \"shiftAddr\": 20,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 95,\n                \"attr\": \"CTL\",\n                \"shiftAddr\": 22,\n                \"r16\": false,\n                \"scale\": 100000\n            }\n        ]\n    },\n    {\n        \"nivelManual\": 5044,\n        \"nivelManualFechaHora\": 1547725926000,\n        \"tankName\": \"Tk-806\",\n        \"planta\": \"QC Terminales\",\n        \"idTanque\": 6,\n        \"mailNotificaciones\": \"lasis@reedcons.com\",\n        \"inconsistencia\": -1,\n        \"productName\": \"BUTIL ACRILATO\",\n        \"productLevelAttrName\": \"productLevel\",\n        \"maxLevel\": 13847,\n        \"startAddr\": 200,\n        \"tanqueRojo\": false,\n        \"attributes\": [\n            {\n                \"id\": 111,\n                \"attr\": \"productLevel\",\n                \"shiftAddr\": 0,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 112,\n                \"attr\": \"productTemp\",\n                \"shiftAddr\": 1,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 113,\n                \"attr\": \"vapRoomPress\",\n                \"shiftAddr\": 2,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 114,\n                \"attr\": \"vapRoomTemp\",\n                \"shiftAddr\": 3,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 115,\n                \"attr\": \"DObs\",\n                \"shiftAddr\": 4,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 116,\n                \"attr\": \"productDRef\",\n                \"shiftAddr\": 5,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 117,\n                \"attr\": \"tov\",\n                \"shiftAddr\": 6,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 118,\n                \"attr\": \"gsv\",\n                \"shiftAddr\": 8,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 119,\n                \"attr\": \"tgsv\",\n                \"shiftAddr\": 10,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 120,\n                \"attr\": \"totalMass\",\n                \"shiftAddr\": 12,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 121,\n                \"attr\": \"flowTOV\",\n                \"shiftAddr\": 14,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 122,\n                \"attr\": \"waterLevel\",\n                \"shiftAddr\": 15,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 123,\n                \"attr\": \"waterVol\",\n                \"shiftAddr\": 16,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 124,\n                \"attr\": \"availableRoom\",\n                \"shiftAddr\": 18,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 125,\n                \"attr\": \"availableTOV\",\n                \"shiftAddr\": 20,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 126,\n                \"attr\": \"CTL\",\n                \"shiftAddr\": 22,\n                \"r16\": false,\n                \"scale\": 100000\n            }\n        ]\n    },\n    {\n        \"nivelManual\": -1067,\n        \"nivelManualFechaHora\": 1542200094000,\n        \"tankName\": \"Tk-807\",\n        \"planta\": \"QC Terminales\",\n        \"idTanque\": 7,\n        \"mailNotificaciones\": \"lasis@reedcons.com\",\n        \"inconsistencia\": 0,\n        \"productName\": \"N-PROPANOL\",\n        \"productLevelAttrName\": \"productLevel\",\n        \"maxLevel\": 13861,\n        \"startAddr\": 240,\n        \"tanqueRojo\": false,\n        \"attributes\": [\n            {\n                \"id\": 142,\n                \"attr\": \"productLevel\",\n                \"shiftAddr\": 0,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 143,\n                \"attr\": \"productTemp\",\n                \"shiftAddr\": 1,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 144,\n                \"attr\": \"vapRoomPress\",\n                \"shiftAddr\": 2,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 145,\n                \"attr\": \"vapRoomTemp\",\n                \"shiftAddr\": 3,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 146,\n                \"attr\": \"DObs\",\n                \"shiftAddr\": 4,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 147,\n                \"attr\": \"productDRef\",\n                \"shiftAddr\": 5,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 148,\n                \"attr\": \"tov\",\n                \"shiftAddr\": 6,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 149,\n                \"attr\": \"gsv\",\n                \"shiftAddr\": 8,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 150,\n                \"attr\": \"tgsv\",\n                \"shiftAddr\": 10,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 151,\n                \"attr\": \"totalMass\",\n                \"shiftAddr\": 12,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 152,\n                \"attr\": \"flowTOV\",\n                \"shiftAddr\": 14,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 153,\n                \"attr\": \"waterLevel\",\n                \"shiftAddr\": 15,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 154,\n                \"attr\": \"waterVol\",\n                \"shiftAddr\": 16,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 155,\n                \"attr\": \"availableRoom\",\n                \"shiftAddr\": 18,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 156,\n                \"attr\": \"availableTOV\",\n                \"shiftAddr\": 20,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 157,\n                \"attr\": \"CTL\",\n                \"shiftAddr\": 22,\n                \"r16\": false,\n                \"scale\": 100000\n            }\n        ]\n    },\n    {\n        \"nivelManual\": 7019,\n        \"nivelManualFechaHora\": 1547726075000,\n        \"tankName\": \"Tk-808\",\n        \"planta\": \"QC Terminales\",\n        \"idTanque\": 8,\n        \"mailNotificaciones\": \"lasis@reedcons.com\",\n        \"inconsistencia\": 1,\n        \"productName\": \"ETHANOL BUEN GUSTO\",\n        \"productLevelAttrName\": \"productLevel\",\n        \"maxLevel\": 13865,\n        \"startAddr\": 280,\n        \"tanqueRojo\": true,\n        \"attributes\": [\n            {\n                \"id\": 176,\n                \"attr\": \"productLevel\",\n                \"shiftAddr\": 0,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 177,\n                \"attr\": \"productTemp\",\n                \"shiftAddr\": 1,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 178,\n                \"attr\": \"vapRoomPress\",\n                \"shiftAddr\": 2,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 179,\n                \"attr\": \"vapRoomTemp\",\n                \"shiftAddr\": 3,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 180,\n                \"attr\": \"DObs\",\n                \"shiftAddr\": 4,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 181,\n                \"attr\": \"productDRef\",\n                \"shiftAddr\": 5,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 182,\n                \"attr\": \"tov\",\n                \"shiftAddr\": 6,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 183,\n                \"attr\": \"gsv\",\n                \"shiftAddr\": 8,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 184,\n                \"attr\": \"tgsv\",\n                \"shiftAddr\": 10,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 185,\n                \"attr\": \"totalMass\",\n                \"shiftAddr\": 12,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 186,\n                \"attr\": \"flowTOV\",\n                \"shiftAddr\": 14,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 187,\n                \"attr\": \"waterLevel\",\n                \"shiftAddr\": 15,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 188,\n                \"attr\": \"waterVol\",\n                \"shiftAddr\": 16,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 189,\n                \"attr\": \"availableRoom\",\n                \"shiftAddr\": 18,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 190,\n                \"attr\": \"availableTOV\",\n                \"shiftAddr\": 20,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 191,\n                \"attr\": \"CTL\",\n                \"shiftAddr\": 22,\n                \"r16\": false,\n                \"scale\": 100000\n            }\n        ]\n    },\n    {\n        \"nivelManual\": 0,\n        \"nivelManualFechaHora\": null,\n        \"tankName\": \"Tk-809\",\n        \"planta\": \"QC Terminales\",\n        \"idTanque\": 9,\n        \"mailNotificaciones\": \"lasis@reedcons.com\",\n        \"inconsistencia\": -1,\n        \"productName\": \"VINIL ACETATO MONOMERO\",\n        \"productLevelAttrName\": \"productLevel\",\n        \"maxLevel\": 13839,\n        \"startAddr\": 320,\n        \"tanqueRojo\": false,\n        \"attributes\": [\n            {\n                \"id\": 207,\n                \"attr\": \"productLevel\",\n                \"shiftAddr\": 0,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 208,\n                \"attr\": \"productTemp\",\n                \"shiftAddr\": 1,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 209,\n                \"attr\": \"vapRoomPress\",\n                \"shiftAddr\": 2,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 210,\n                \"attr\": \"vapRoomTemp\",\n                \"shiftAddr\": 3,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 211,\n                \"attr\": \"DObs\",\n                \"shiftAddr\": 4,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 212,\n                \"attr\": \"productDRef\",\n                \"shiftAddr\": 5,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 213,\n                \"attr\": \"tov\",\n                \"shiftAddr\": 6,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 214,\n                \"attr\": \"gsv\",\n                \"shiftAddr\": 8,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 215,\n                \"attr\": \"tgsv\",\n                \"shiftAddr\": 10,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 216,\n                \"attr\": \"totalMass\",\n                \"shiftAddr\": 12,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 217,\n                \"attr\": \"flowTOV\",\n                \"shiftAddr\": 14,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 218,\n                \"attr\": \"waterLevel\",\n                \"shiftAddr\": 15,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 219,\n                \"attr\": \"waterVol\",\n                \"shiftAddr\": 16,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 220,\n                \"attr\": \"availableRoom\",\n                \"shiftAddr\": 18,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 221,\n                \"attr\": \"availableTOV\",\n                \"shiftAddr\": 20,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 222,\n                \"attr\": \"CTL\",\n                \"shiftAddr\": 22,\n                \"r16\": false,\n                \"scale\": 100000\n            }\n        ]\n    },\n    {\n        \"nivelManual\": 0,\n        \"nivelManualFechaHora\": null,\n        \"tankName\": \"Tk-F100\",\n        \"planta\": \"QC Terminales\",\n        \"idTanque\": 10,\n        \"mailNotificaciones\": \"lasis@reedcons.com\",\n        \"inconsistencia\": -1,\n        \"productName\": \"VINIL ACETATO MONOMERO\",\n        \"productLevelAttrName\": \"productLevel\",\n        \"maxLevel\": 9469,\n        \"startAddr\": 360,\n        \"tanqueRojo\": false,\n        \"attributes\": [\n            {\n                \"id\": 238,\n                \"attr\": \"productLevel\",\n                \"shiftAddr\": 0,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 239,\n                \"attr\": \"productTemp\",\n                \"shiftAddr\": 1,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 240,\n                \"attr\": \"vapRoomPress\",\n                \"shiftAddr\": 2,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 241,\n                \"attr\": \"vapRoomTemp\",\n                \"shiftAddr\": 3,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 242,\n                \"attr\": \"DObs\",\n                \"shiftAddr\": 4,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 243,\n                \"attr\": \"productDRef\",\n                \"shiftAddr\": 5,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 244,\n                \"attr\": \"tov\",\n                \"shiftAddr\": 6,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 245,\n                \"attr\": \"gsv\",\n                \"shiftAddr\": 8,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 246,\n                \"attr\": \"tgsv\",\n                \"shiftAddr\": 10,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 247,\n                \"attr\": \"totalMass\",\n                \"shiftAddr\": 12,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 248,\n                \"attr\": \"flowTOV\",\n                \"shiftAddr\": 14,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 249,\n                \"attr\": \"waterLevel\",\n                \"shiftAddr\": 15,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 250,\n                \"attr\": \"waterVol\",\n                \"shiftAddr\": 16,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 251,\n                \"attr\": \"availableRoom\",\n                \"shiftAddr\": 18,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 252,\n                \"attr\": \"availableTOV\",\n                \"shiftAddr\": 20,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 253,\n                \"attr\": \"CTL\",\n                \"shiftAddr\": 22,\n                \"r16\": false,\n                \"scale\": 100000\n            }\n        ]\n    },\n    {\n        \"nivelManual\": 0,\n        \"nivelManualFechaHora\": null,\n        \"tankName\": \"Tk-F200\",\n        \"planta\": \"QC Terminales\",\n        \"idTanque\": 11,\n        \"mailNotificaciones\": \"lasis@reedcons.com\",\n        \"inconsistencia\": -1,\n        \"productName\": \"SOLUAN32\",\n        \"productLevelAttrName\": \"productLevel\",\n        \"maxLevel\": 17540,\n        \"startAddr\": 400,\n        \"tanqueRojo\": false,\n        \"attributes\": [\n            {\n                \"id\": 269,\n                \"attr\": \"productLevel\",\n                \"shiftAddr\": 0,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 270,\n                \"attr\": \"productTemp\",\n                \"shiftAddr\": 1,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 271,\n                \"attr\": \"vapRoomPress\",\n                \"shiftAddr\": 2,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 272,\n                \"attr\": \"vapRoomTemp\",\n                \"shiftAddr\": 3,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 273,\n                \"attr\": \"DObs\",\n                \"shiftAddr\": 4,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 274,\n                \"attr\": \"productDRef\",\n                \"shiftAddr\": 5,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 275,\n                \"attr\": \"tov\",\n                \"shiftAddr\": 6,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 276,\n                \"attr\": \"gsv\",\n                \"shiftAddr\": 8,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 277,\n                \"attr\": \"tgsv\",\n                \"shiftAddr\": 10,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 278,\n                \"attr\": \"totalMass\",\n                \"shiftAddr\": 12,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 279,\n                \"attr\": \"flowTOV\",\n                \"shiftAddr\": 14,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 280,\n                \"attr\": \"waterLevel\",\n                \"shiftAddr\": 15,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 281,\n                \"attr\": \"waterVol\",\n                \"shiftAddr\": 16,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 282,\n                \"attr\": \"availableRoom\",\n                \"shiftAddr\": 18,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 283,\n                \"attr\": \"availableTOV\",\n                \"shiftAddr\": 20,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 284,\n                \"attr\": \"CTL\",\n                \"shiftAddr\": 22,\n                \"r16\": false,\n                \"scale\": 100000\n            }\n        ]\n    },\n    {\n        \"nivelManual\": 45000,\n        \"nivelManualFechaHora\": 1542204419000,\n        \"tankName\": \"Tk-F300\",\n        \"planta\": \"QC Terminales\",\n        \"idTanque\": 12,\n        \"mailNotificaciones\": \"lasis@reedcons.com\",\n        \"inconsistencia\": 0,\n        \"productName\": \"DOWANOL PM-SOLVENON \",\n        \"productLevelAttrName\": \"productLevel\",\n        \"maxLevel\": 8930,\n        \"startAddr\": 440,\n        \"tanqueRojo\": false,\n        \"attributes\": [\n            {\n                \"id\": 300,\n                \"attr\": \"productLevel\",\n                \"shiftAddr\": 0,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 301,\n                \"attr\": \"productTemp\",\n                \"shiftAddr\": 1,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 302,\n                \"attr\": \"vapRoomPress\",\n                \"shiftAddr\": 2,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 303,\n                \"attr\": \"vapRoomTemp\",\n                \"shiftAddr\": 3,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 304,\n                \"attr\": \"DObs\",\n                \"shiftAddr\": 4,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 305,\n                \"attr\": \"productDRef\",\n                \"shiftAddr\": 5,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 306,\n                \"attr\": \"tov\",\n                \"shiftAddr\": 6,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 307,\n                \"attr\": \"gsv\",\n                \"shiftAddr\": 8,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 308,\n                \"attr\": \"tgsv\",\n                \"shiftAddr\": 10,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 309,\n                \"attr\": \"totalMass\",\n                \"shiftAddr\": 12,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 310,\n                \"attr\": \"flowTOV\",\n                \"shiftAddr\": 14,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 311,\n                \"attr\": \"waterLevel\",\n                \"shiftAddr\": 15,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 312,\n                \"attr\": \"waterVol\",\n                \"shiftAddr\": 16,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 313,\n                \"attr\": \"availableRoom\",\n                \"shiftAddr\": 18,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 314,\n                \"attr\": \"availableTOV\",\n                \"shiftAddr\": 20,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 315,\n                \"attr\": \"CTL\",\n                \"shiftAddr\": 22,\n                \"r16\": false,\n                \"scale\": 100000\n            }\n        ]\n    },\n    {\n        \"nivelManual\": 0,\n        \"nivelManualFechaHora\": null,\n        \"tankName\": \"Tk-F400\",\n        \"planta\": \"QC Terminales\",\n        \"idTanque\": 13,\n        \"mailNotificaciones\": \"lasis@reedcons.com\",\n        \"inconsistencia\": -1,\n        \"productName\": \"N-PROPYL ACETATE\",\n        \"productLevelAttrName\": \"productLevel\",\n        \"maxLevel\": 11420,\n        \"startAddr\": 480,\n        \"tanqueRojo\": false,\n        \"attributes\": [\n            {\n                \"id\": 331,\n                \"attr\": \"productLevel\",\n                \"shiftAddr\": 0,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 332,\n                \"attr\": \"productTemp\",\n                \"shiftAddr\": 1,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 333,\n                \"attr\": \"vapRoomPress\",\n                \"shiftAddr\": 2,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 334,\n                \"attr\": \"vapRoomTemp\",\n                \"shiftAddr\": 3,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 335,\n                \"attr\": \"DObs\",\n                \"shiftAddr\": 4,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 336,\n                \"attr\": \"productDRef\",\n                \"shiftAddr\": 5,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 337,\n                \"attr\": \"tov\",\n                \"shiftAddr\": 6,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 338,\n                \"attr\": \"gsv\",\n                \"shiftAddr\": 8,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 339,\n                \"attr\": \"tgsv\",\n                \"shiftAddr\": 10,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 340,\n                \"attr\": \"totalMass\",\n                \"shiftAddr\": 12,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 341,\n                \"attr\": \"flowTOV\",\n                \"shiftAddr\": 14,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 342,\n                \"attr\": \"waterLevel\",\n                \"shiftAddr\": 15,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 343,\n                \"attr\": \"waterVol\",\n                \"shiftAddr\": 16,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 344,\n                \"attr\": \"availableRoom\",\n                \"shiftAddr\": 18,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 345,\n                \"attr\": \"availableTOV\",\n                \"shiftAddr\": 20,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 346,\n                \"attr\": \"CTL\",\n                \"shiftAddr\": 22,\n                \"r16\": false,\n                \"scale\": 100000\n            }\n        ]\n    },\n    {\n        \"nivelManual\": 0,\n        \"nivelManualFechaHora\": null,\n        \"tankName\": \"Tk-F500\",\n        \"planta\": \"QC Terminales\",\n        \"idTanque\": 14,\n        \"mailNotificaciones\": \"lasis@reedcons.com\",\n        \"inconsistencia\": -1,\n        \"productName\": \"VORANOL 8136\",\n        \"productLevelAttrName\": \"productLevel\",\n        \"maxLevel\": 13288,\n        \"startAddr\": 520,\n        \"tanqueRojo\": false,\n        \"attributes\": [\n            {\n                \"id\": 362,\n                \"attr\": \"productLevel\",\n                \"shiftAddr\": 0,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 363,\n                \"attr\": \"productTemp\",\n                \"shiftAddr\": 1,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 364,\n                \"attr\": \"vapRoomPress\",\n                \"shiftAddr\": 2,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 365,\n                \"attr\": \"vapRoomTemp\",\n                \"shiftAddr\": 3,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 366,\n                \"attr\": \"DObs\",\n                \"shiftAddr\": 4,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 367,\n                \"attr\": \"productDRef\",\n                \"shiftAddr\": 5,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 368,\n                \"attr\": \"tov\",\n                \"shiftAddr\": 6,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 369,\n                \"attr\": \"gsv\",\n                \"shiftAddr\": 8,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 370,\n                \"attr\": \"tgsv\",\n                \"shiftAddr\": 10,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 371,\n                \"attr\": \"totalMass\",\n                \"shiftAddr\": 12,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 372,\n                \"attr\": \"flowTOV\",\n                \"shiftAddr\": 14,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 373,\n                \"attr\": \"waterLevel\",\n                \"shiftAddr\": 15,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 374,\n                \"attr\": \"waterVol\",\n                \"shiftAddr\": 16,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 375,\n                \"attr\": \"availableRoom\",\n                \"shiftAddr\": 18,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 376,\n                \"attr\": \"availableTOV\",\n                \"shiftAddr\": 20,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 377,\n                \"attr\": \"CTL\",\n                \"shiftAddr\": 22,\n                \"r16\": false,\n                \"scale\": 100000\n            }\n        ]\n    },\n    {\n        \"nivelManual\": 0,\n        \"nivelManualFechaHora\": null,\n        \"tankName\": \"Tk-F600\",\n        \"planta\": \"QC Terminales\",\n        \"idTanque\": 15,\n        \"mailNotificaciones\": \"lasis@reedcons.com\",\n        \"inconsistencia\": -1,\n        \"productName\": \"POTASA CAUSTICA\",\n        \"productLevelAttrName\": \"productLevel\",\n        \"maxLevel\": 33000,\n        \"startAddr\": 560,\n        \"tanqueRojo\": false,\n        \"attributes\": [\n            {\n                \"id\": 393,\n                \"attr\": \"productLevel\",\n                \"shiftAddr\": 0,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 394,\n                \"attr\": \"productTemp\",\n                \"shiftAddr\": 1,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 395,\n                \"attr\": \"vapRoomPress\",\n                \"shiftAddr\": 2,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 396,\n                \"attr\": \"vapRoomTemp\",\n                \"shiftAddr\": 3,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 397,\n                \"attr\": \"DObs\",\n                \"shiftAddr\": 4,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 398,\n                \"attr\": \"productDRef\",\n                \"shiftAddr\": 5,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 399,\n                \"attr\": \"tov\",\n                \"shiftAddr\": 6,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 400,\n                \"attr\": \"gsv\",\n                \"shiftAddr\": 8,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 401,\n                \"attr\": \"tgsv\",\n                \"shiftAddr\": 10,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 402,\n                \"attr\": \"totalMass\",\n                \"shiftAddr\": 12,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 403,\n                \"attr\": \"flowTOV\",\n                \"shiftAddr\": 14,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 404,\n                \"attr\": \"waterLevel\",\n                \"shiftAddr\": 15,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 405,\n                \"attr\": \"waterVol\",\n                \"shiftAddr\": 16,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 406,\n                \"attr\": \"availableRoom\",\n                \"shiftAddr\": 18,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 407,\n                \"attr\": \"availableTOV\",\n                \"shiftAddr\": 20,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 408,\n                \"attr\": \"CTL\",\n                \"shiftAddr\": 22,\n                \"r16\": false,\n                \"scale\": 100000\n            }\n        ]\n    },\n    {\n        \"nivelManual\": 30000,\n        \"nivelManualFechaHora\": 1541008787000,\n        \"tankName\": \"Tk-F700\",\n        \"planta\": \"QC Terminales\",\n        \"idTanque\": 16,\n        \"mailNotificaciones\": \"lasis@reedcons.com\",\n        \"inconsistencia\": 0,\n        \"productName\": \"VORANOL 8136\",\n        \"productLevelAttrName\": \"productLevel\",\n        \"maxLevel\": 32767,\n        \"startAddr\": 600,\n        \"tanqueRojo\": false,\n        \"attributes\": [\n            {\n                \"id\": 424,\n                \"attr\": \"productLevel\",\n                \"shiftAddr\": 0,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 425,\n                \"attr\": \"productTemp\",\n                \"shiftAddr\": 1,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 426,\n                \"attr\": \"vapRoomPress\",\n                \"shiftAddr\": 2,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 427,\n                \"attr\": \"vapRoomTemp\",\n                \"shiftAddr\": 3,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 428,\n                \"attr\": \"DObs\",\n                \"shiftAddr\": 4,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 429,\n                \"attr\": \"productDRef\",\n                \"shiftAddr\": 5,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 430,\n                \"attr\": \"tov\",\n                \"shiftAddr\": 6,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 431,\n                \"attr\": \"gsv\",\n                \"shiftAddr\": 8,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 432,\n                \"attr\": \"tgsv\",\n                \"shiftAddr\": 10,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 433,\n                \"attr\": \"totalMass\",\n                \"shiftAddr\": 12,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 434,\n                \"attr\": \"flowTOV\",\n                \"shiftAddr\": 14,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 435,\n                \"attr\": \"waterLevel\",\n                \"shiftAddr\": 15,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 436,\n                \"attr\": \"waterVol\",\n                \"shiftAddr\": 16,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 437,\n                \"attr\": \"availableRoom\",\n                \"shiftAddr\": 18,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 438,\n                \"attr\": \"availableTOV\",\n                \"shiftAddr\": 20,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 439,\n                \"attr\": \"CTL\",\n                \"shiftAddr\": 22,\n                \"r16\": false,\n                \"scale\": 100000\n            }\n        ]\n    },\n    {\n        \"nivelManual\": 0,\n        \"nivelManualFechaHora\": null,\n        \"tankName\": \"Tk-V000\",\n        \"planta\": \"QC Terminales\",\n        \"idTanque\": 26,\n        \"mailNotificaciones\": \"lasis@reedcons.com\",\n        \"inconsistencia\": -1,\n        \"productName\": \"Nafta Super\",\n        \"productLevelAttrName\": \"productLevel\",\n        \"maxLevel\": 15000,\n        \"startAddr\": 1000,\n        \"tanqueRojo\": false,\n        \"attributes\": [\n            {\n                \"id\": 734,\n                \"attr\": \"productLevel\",\n                \"shiftAddr\": 0,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 735,\n                \"attr\": \"productTemp\",\n                \"shiftAddr\": 1,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 736,\n                \"attr\": \"vapRoomPress\",\n                \"shiftAddr\": 2,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 737,\n                \"attr\": \"vapRoomTemp\",\n                \"shiftAddr\": 3,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 738,\n                \"attr\": \"DObs\",\n                \"shiftAddr\": 4,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 739,\n                \"attr\": \"productDRef\",\n                \"shiftAddr\": 5,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 740,\n                \"attr\": \"tov\",\n                \"shiftAddr\": 6,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 741,\n                \"attr\": \"gsv\",\n                \"shiftAddr\": 8,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 742,\n                \"attr\": \"tgsv\",\n                \"shiftAddr\": 10,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 743,\n                \"attr\": \"totalMass\",\n                \"shiftAddr\": 12,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 744,\n                \"attr\": \"flowTOV\",\n                \"shiftAddr\": 14,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 745,\n                \"attr\": \"waterLevel\",\n                \"shiftAddr\": 15,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 746,\n                \"attr\": \"waterVol\",\n                \"shiftAddr\": 16,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 747,\n                \"attr\": \"availableRoom\",\n                \"shiftAddr\": 18,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 748,\n                \"attr\": \"availableTOV\",\n                \"shiftAddr\": 20,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 749,\n                \"attr\": \"CTL\",\n                \"shiftAddr\": 22,\n                \"r16\": false,\n                \"scale\": 100000\n            }\n        ]\n    },\n    {\n        \"nivelManual\": 0,\n        \"nivelManualFechaHora\": null,\n        \"tankName\": \"Tk-v001\",\n        \"planta\": \"QC Terminales\",\n        \"idTanque\": 27,\n        \"mailNotificaciones\": \"lasis@reedcons.com\",\n        \"inconsistencia\": -1,\n        \"productName\": \"Nafta Super\",\n        \"productLevelAttrName\": \"productLevel\",\n        \"maxLevel\": 15000,\n        \"startAddr\": 1040,\n        \"tanqueRojo\": false,\n        \"attributes\": [\n            {\n                \"id\": 765,\n                \"attr\": \"productLevel\",\n                \"shiftAddr\": 0,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 766,\n                \"attr\": \"productTemp\",\n                \"shiftAddr\": 1,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 767,\n                \"attr\": \"vapRoomPress\",\n                \"shiftAddr\": 2,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 768,\n                \"attr\": \"vapRoomTemp\",\n                \"shiftAddr\": 3,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 769,\n                \"attr\": \"DObs\",\n                \"shiftAddr\": 4,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 770,\n                \"attr\": \"productDRef\",\n                \"shiftAddr\": 5,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 771,\n                \"attr\": \"tov\",\n                \"shiftAddr\": 6,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 772,\n                \"attr\": \"gsv\",\n                \"shiftAddr\": 8,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 773,\n                \"attr\": \"tgsv\",\n                \"shiftAddr\": 10,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 774,\n                \"attr\": \"totalMass\",\n                \"shiftAddr\": 12,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 775,\n                \"attr\": \"flowTOV\",\n                \"shiftAddr\": 14,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 776,\n                \"attr\": \"waterLevel\",\n                \"shiftAddr\": 15,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 777,\n                \"attr\": \"waterVol\",\n                \"shiftAddr\": 16,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 778,\n                \"attr\": \"availableRoom\",\n                \"shiftAddr\": 18,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 779,\n                \"attr\": \"availableTOV\",\n                \"shiftAddr\": 20,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 780,\n                \"attr\": \"CTL\",\n                \"shiftAddr\": 22,\n                \"r16\": false,\n                \"scale\": 100000\n            }\n        ]\n    },\n    {\n        \"nivelManual\": 0,\n        \"nivelManualFechaHora\": null,\n        \"tankName\": \"Tk-V002\",\n        \"planta\": \"QC Terminales\",\n        \"idTanque\": 28,\n        \"mailNotificaciones\": \"lasis@reedcons.com\",\n        \"inconsistencia\": -1,\n        \"productName\": \"Nafta Super\",\n        \"productLevelAttrName\": \"productLevel\",\n        \"maxLevel\": 15000,\n        \"startAddr\": 1080,\n        \"tanqueRojo\": false,\n        \"attributes\": [\n            {\n                \"id\": 796,\n                \"attr\": \"productLevel\",\n                \"shiftAddr\": 0,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 797,\n                \"attr\": \"productTemp\",\n                \"shiftAddr\": 1,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 798,\n                \"attr\": \"vapRoomPress\",\n                \"shiftAddr\": 2,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 799,\n                \"attr\": \"vapRoomTemp\",\n                \"shiftAddr\": 3,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 800,\n                \"attr\": \"DObs\",\n                \"shiftAddr\": 4,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 801,\n                \"attr\": \"productDRef\",\n                \"shiftAddr\": 5,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 802,\n                \"attr\": \"tov\",\n                \"shiftAddr\": 6,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 803,\n                \"attr\": \"gsv\",\n                \"shiftAddr\": 8,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 804,\n                \"attr\": \"tgsv\",\n                \"shiftAddr\": 10,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 805,\n                \"attr\": \"totalMass\",\n                \"shiftAddr\": 12,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 806,\n                \"attr\": \"flowTOV\",\n                \"shiftAddr\": 14,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 807,\n                \"attr\": \"waterLevel\",\n                \"shiftAddr\": 15,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 808,\n                \"attr\": \"waterVol\",\n                \"shiftAddr\": 16,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 809,\n                \"attr\": \"availableRoom\",\n                \"shiftAddr\": 18,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 810,\n                \"attr\": \"availableTOV\",\n                \"shiftAddr\": 20,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 811,\n                \"attr\": \"CTL\",\n                \"shiftAddr\": 22,\n                \"r16\": false,\n                \"scale\": 100000\n            }\n        ]\n    },\n    {\n        \"nivelManual\": 0,\n        \"nivelManualFechaHora\": null,\n        \"tankName\": \"Tk-V003\",\n        \"planta\": \"QC Terminales\",\n        \"idTanque\": 29,\n        \"mailNotificaciones\": \"lasis@reedcons.com\",\n        \"inconsistencia\": -1,\n        \"productName\": \"Nafta Super\",\n        \"productLevelAttrName\": \"productLevel\",\n        \"maxLevel\": 15000,\n        \"startAddr\": 1120,\n        \"tanqueRojo\": false,\n        \"attributes\": [\n            {\n                \"id\": 827,\n                \"attr\": \"productLevel\",\n                \"shiftAddr\": 0,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 828,\n                \"attr\": \"productTemp\",\n                \"shiftAddr\": 1,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 829,\n                \"attr\": \"vapRoomPress\",\n                \"shiftAddr\": 2,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 830,\n                \"attr\": \"vapRoomTemp\",\n                \"shiftAddr\": 3,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 831,\n                \"attr\": \"DObs\",\n                \"shiftAddr\": 4,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 832,\n                \"attr\": \"productDRef\",\n                \"shiftAddr\": 5,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 833,\n                \"attr\": \"tov\",\n                \"shiftAddr\": 6,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 834,\n                \"attr\": \"gsv\",\n                \"shiftAddr\": 8,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 835,\n                \"attr\": \"tgsv\",\n                \"shiftAddr\": 10,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 836,\n                \"attr\": \"totalMass\",\n                \"shiftAddr\": 12,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 837,\n                \"attr\": \"flowTOV\",\n                \"shiftAddr\": 14,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 838,\n                \"attr\": \"waterLevel\",\n                \"shiftAddr\": 15,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 839,\n                \"attr\": \"waterVol\",\n                \"shiftAddr\": 16,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 840,\n                \"attr\": \"availableRoom\",\n                \"shiftAddr\": 18,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 841,\n                \"attr\": \"availableTOV\",\n                \"shiftAddr\": 20,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 842,\n                \"attr\": \"CTL\",\n                \"shiftAddr\": 22,\n                \"r16\": false,\n                \"scale\": 100000\n            }\n        ]\n    },\n    {\n        \"nivelManual\": 0,\n        \"nivelManualFechaHora\": 1541008734000,\n        \"tankName\": \"Tk-V004\",\n        \"planta\": \"QC Terminales\",\n        \"idTanque\": 30,\n        \"mailNotificaciones\": \"lasis@reedcons.com\",\n        \"inconsistencia\": -1,\n        \"productName\": \"Nafta Super\",\n        \"productLevelAttrName\": \"productLevel\",\n        \"maxLevel\": 15000,\n        \"startAddr\": 1160,\n        \"tanqueRojo\": false,\n        \"attributes\": [\n            {\n                \"id\": 858,\n                \"attr\": \"productLevel\",\n                \"shiftAddr\": 0,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 859,\n                \"attr\": \"productTemp\",\n                \"shiftAddr\": 1,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 860,\n                \"attr\": \"vapRoomPress\",\n                \"shiftAddr\": 2,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 861,\n                \"attr\": \"vapRoomTemp\",\n                \"shiftAddr\": 3,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 862,\n                \"attr\": \"DObs\",\n                \"shiftAddr\": 4,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 863,\n                \"attr\": \"productDRef\",\n                \"shiftAddr\": 5,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 864,\n                \"attr\": \"tov\",\n                \"shiftAddr\": 6,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 865,\n                \"attr\": \"gsv\",\n                \"shiftAddr\": 8,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 866,\n                \"attr\": \"tgsv\",\n                \"shiftAddr\": 10,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 867,\n                \"attr\": \"totalMass\",\n                \"shiftAddr\": 12,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 868,\n                \"attr\": \"flowTOV\",\n                \"shiftAddr\": 14,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 869,\n                \"attr\": \"waterLevel\",\n                \"shiftAddr\": 15,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 870,\n                \"attr\": \"waterVol\",\n                \"shiftAddr\": 16,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 871,\n                \"attr\": \"availableRoom\",\n                \"shiftAddr\": 18,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 872,\n                \"attr\": \"availableTOV\",\n                \"shiftAddr\": 20,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 873,\n                \"attr\": \"CTL\",\n                \"shiftAddr\": 22,\n                \"r16\": false,\n                \"scale\": 100000\n            }\n        ]\n    }\n]",
        "output": "json",
        "x": 531.6666946411133,
        "y": 610.0000076293945,
        "wires": [
            [
                "f634afad.15df"
            ]
        ]
    },
    {
        "id": "f634afad.15df",
        "type": "http response",
        "z": "10108ae0.c69e55",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 710,
        "y": 600,
        "wires": []
    },
    {
        "id": "9a1fa053.0f91b",
        "type": "function",
        "z": "10108ae0.c69e55",
        "name": "Prepare Request",
        "func": "msg.headers={xauthtoken:flow.get(\"data.authToken\").token};\nmsg.url=flow.get(\"data.urlBase\")+\"/api/v1/tanques/ciudata/\"+flow.get(\"data.idCompania\")+\"/\"+flow.get(\"data.idCiu\")+\"?store=\"+msg.llamarws;\n\nvar newPayload=[];\nvar payload=JSON.parse(msg.payload);\npayload.forEach(function(o,i){\n    if(o.payload) {\n        newPayload.push(o);\n    }\n});\nnode.warn(newPayload)\nmsg.payload=JSON.stringify(newPayload);\nmsg.hayDatos=newPayload.length>0;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1470,
        "y": 1230,
        "wires": [
            [
                "6d38a20b.dce76c",
                "57a8f5d1.e5eddc"
            ]
        ]
    },
    {
        "id": "a01a6f98.c2923",
        "type": "http request",
        "z": "10108ae0.c69e55",
        "name": "",
        "method": "POST",
        "ret": "txt",
        "paytoqs": false,
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "x": 1730,
        "y": 1400,
        "wires": [
            [
                "c887e9e5.3bee18"
            ]
        ]
    },
    {
        "id": "c887e9e5.3bee18",
        "type": "debug",
        "z": "10108ae0.c69e55",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 1910,
        "y": 1320,
        "wires": []
    },
    {
        "id": "6d38a20b.dce76c",
        "type": "switch",
        "z": "10108ae0.c69e55",
        "name": "hay datos?",
        "property": "hayDatos",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1570,
        "y": 1330,
        "wires": [
            [
                "a01a6f98.c2923"
            ]
        ]
    },
    {
        "id": "c121a43d.6ca0f8",
        "type": "debug",
        "z": "10108ae0.c69e55",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 1020,
        "y": 940,
        "wires": []
    },
    {
        "id": "49eea916.db1b78",
        "type": "json",
        "z": "10108ae0.c69e55",
        "name": "",
        "property": "payload",
        "action": "obj",
        "pretty": false,
        "x": 910,
        "y": 1000,
        "wires": [
            [
                "c121a43d.6ca0f8"
            ]
        ]
    },
    {
        "id": "d7b43d9b.67f6e",
        "type": "inject",
        "z": "38dbe062.1e867",
        "name": "",
        "repeat": "0.5",
        "crontab": "",
        "once": false,
        "onceDelay": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 127.1429443359375,
        "y": 683.8571310043335,
        "wires": [
            [
                "6751ae19.b12f9"
            ]
        ]
    },
    {
        "id": "6751ae19.b12f9",
        "type": "function",
        "z": "38dbe062.1e867",
        "name": "enable",
        "func": "if(flow.get(\"enabled\")){\n   flow.set(\"count\", flow.get(\"count\") + 1);\n   msg.payload = {'fc': flow.get(\"FC\"), 'unitid': flow.get(\"unitid\"), 'address': flow.get(\"address\") , 'quantity': flow.get(\"length\"), 'conversion': flow.get(\"conversion\") };\n}else\n    msg = null;\n    \nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 309.1429443359375,
        "y": 683.8571310043335,
        "wires": [
            [
                "2c9a4a01.cc2a86"
            ]
        ]
    },
    {
        "id": "1ddf115b.57d64f",
        "type": "ui_button",
        "z": "38dbe062.1e867",
        "name": "",
        "group": "ebcd37d1.e8b1b8",
        "order": 8,
        "width": "3",
        "height": "1",
        "passthru": false,
        "label": "Start",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "1",
        "payloadType": "num",
        "topic": "",
        "x": 429.6429443359375,
        "y": 861.8571310043335,
        "wires": [
            [
                "f5abaec.991715"
            ]
        ]
    },
    {
        "id": "f5abaec.991715",
        "type": "function",
        "z": "38dbe062.1e867",
        "name": "enable",
        "func": "flow.set(\"enabled\", true);\nflow.set(\"count\", 0);",
        "outputs": "0",
        "noerr": 0,
        "x": 598.1429443359375,
        "y": 861.8571310043335,
        "wires": []
    },
    {
        "id": "f2d82bc0.c83a38",
        "type": "ui_button",
        "z": "38dbe062.1e867",
        "name": "",
        "group": "ebcd37d1.e8b1b8",
        "order": 9,
        "width": "3",
        "height": "1",
        "passthru": false,
        "label": "Stop",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "1",
        "payloadType": "num",
        "topic": "",
        "x": 429.1429443359375,
        "y": 912.8571310043335,
        "wires": [
            [
                "9cf92ec3.5a88f"
            ]
        ]
    },
    {
        "id": "9cf92ec3.5a88f",
        "type": "function",
        "z": "38dbe062.1e867",
        "name": "disable",
        "func": "flow.set(\"enabled\", false);",
        "outputs": "0",
        "noerr": 0,
        "x": 605.6429443359375,
        "y": 912.8571310043335,
        "wires": []
    },
    {
        "id": "37a192b3.c99f6e",
        "type": "function",
        "z": "38dbe062.1e867",
        "name": "save",
        "func": "flow.set(\"address\", msg.payload);",
        "outputs": "0",
        "noerr": 0,
        "x": 595.1429443359375,
        "y": 955.8571310043335,
        "wires": []
    },
    {
        "id": "ac73ce0e.a9dbe",
        "type": "function",
        "z": "38dbe062.1e867",
        "name": "save",
        "func": "flow.set(\"length\", msg.payload);",
        "outputs": "0",
        "noerr": 0,
        "x": 596.1429443359375,
        "y": 1000.8571310043335,
        "wires": []
    },
    {
        "id": "8095f037.0f2ca",
        "type": "function",
        "z": "38dbe062.1e867",
        "name": "save",
        "func": "flow.set(\"FC\", msg.payload);",
        "outputs": "0",
        "noerr": 0,
        "x": 593.1429443359375,
        "y": 1043.8571310043335,
        "wires": []
    },
    {
        "id": "2c9a4a01.cc2a86",
        "type": "modbus-flex-getter",
        "z": "38dbe062.1e867",
        "name": "read",
        "showStatusActivities": false,
        "showErrors": false,
        "server": "a33316e0.a81ea8",
        "x": 460.1429443359375,
        "y": 682.8571310043335,
        "wires": [
            [
                "6f9cd059.83ec9",
                "71af7d79.10ca74"
            ],
            []
        ]
    },
    {
        "id": "d4cce8f1.b13ca8",
        "type": "ui_template",
        "z": "38dbe062.1e867",
        "group": "908629b1.5fd378",
        "name": "",
        "order": 5,
        "width": "6",
        "height": "10",
        "format": "<div style=\"width:100%;\">\n    <div style=\"display:inline-block; width:25%;\" ng-repeat=\"x in msg.payload track by $index\">\n        {{!msg.input.payload.conversion ? \n        ($index + msg.input.payload.address) : \n        (($index*2 + msg.input.payload.address)+'-'+($index*2 + msg.input.payload.address+1))}} : {{ x }}\n    </div>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 1485.14306640625,
        "y": 692.8571166992188,
        "wires": [
            []
        ]
    },
    {
        "id": "b4971e99.cee9c",
        "type": "inject",
        "z": "38dbe062.1e867",
        "name": "init",
        "repeat": "",
        "crontab": "",
        "once": true,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 160.1429443359375,
        "y": 862.8571310043335,
        "wires": [
            [
                "fb0d7b36.b26d38"
            ]
        ]
    },
    {
        "id": "fb0d7b36.b26d38",
        "type": "function",
        "z": "38dbe062.1e867",
        "name": "init",
        "func": "flow.set(\"FC\", 3);\nflow.set(\"address\", 1);\nflow.set(\"length\", 1);\nflow.set(\"enabled\", false);\nflow.set(\"count\", 0);\nflow.set(\"conversion\", 0);\nflow.set(\"hex\", 0);\nflow.set(\"conversion_float\", 0);",
        "outputs": "0",
        "noerr": 0,
        "x": 289.1429443359375,
        "y": 862.8571310043335,
        "wires": []
    },
    {
        "id": "df600722.152ae8",
        "type": "inject",
        "z": "38dbe062.1e867",
        "name": "init",
        "repeat": "0.5",
        "crontab": "",
        "once": false,
        "onceDelay": "",
        "topic": "",
        "payload": "count",
        "payloadType": "flow",
        "x": 482.1429443359375,
        "y": 623.8571310043335,
        "wires": [
            [
                "8a1d135d.56dd8"
            ]
        ]
    },
    {
        "id": "8a1d135d.56dd8",
        "type": "ui_text",
        "z": "38dbe062.1e867",
        "group": "908629b1.5fd378",
        "order": 1,
        "width": "5",
        "height": "1",
        "name": "read count",
        "label": "Total reads: ",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 637.6429748535156,
        "y": 623.8571329116821,
        "wires": []
    },
    {
        "id": "431c4a69.a226e4",
        "type": "status",
        "z": "38dbe062.1e867",
        "name": "",
        "scope": [
            "2c9a4a01.cc2a86"
        ],
        "x": 113.6429443359375,
        "y": 623.8571310043335,
        "wires": [
            [
                "2b2b85d.cbd467a"
            ]
        ]
    },
    {
        "id": "2b2b85d.cbd467a",
        "type": "ui_text",
        "z": "38dbe062.1e867",
        "group": "908629b1.5fd378",
        "order": 2,
        "width": "5",
        "height": "1",
        "name": "Modbus status",
        "label": "Status:",
        "format": "{{msg.status.text}}",
        "layout": "row-spread",
        "x": 294.1429443359375,
        "y": 623.8571310043335,
        "wires": []
    },
    {
        "id": "cf5c9f1e.153f5",
        "type": "function",
        "z": "38dbe062.1e867",
        "name": "16To32Bit",
        "func": "var values32bit = [];\n\nfor(var i=0;i<msg.payload.length;i++){\n    var tmp = msg.payload[i].toString(2);\n    tmp = tmp.length < 16 ? '0'.repeat(16-tmp.length) + tmp : tmp;\n    i++;\n    var tmp1 = i < msg.payload.length ? msg.payload[i].toString(2) : '0000000000000000';\n    tmp1 = tmp1.length < 16 ? '0'.repeat(16-tmp1.length) + tmp1 : tmp1;\n    var value = parseInt(tmp1+tmp,2);\n    if(flow.get('hex')) value = '0x'+value.toString(16).toUpperCase();\n        \n    values32bit.push(value);\n}\n\nmsg.payload = values32bit;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 885.1429977416992,
        "y": 707.8571300506592,
        "wires": [
            [
                "fb7c63b3.9e3e7"
            ]
        ]
    },
    {
        "id": "71af7d79.10ca74",
        "type": "switch",
        "z": "38dbe062.1e867",
        "name": "",
        "property": "conversion",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 670.6429443359375,
        "y": 675.8571166992188,
        "wires": [
            [
                "afddc400.6aae98"
            ],
            [
                "4dc4180d.306e08",
                "5110506f.2f5d8"
            ]
        ]
    },
    {
        "id": "72cf6399.06edcc",
        "type": "ui_switch",
        "z": "38dbe062.1e867",
        "name": "",
        "label": "32 bit",
        "group": "ebcd37d1.e8b1b8",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": false,
        "decouple": "true",
        "topic": "",
        "style": "",
        "onvalue": "1",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "x": 429.6429443359375,
        "y": 1083.8571310043335,
        "wires": [
            [
                "26c9c24c.2cf03e"
            ]
        ]
    },
    {
        "id": "26c9c24c.2cf03e",
        "type": "function",
        "z": "38dbe062.1e867",
        "name": "save",
        "func": "flow.set(\"conversion\", msg.payload);\nif(!flow.get(\"conversion\") && flow.get(\"conversion_float\"))\n flow.set(\"conversion_float\", 0);",
        "outputs": "0",
        "noerr": 0,
        "x": 592.1429443359375,
        "y": 1083.8571310043335,
        "wires": []
    },
    {
        "id": "68310679.06ea38",
        "type": "ui_dropdown",
        "z": "38dbe062.1e867",
        "name": "",
        "label": "FC",
        "place": "FC",
        "group": "ebcd37d1.e8b1b8",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": false,
        "options": [
            {
                "label": "Read Coil Status FC 1",
                "value": 1,
                "type": "num"
            },
            {
                "label": "Read Holding Register FC 3",
                "value": 3,
                "type": "num"
            },
            {
                "label": "Read Status Register FC 4",
                "value": 4,
                "type": "num"
            }
        ],
        "payload": "",
        "topic": "",
        "x": 429.1429443359375,
        "y": 1043.8571310043335,
        "wires": [
            [
                "8095f037.0f2ca"
            ]
        ]
    },
    {
        "id": "78a4866d.4025e8",
        "type": "inject",
        "z": "38dbe062.1e867",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": true,
        "topic": "",
        "payload": "address",
        "payloadType": "flow",
        "x": 214.1429443359375,
        "y": 955.8571310043335,
        "wires": [
            [
                "91ece5fa.1ffc98"
            ]
        ]
    },
    {
        "id": "1d3ce01c.3593d",
        "type": "inject",
        "z": "38dbe062.1e867",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": true,
        "topic": "",
        "payload": "length",
        "payloadType": "flow",
        "x": 213.1429443359375,
        "y": 1000.8571310043335,
        "wires": [
            [
                "3a8cc7bc.b08f68"
            ]
        ]
    },
    {
        "id": "1acdaaff.912ed5",
        "type": "inject",
        "z": "38dbe062.1e867",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": true,
        "topic": "",
        "payload": "FC",
        "payloadType": "flow",
        "x": 202.1429443359375,
        "y": 1043.8571310043335,
        "wires": [
            [
                "68310679.06ea38"
            ]
        ]
    },
    {
        "id": "5493aca7.7137c4",
        "type": "inject",
        "z": "38dbe062.1e867",
        "name": "",
        "repeat": "0.1",
        "crontab": "",
        "once": true,
        "topic": "",
        "payload": "conversion",
        "payloadType": "flow",
        "x": 230.1429443359375,
        "y": 1083.8571310043335,
        "wires": [
            [
                "72cf6399.06edcc"
            ]
        ]
    },
    {
        "id": "81d5179f.9498d8",
        "type": "modbus-flex-write",
        "z": "38dbe062.1e867",
        "name": "write",
        "showStatusActivities": false,
        "showErrors": false,
        "server": "a33316e0.a81ea8",
        "x": 1173.1429443359375,
        "y": 862.8571310043335,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "8824cebb.3c193",
        "type": "ui_button",
        "z": "38dbe062.1e867",
        "name": "write",
        "group": "2566cc2e.826e34",
        "order": 5,
        "width": "6",
        "height": "1",
        "passthru": false,
        "label": "WRITE",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "true",
        "payloadType": "bool",
        "topic": "",
        "x": 868.1429443359375,
        "y": 862.8571310043335,
        "wires": [
            [
                "5d79219.46c82e"
            ]
        ]
    },
    {
        "id": "5d79219.46c82e",
        "type": "function",
        "z": "38dbe062.1e867",
        "name": "enable",
        "func": "var value = flow.get(\"value\");\n\nif(flow.get(\"conversion_write\"))\n    value = parseInt(value, 16);\nelse value = parseInt(value);\n\nmsg.payload = {'value': value, 'fc': flow.get(\"FC_WRITE\"), 'unitid': flow.get(\"unitid\"), 'address': flow.get(\"address_write\") , 'quantity': 1 };\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1018.1429443359375,
        "y": 862.8571310043335,
        "wires": [
            [
                "81d5179f.9498d8"
            ]
        ]
    },
    {
        "id": "bcfb6e62.53ed",
        "type": "function",
        "z": "38dbe062.1e867",
        "name": "save",
        "func": "flow.set(\"address_write\", msg.payload);",
        "outputs": "0",
        "noerr": 0,
        "x": 1287.6429443359375,
        "y": 977.8571310043335,
        "wires": []
    },
    {
        "id": "b741861d.230c28",
        "type": "function",
        "z": "38dbe062.1e867",
        "name": "save",
        "func": "flow.set(\"FC_WRITE\", msg.payload);",
        "outputs": "0",
        "noerr": 0,
        "x": 1288.6429443359375,
        "y": 1018.8571310043335,
        "wires": []
    },
    {
        "id": "13052c32.6c7e44",
        "type": "inject",
        "z": "38dbe062.1e867",
        "name": "init",
        "repeat": "",
        "crontab": "",
        "once": true,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 883.6429443359375,
        "y": 923.8571310043335,
        "wires": [
            [
                "b1b2f82c.3a4d48"
            ]
        ]
    },
    {
        "id": "b1b2f82c.3a4d48",
        "type": "function",
        "z": "38dbe062.1e867",
        "name": "init",
        "func": "flow.set(\"FC_WRITE\", 6);\nflow.set(\"address_write\", 1);\nflow.set(\"conversion_write\", 0);",
        "outputs": "0",
        "noerr": 0,
        "x": 1012.6429443359375,
        "y": 923.8571310043335,
        "wires": []
    },
    {
        "id": "fed540b8.c6b66",
        "type": "ui_switch",
        "z": "38dbe062.1e867",
        "name": "",
        "label": "Hex to Int",
        "group": "2566cc2e.826e34",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": false,
        "decouple": "true",
        "topic": "",
        "style": "",
        "onvalue": "1",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "x": 1133.1429443359375,
        "y": 1058.8571310043335,
        "wires": [
            [
                "dbaeb529.b6a5a8"
            ]
        ]
    },
    {
        "id": "dbaeb529.b6a5a8",
        "type": "function",
        "z": "38dbe062.1e867",
        "name": "save",
        "func": "flow.set(\"conversion_write\", msg.payload);",
        "outputs": "0",
        "noerr": 0,
        "x": 1289.6429443359375,
        "y": 1058.8571310043335,
        "wires": []
    },
    {
        "id": "42a658d0.78d948",
        "type": "ui_dropdown",
        "z": "38dbe062.1e867",
        "name": "",
        "label": "FC",
        "place": "FC",
        "group": "2566cc2e.826e34",
        "order": 3,
        "width": "0",
        "height": "0",
        "passthru": false,
        "options": [
            {
                "label": "Force Single Coil FC 5",
                "value": "5",
                "type": "str"
            },
            {
                "label": "Force Single Register FC 6",
                "value": 6,
                "type": "num"
            }
        ],
        "payload": "",
        "topic": "",
        "x": 1124.6429443359375,
        "y": 1018.8571310043335,
        "wires": [
            [
                "b741861d.230c28"
            ]
        ]
    },
    {
        "id": "701633d.0c832cc",
        "type": "inject",
        "z": "38dbe062.1e867",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": true,
        "topic": "",
        "payload": "address_write",
        "payloadType": "flow",
        "x": 924.6429443359375,
        "y": 977.8571310043335,
        "wires": [
            [
                "7695dffb.57bd9"
            ]
        ]
    },
    {
        "id": "1789c0a5.46293f",
        "type": "inject",
        "z": "38dbe062.1e867",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": true,
        "topic": "",
        "payload": "FC_WRITE",
        "payloadType": "flow",
        "x": 915.6429443359375,
        "y": 1018.8571310043335,
        "wires": [
            [
                "42a658d0.78d948"
            ]
        ]
    },
    {
        "id": "2cb9fe79.35f142",
        "type": "inject",
        "z": "38dbe062.1e867",
        "name": "",
        "repeat": "0.1",
        "crontab": "",
        "once": true,
        "onceDelay": "",
        "topic": "",
        "payload": "conversion_write",
        "payloadType": "flow",
        "x": 933.6429443359375,
        "y": 1058.8571310043335,
        "wires": [
            [
                "fed540b8.c6b66"
            ]
        ]
    },
    {
        "id": "893f0364.95015",
        "type": "ui_text_input",
        "z": "38dbe062.1e867",
        "name": "",
        "label": "Value",
        "group": "2566cc2e.826e34",
        "order": 2,
        "width": "3",
        "height": "1",
        "passthru": false,
        "mode": "text",
        "delay": "100",
        "topic": "",
        "x": 1122.1429443359375,
        "y": 1098.8571310043335,
        "wires": [
            [
                "4ad4543.53282ac"
            ]
        ]
    },
    {
        "id": "4ad4543.53282ac",
        "type": "function",
        "z": "38dbe062.1e867",
        "name": "save",
        "func": "flow.set(\"value\", msg.payload);",
        "outputs": "0",
        "noerr": 0,
        "x": 1288.6429443359375,
        "y": 1098.8571310043335,
        "wires": []
    },
    {
        "id": "28c6994b.806ca6",
        "type": "comment",
        "z": "38dbe062.1e867",
        "name": "READ",
        "info": "",
        "x": 74.6429443359375,
        "y": 809.8571310043335,
        "wires": []
    },
    {
        "id": "cbe367cf.457888",
        "type": "comment",
        "z": "38dbe062.1e867",
        "name": "WRITE",
        "info": "",
        "x": 804.1429443359375,
        "y": 810.8571310043335,
        "wires": []
    },
    {
        "id": "938b1ee1.c9986",
        "type": "comment",
        "z": "38dbe062.1e867",
        "name": "OUTPUT",
        "info": "",
        "x": 86.1429443359375,
        "y": 570.8571310043335,
        "wires": []
    },
    {
        "id": "e7cb057f.5ed578",
        "type": "ui_switch",
        "z": "38dbe062.1e867",
        "name": "",
        "label": "Hex Values",
        "group": "ebcd37d1.e8b1b8",
        "order": 7,
        "width": 0,
        "height": 0,
        "passthru": false,
        "decouple": "true",
        "topic": "",
        "style": "",
        "onvalue": "1",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "x": 435.9085693359375,
        "y": 1130.6071310043335,
        "wires": [
            [
                "ddf4e153.8b8cc"
            ]
        ]
    },
    {
        "id": "ddf4e153.8b8cc",
        "type": "function",
        "z": "38dbe062.1e867",
        "name": "save",
        "func": "flow.set(\"hex\", msg.payload);\n\nif(flow.get(\"hex\") && flow.get(\"conversion_float\"))\n flow.set(\"conversion_float\", 0);",
        "outputs": "0",
        "noerr": 0,
        "x": 589.4085693359375,
        "y": 1130.6071310043335,
        "wires": []
    },
    {
        "id": "72243490.c576ec",
        "type": "inject",
        "z": "38dbe062.1e867",
        "name": "",
        "repeat": "0.1",
        "crontab": "",
        "once": true,
        "onceDelay": "",
        "topic": "",
        "payload": "hex",
        "payloadType": "flow",
        "x": 200.4085693359375,
        "y": 1130.6071310043335,
        "wires": [
            [
                "e7cb057f.5ed578"
            ]
        ]
    },
    {
        "id": "afddc400.6aae98",
        "type": "switch",
        "z": "38dbe062.1e867",
        "name": "",
        "property": "hex",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "outputs": 2,
        "x": 878.9086074829102,
        "y": 669.6071166992188,
        "wires": [
            [
                "8d50fca1.c574c"
            ],
            [
                "d4cce8f1.b13ca8",
                "6db527cf.7ff708"
            ]
        ]
    },
    {
        "id": "8d50fca1.c574c",
        "type": "function",
        "z": "38dbe062.1e867",
        "name": "toHex",
        "func": "for(var i=0;i<msg.payload.length;i++)\n   msg.payload[i] = '0x'+msg.payload[i].toString(16).toUpperCase();\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1032.9085693359375,
        "y": 615.6071166992188,
        "wires": [
            [
                "d4cce8f1.b13ca8",
                "6db527cf.7ff708"
            ]
        ]
    },
    {
        "id": "f32b63a3.59696",
        "type": "inject",
        "z": "38dbe062.1e867",
        "name": "",
        "repeat": "0.1",
        "crontab": "",
        "once": true,
        "onceDelay": "",
        "topic": "",
        "payload": "conversion_float",
        "payloadType": "flow",
        "x": 221.1429443359375,
        "y": 1176.8571310043335,
        "wires": [
            [
                "659de438.66ea7c"
            ]
        ]
    },
    {
        "id": "659de438.66ea7c",
        "type": "ui_switch",
        "z": "38dbe062.1e867",
        "name": "",
        "label": "Float",
        "group": "ebcd37d1.e8b1b8",
        "order": 6,
        "width": 0,
        "height": 0,
        "passthru": false,
        "decouple": "true",
        "topic": "",
        "style": "",
        "onvalue": "1",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "x": 410.6429443359375,
        "y": 1176.8571310043335,
        "wires": [
            [
                "472d4ba3.efe194"
            ]
        ]
    },
    {
        "id": "472d4ba3.efe194",
        "type": "function",
        "z": "38dbe062.1e867",
        "name": "save",
        "func": "flow.set(\"conversion_float\", msg.payload);\nif(!flow.get(\"conversion\") && flow.get(\"conversion_float\"))\n flow.set(\"conversion\", 1);\n\nif(flow.get(\"conversion_float\"))\n    flow.set(\"hex\", 0);",
        "outputs": "0",
        "noerr": 0,
        "x": 587.1429443359375,
        "y": 1176.8571310043335,
        "wires": []
    },
    {
        "id": "fb7c63b3.9e3e7",
        "type": "switch",
        "z": "38dbe062.1e867",
        "name": "",
        "property": "conversion_float",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "outputs": 2,
        "x": 1031.1429443359375,
        "y": 737.8571166992188,
        "wires": [
            [
                "d4cce8f1.b13ca8",
                "6db527cf.7ff708"
            ],
            [
                "e55f64f2.ee19e8",
                "a811f6ca.cd0a58"
            ]
        ]
    },
    {
        "id": "50f861da.01375",
        "type": "comment",
        "z": "38dbe062.1e867",
        "name": "CONNECTION",
        "info": "",
        "x": 118.46179962158203,
        "y": 41.56597328186035,
        "wires": []
    },
    {
        "id": "ab037e01.634ff",
        "type": "ui_text_input",
        "z": "38dbe062.1e867",
        "name": "",
        "label": "Address",
        "group": "65a439a1.236948",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "",
        "x": 546.4617919921875,
        "y": 131.01041412353516,
        "wires": [
            [
                "4ffd1bd.54acce4"
            ]
        ]
    },
    {
        "id": "c8edb066.64b72",
        "type": "modbus-flex-connector",
        "z": "38dbe062.1e867",
        "name": "connection",
        "maxReconnectsPerMinute": 4,
        "emptyQueue": false,
        "showStatusActivities": false,
        "showErrors": false,
        "server": "a33316e0.a81ea8",
        "x": 450.46185302734375,
        "y": 385.01045298576355,
        "wires": [
            []
        ]
    },
    {
        "id": "123edae4.8e0ba5",
        "type": "ui_text_input",
        "z": "38dbe062.1e867",
        "name": "",
        "label": "Port",
        "tooltip": "",
        "group": "65a439a1.236948",
        "order": 4,
        "width": "3",
        "height": "1",
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "",
        "x": 536.4791259765625,
        "y": 175.01040649414062,
        "wires": [
            [
                "5069868e.00a3d8"
            ]
        ]
    },
    {
        "id": "4ffd1bd.54acce4",
        "type": "function",
        "z": "38dbe062.1e867",
        "name": "save",
        "func": "var options = flow.get(\"TCP_Connection\") || {};\n\noptions.tcpHost = msg.payload;\n\nflow.set(\"TCP_Connection\", options);",
        "outputs": "0",
        "noerr": 0,
        "x": 700.017333984375,
        "y": 131.23263549804688,
        "wires": []
    },
    {
        "id": "5069868e.00a3d8",
        "type": "function",
        "z": "38dbe062.1e867",
        "name": "save",
        "func": "var options = flow.get(\"TCP_Connection\") || {};\n\noptions.tcpPort = msg.payload;\n\nflow.set(\"TCP_Connection\", options);",
        "outputs": "0",
        "noerr": 0,
        "x": 698.017333984375,
        "y": 175.23263549804688,
        "wires": []
    },
    {
        "id": "3d3c06d4.17bb6a",
        "type": "ui_text_input",
        "z": "38dbe062.1e867",
        "name": "",
        "label": "Unit ID",
        "group": "65a439a1.236948",
        "order": 5,
        "width": "3",
        "height": "1",
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "",
        "x": 535.4791412353516,
        "y": 225.23263549804688,
        "wires": [
            [
                "88af35cc.6c5728"
            ]
        ]
    },
    {
        "id": "88af35cc.6c5728",
        "type": "function",
        "z": "38dbe062.1e867",
        "name": "save",
        "func": "var options = flow.get(\"TCP_Connection\") || {};\n\noptions.unitId = msg.payload;\n\nflow.set(\"TCP_Connection\", options);",
        "outputs": "0",
        "noerr": 0,
        "x": 697.0173492431641,
        "y": 225.45486450195312,
        "wires": []
    },
    {
        "id": "31e5cb09.bb6024",
        "type": "inject",
        "z": "38dbe062.1e867",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": true,
        "topic": "",
        "payload": "TCP_Connection",
        "payloadType": "flow",
        "x": 136,
        "y": 147.23263549804688,
        "wires": [
            [
                "9f07604c.fc7ce",
                "94d1f474.d13ec8",
                "47f05899.05a278",
                "6f3e8af8.884f64"
            ]
        ]
    },
    {
        "id": "9f07604c.fc7ce",
        "type": "change",
        "z": "38dbe062.1e867",
        "name": "set",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.tcpHost",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 385.0173645019531,
        "y": 131.23263549804688,
        "wires": [
            [
                "ab037e01.634ff"
            ]
        ]
    },
    {
        "id": "94d1f474.d13ec8",
        "type": "change",
        "z": "38dbe062.1e867",
        "name": "set",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.tcpPort",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 383.0173645019531,
        "y": 175.23263549804688,
        "wires": [
            [
                "123edae4.8e0ba5"
            ]
        ]
    },
    {
        "id": "47f05899.05a278",
        "type": "change",
        "z": "38dbe062.1e867",
        "name": "set",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.unitId",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 380.0173645019531,
        "y": 225.23263549804688,
        "wires": [
            [
                "3d3c06d4.17bb6a"
            ]
        ]
    },
    {
        "id": "ceaa143b.48f888",
        "type": "ui_button",
        "z": "38dbe062.1e867",
        "name": "connectTCP",
        "group": "65a439a1.236948",
        "order": 6,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Connect",
        "color": "",
        "bgcolor": "",
        "icon": "compare_arrows",
        "payload": "TCP_Connection",
        "payloadType": "flow",
        "topic": "",
        "x": 109.01741790771484,
        "y": 357.2326593399048,
        "wires": [
            [
                "76f35dff.dbb824"
            ]
        ]
    },
    {
        "id": "76f35dff.dbb824",
        "type": "function",
        "z": "38dbe062.1e867",
        "name": "connect",
        "func": "var options = msg.payload;\nvar error = {topic: \"TCP Connect\"};\nvar configs = flow.get('configs_TCP') || [];\n\noptions.connectorType = \"TCP\";\n\nif(!options.name || options.name === \"\"){\n    options.name = \"No name\";\n}\n\nif(!options.tcpPort)\n    options.tcpPort = 502;\n\nif(!options.tcpHost){\n    error.payload = \"TCP Host address not Valid\";\n    node.error(\"Error\",error);\n    return;\n}\n\nvar index = configs.findIndex(function(conf) {\n    return conf.name == options.name;\n});\n\nif(index < 0)\n    configs.push(options);\nelse\n    configs[index] = options;\n    \nflow.set('configs_TCP', configs);\n\nnode.send([msg, {payload:configs, topic:\"init\"}]);",
        "outputs": "2",
        "noerr": 0,
        "x": 288.0174217224121,
        "y": 357.23265838623047,
        "wires": [
            [
                "c8edb066.64b72",
                "772a71c2.93981"
            ],
            [
                "a3a1e558.c40498"
            ]
        ]
    },
    {
        "id": "79334783.5b7198",
        "type": "ui_text_input",
        "z": "38dbe062.1e867",
        "name": "custom port",
        "label": "or choose a custom Port",
        "group": "a64203cd.5b6a7",
        "order": 4,
        "width": "6",
        "height": "1",
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "",
        "x": 1330.03466796875,
        "y": 157.23262786865234,
        "wires": [
            [
                "5d5f6853.f243b8"
            ]
        ]
    },
    {
        "id": "140c5238.84930e",
        "type": "ui_text_input",
        "z": "38dbe062.1e867",
        "name": "",
        "label": "Unit ID",
        "group": "a64203cd.5b6a7",
        "order": 5,
        "width": "3",
        "height": "1",
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "",
        "x": 1308.034683227539,
        "y": 200.4548568725586,
        "wires": [
            [
                "8f36872d.99f388"
            ]
        ]
    },
    {
        "id": "c3837f5d.b5356",
        "type": "inject",
        "z": "38dbe062.1e867",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": true,
        "topic": "",
        "payload": "SERIAL_Connection",
        "payloadType": "flow",
        "x": 926.5555419921875,
        "y": 152.4548568725586,
        "wires": [
            [
                "3b829dd8.e033e2",
                "9234e8d4.d8b7c8",
                "3005f520.a7587a",
                "f5ed084f.132f38",
                "f3510725.93a2f8"
            ]
        ]
    },
    {
        "id": "3b829dd8.e033e2",
        "type": "change",
        "z": "38dbe062.1e867",
        "name": "set",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.serialPort",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1162.5729064941406,
        "y": 157.4548568725586,
        "wires": [
            [
                "79334783.5b7198"
            ]
        ]
    },
    {
        "id": "9234e8d4.d8b7c8",
        "type": "change",
        "z": "38dbe062.1e867",
        "name": "set",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.unitId",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1160.5729064941406,
        "y": 200.4548568725586,
        "wires": [
            [
                "140c5238.84930e"
            ]
        ]
    },
    {
        "id": "2ddaed09.abbf02",
        "type": "function",
        "z": "38dbe062.1e867",
        "name": "save",
        "func": "var options = flow.get(\"SERIAL_Connection\") || {};\n\nif(msg.payload)\n    options.serialPort = msg.payload;\n\nflow.set(\"SERIAL_Connection\", options);",
        "outputs": "0",
        "noerr": 0,
        "x": 1479.5728759765625,
        "y": 111.4548568725586,
        "wires": []
    },
    {
        "id": "3005f520.a7587a",
        "type": "change",
        "z": "38dbe062.1e867",
        "name": "set",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.serialPort",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1164.5729064941406,
        "y": 111.4548568725586,
        "wires": [
            [
                "44fd76b2.ffc308"
            ]
        ]
    },
    {
        "id": "44fd76b2.ffc308",
        "type": "ui_dropdown",
        "z": "38dbe062.1e867",
        "name": "port",
        "label": "Port",
        "tooltip": "",
        "place": "Choose a serial port",
        "group": "a64203cd.5b6a7",
        "order": 3,
        "width": "6",
        "height": "1",
        "passthru": true,
        "options": [
            {
                "label": "/dev/ttyUSB0",
                "value": "/dev/ttyUSB0",
                "type": "str"
            },
            {
                "label": "/dev/ttyUSB1",
                "value": "/dev/ttyUSB1",
                "type": "str"
            },
            {
                "label": "/dev/ttyAMA0",
                "value": "/dev/ttyAMA0",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "",
        "x": 1311.5729064941406,
        "y": 111.78819942474365,
        "wires": [
            [
                "2ddaed09.abbf02"
            ]
        ]
    },
    {
        "id": "5d5f6853.f243b8",
        "type": "function",
        "z": "38dbe062.1e867",
        "name": "save",
        "func": "var options = flow.get(\"SERIAL_Connection\") || {};\n\noptions.serialPort = msg.payload;\n\nflow.set(\"SERIAL_Connection\", options);",
        "outputs": "0",
        "noerr": 0,
        "x": 1480.5728759765625,
        "y": 156.78819274902344,
        "wires": []
    },
    {
        "id": "8f36872d.99f388",
        "type": "function",
        "z": "38dbe062.1e867",
        "name": "save",
        "func": "var options = flow.get(\"SERIAL_Connection\") || {};\n\noptions.unitId = msg.payload;\n\nflow.set(\"SERIAL_Connection\", options);",
        "outputs": "0",
        "noerr": 0,
        "x": 1480.5728759765625,
        "y": 199.78819274902344,
        "wires": []
    },
    {
        "id": "f5ed084f.132f38",
        "type": "change",
        "z": "38dbe062.1e867",
        "name": "set",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.serialBaudrate",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1161.111099243164,
        "y": 245.78817749023438,
        "wires": [
            [
                "3d728eb5.c56e72"
            ]
        ]
    },
    {
        "id": "212944b8.c4c3bc",
        "type": "function",
        "z": "38dbe062.1e867",
        "name": "save",
        "func": "var options = flow.get(\"SERIAL_Connection\") || {};\n\noptions.serialBaudrate = msg.payload;\n\nflow.set(\"SERIAL_Connection\", options);",
        "outputs": "0",
        "noerr": 0,
        "x": 1481.111068725586,
        "y": 246.12151336669922,
        "wires": []
    },
    {
        "id": "2e1a85a7.e361ca",
        "type": "ui_button",
        "z": "38dbe062.1e867",
        "name": "connectSERIAL",
        "group": "a64203cd.5b6a7",
        "order": 7,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Connect",
        "color": "",
        "bgcolor": "",
        "icon": "compare_arrows",
        "payload": "SERIAL_Connection",
        "payloadType": "flow",
        "topic": "",
        "x": 120.0173568725586,
        "y": 409.7881774902344,
        "wires": [
            [
                "ba4a37d6.28c898"
            ]
        ]
    },
    {
        "id": "3d728eb5.c56e72",
        "type": "ui_dropdown",
        "z": "38dbe062.1e867",
        "name": "BaudRate",
        "label": "Baud Rate",
        "place": "Select a Boud Rate",
        "group": "a64203cd.5b6a7",
        "order": 6,
        "width": 0,
        "height": 0,
        "passthru": true,
        "options": [
            {
                "label": "",
                "value": 115200,
                "type": "num"
            },
            {
                "label": "",
                "value": 57600,
                "type": "num"
            },
            {
                "label": "",
                "value": 38400,
                "type": "num"
            },
            {
                "label": "",
                "value": 19200,
                "type": "num"
            },
            {
                "label": "",
                "value": 9600,
                "type": "num"
            },
            {
                "label": "",
                "value": 4800,
                "type": "num"
            },
            {
                "label": "",
                "value": 2400,
                "type": "num"
            },
            {
                "label": "",
                "value": 1200,
                "type": "num"
            },
            {
                "label": "",
                "value": 300,
                "type": "num"
            },
            {
                "label": "",
                "value": 110,
                "type": "num"
            },
            {
                "label": "",
                "value": 75,
                "type": "num"
            }
        ],
        "payload": "",
        "topic": "",
        "x": 1315.239501953125,
        "y": 245.78817749023438,
        "wires": [
            [
                "212944b8.c4c3bc"
            ]
        ]
    },
    {
        "id": "d0697786.3280d8",
        "type": "ui_dropdown",
        "z": "38dbe062.1e867",
        "name": "configurations",
        "label": "Configurations",
        "tooltip": "",
        "place": "Choose a conf...",
        "group": "65a439a1.236948",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "options": [
            {
                "label": "",
                "value": "",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "",
        "x": 1119.731704711914,
        "y": 334.5819034576416,
        "wires": [
            [
                "9c707470.478608"
            ]
        ]
    },
    {
        "id": "dffb4665.e19888",
        "type": "inject",
        "z": "38dbe062.1e867",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": true,
        "topic": "init",
        "payload": "configs_TCP",
        "payloadType": "flow",
        "x": 749.0174331665039,
        "y": 385.01042461395264,
        "wires": [
            [
                "a3a1e558.c40498"
            ]
        ]
    },
    {
        "id": "a3a1e558.c40498",
        "type": "function",
        "z": "38dbe062.1e867",
        "name": "options",
        "func": "var options = [];\n\n\n(msg.payload || []).forEach(function(opt) {\n    var tmp = {};\n    tmp[opt.name] = opt;\n    options.push(tmp);\n});\n\nmsg.options = options;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 935.0173721313477,
        "y": 364.01040267944336,
        "wires": [
            [
                "d0697786.3280d8"
            ]
        ]
    },
    {
        "id": "e0e83539.8467c8",
        "type": "ui_text_input",
        "z": "38dbe062.1e867",
        "name": "",
        "label": "Name",
        "group": "65a439a1.236948",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "",
        "x": 536.017333984375,
        "y": 84.01041412353516,
        "wires": [
            [
                "f42d736e.d4d7b"
            ]
        ]
    },
    {
        "id": "f42d736e.d4d7b",
        "type": "function",
        "z": "38dbe062.1e867",
        "name": "save",
        "func": "var options = flow.get(\"TCP_Connection\") || {};\n\noptions.name = msg.payload;\n\nflow.set(\"TCP_Connection\", options);",
        "outputs": "0",
        "noerr": 0,
        "x": 699.5728759765625,
        "y": 84.23263549804688,
        "wires": []
    },
    {
        "id": "6f3e8af8.884f64",
        "type": "change",
        "z": "38dbe062.1e867",
        "name": "set",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.name",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 384.5729064941406,
        "y": 84.23263549804688,
        "wires": [
            [
                "e0e83539.8467c8"
            ]
        ]
    },
    {
        "id": "62e363f4.7ecc8c",
        "type": "ui_text_input",
        "z": "38dbe062.1e867",
        "name": "",
        "label": "Name",
        "group": "a64203cd.5b6a7",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "",
        "x": 1313.4617919921875,
        "y": 67.01041412353516,
        "wires": [
            [
                "3712e1e.5612a1e"
            ]
        ]
    },
    {
        "id": "3712e1e.5612a1e",
        "type": "function",
        "z": "38dbe062.1e867",
        "name": "save",
        "func": "var options = flow.get(\"SERIAL_Connection\") || {};\n\noptions.name = msg.payload;\n\nflow.set(\"SERIAL_Connection\", options);",
        "outputs": "0",
        "noerr": 0,
        "x": 1481.017333984375,
        "y": 67.23263549804688,
        "wires": []
    },
    {
        "id": "f3510725.93a2f8",
        "type": "change",
        "z": "38dbe062.1e867",
        "name": "set",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.name",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1166.0173645019531,
        "y": 67.23263549804688,
        "wires": [
            [
                "62e363f4.7ecc8c"
            ]
        ]
    },
    {
        "id": "7af00f16.25cbf",
        "type": "ui_dropdown",
        "z": "38dbe062.1e867",
        "name": "configurations",
        "label": "Configurations",
        "place": "Choose a conf...",
        "group": "a64203cd.5b6a7",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "options": [
            {
                "label": "",
                "value": "",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "",
        "x": 1117.4460067749023,
        "y": 464.5977191925049,
        "wires": [
            [
                "bb15b778.d6f698"
            ]
        ]
    },
    {
        "id": "c1cc5691.186878",
        "type": "inject",
        "z": "38dbe062.1e867",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": true,
        "topic": "init",
        "payload": "configs_SERIAL",
        "payloadType": "flow",
        "x": 744.017391204834,
        "y": 437.4548463821411,
        "wires": [
            [
                "9177c055.06113"
            ]
        ]
    },
    {
        "id": "9177c055.06113",
        "type": "function",
        "z": "38dbe062.1e867",
        "name": "options",
        "func": "var options = [];\n\n(msg.payload || []).forEach(function(opt) {\n    var tmp = {};\n    tmp[opt.name] = opt;\n    options.push(tmp);\n});\n\nmsg.options = options;\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 933.0174179077148,
        "y": 416.4548511505127,
        "wires": [
            [
                "7af00f16.25cbf"
            ]
        ]
    },
    {
        "id": "ba4a37d6.28c898",
        "type": "function",
        "z": "38dbe062.1e867",
        "name": "connect",
        "func": "var options = msg.payload;\nvar error = {topic: \"SERIAL Connect\"};\nvar configs = flow.get('configs_SERIAL') || [];\n\noptions.connectorType = \"SERIAL\";\n\nif(!options.name || options.name === \"\"){\n    options.name = \"No name\";\n}\n\nif(!options.serialPort){\n    error.payload = \"Serial port not valid\";\n    node.error(\"Error\",error);\n    return;\n}\n\nif(!options.serialBaudrate){\n    error.payload = \"Select a Baud Rate\";\n    node.error(\"Error\",error);\n    return;\n}\n\nif(!options.unitId){\n    error.payload = \"Unit ID not Valid\";\n    node.error(\"Error\",error);\n    return;\n}\n\nvar index = configs.findIndex(function(conf) {\n    return conf.name == options.name;\n});\n\nif(index < 0)\n    configs.push(options);\nelse\n    configs[index] = options;\n    \nflow.set('configs_SERIAL', configs);\n\nnode.send([msg, {payload:configs, topic:\"init\"}]);",
        "outputs": "2",
        "noerr": 0,
        "x": 290.0173645019531,
        "y": 409.8992919921875,
        "wires": [
            [
                "c8edb066.64b72",
                "1a1e5661.85833a"
            ],
            [
                "9177c055.06113"
            ]
        ]
    },
    {
        "id": "e7d1a599.f0bda8",
        "type": "change",
        "z": "38dbe062.1e867",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "TCP_Connection",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1458.0652198791504,
        "y": 334.9152021408081,
        "wires": [
            [
                "82a048df.c8ed18"
            ]
        ]
    },
    {
        "id": "3a4a28d0.68deb8",
        "type": "change",
        "z": "38dbe062.1e867",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "SERIAL_Connection",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1467.9221725463867,
        "y": 464.4865942001343,
        "wires": [
            [
                "f3329d18.e5136"
            ]
        ]
    },
    {
        "id": "d74fd015.d1173",
        "type": "link in",
        "z": "38dbe062.1e867",
        "name": "set_tcp",
        "links": [
            "82a048df.c8ed18",
            "772a71c2.93981"
        ],
        "x": 220.46198081970215,
        "y": 84.89933586120605,
        "wires": [
            [
                "6f3e8af8.884f64",
                "9f07604c.fc7ce",
                "94d1f474.d13ec8",
                "47f05899.05a278"
            ]
        ]
    },
    {
        "id": "82a048df.c8ed18",
        "type": "link out",
        "z": "38dbe062.1e867",
        "name": "set_tcp",
        "links": [
            "d74fd015.d1173"
        ],
        "x": 1620.60462474823,
        "y": 335.47075176239014,
        "wires": []
    },
    {
        "id": "fdfec950.24f7c8",
        "type": "link in",
        "z": "38dbe062.1e867",
        "name": "set_serial",
        "links": [
            "f3329d18.e5136",
            "1a1e5661.85833a"
        ],
        "x": 992.4618768692017,
        "y": 66.89929580688477,
        "wires": [
            [
                "f3510725.93a2f8",
                "3005f520.a7587a",
                "3b829dd8.e033e2",
                "9234e8d4.d8b7c8",
                "f5ed084f.132f38"
            ]
        ]
    },
    {
        "id": "f3329d18.e5136",
        "type": "link out",
        "z": "38dbe062.1e867",
        "name": "set_serial",
        "links": [
            "fdfec950.24f7c8"
        ],
        "x": 1630.175989151001,
        "y": 464.0420923233032,
        "wires": []
    },
    {
        "id": "30ad1c7d.91f1b4",
        "type": "inject",
        "z": "38dbe062.1e867",
        "name": "init",
        "repeat": "",
        "crontab": "",
        "once": false,
        "topic": "",
        "payload": "{\"options\":[]}",
        "payloadType": "json",
        "x": 728.9999771118164,
        "y": 505.57143783569336,
        "wires": [
            [
                "9b2cc6b1.cb1f58",
                "d0697786.3280d8",
                "7af00f16.25cbf"
            ]
        ]
    },
    {
        "id": "9b2cc6b1.cb1f58",
        "type": "function",
        "z": "38dbe062.1e867",
        "name": "init confs",
        "func": "flow.set(\"configs_TCP\", null);\nflow.set(\"configs_SERIAL\", null);",
        "outputs": "0",
        "noerr": 0,
        "x": 886.7143058776855,
        "y": 506.00001430511475,
        "wires": []
    },
    {
        "id": "9c707470.478608",
        "type": "switch",
        "z": "38dbe062.1e867",
        "name": "check",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "init",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "outputs": 1,
        "x": 1277.8570747375488,
        "y": 335.14288997650146,
        "wires": [
            [
                "e7d1a599.f0bda8"
            ]
        ]
    },
    {
        "id": "bb15b778.d6f698",
        "type": "switch",
        "z": "38dbe062.1e867",
        "name": "check",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "init",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "outputs": 1,
        "x": 1277.0000076293945,
        "y": 464.42857837677,
        "wires": [
            [
                "3a4a28d0.68deb8"
            ]
        ]
    },
    {
        "id": "cb54b9d8.977de8",
        "type": "catch",
        "z": "38dbe062.1e867",
        "name": "",
        "scope": [
            "ba4a37d6.28c898",
            "76f35dff.dbb824"
        ],
        "x": 160.00000762939453,
        "y": 496.42858505249023,
        "wires": [
            [
                "5d7be25b.182dec"
            ]
        ]
    },
    {
        "id": "5d7be25b.182dec",
        "type": "ui_toast",
        "z": "38dbe062.1e867",
        "position": "top right",
        "displayTime": "3",
        "highlight": "",
        "outputs": 0,
        "ok": "OK",
        "cancel": "",
        "topic": "Error",
        "name": "error",
        "x": 320,
        "y": 496.4285774230957,
        "wires": []
    },
    {
        "id": "772a71c2.93981",
        "type": "link out",
        "z": "38dbe062.1e867",
        "name": "init_tcp",
        "links": [
            "d74fd015.d1173"
        ],
        "x": 431.42858600616455,
        "y": 330.2857265472412,
        "wires": []
    },
    {
        "id": "1a1e5661.85833a",
        "type": "link out",
        "z": "38dbe062.1e867",
        "name": "init_serial",
        "links": [
            "fdfec950.24f7c8"
        ],
        "x": 426.42856788635254,
        "y": 453.1428499221802,
        "wires": []
    },
    {
        "id": "91ece5fa.1ffc98",
        "type": "ui_text_input",
        "z": "38dbe062.1e867",
        "name": "",
        "label": "Address",
        "group": "ebcd37d1.e8b1b8",
        "order": 1,
        "width": "3",
        "height": "1",
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "",
        "x": 438.2857360839844,
        "y": 955.4285888671875,
        "wires": [
            [
                "37a192b3.c99f6e"
            ]
        ]
    },
    {
        "id": "7695dffb.57bd9",
        "type": "ui_text_input",
        "z": "38dbe062.1e867",
        "name": "",
        "label": "Address",
        "group": "2566cc2e.826e34",
        "order": 1,
        "width": "2",
        "height": "1",
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "",
        "x": 1124.2857666015625,
        "y": 977.7142944335938,
        "wires": [
            [
                "bcfb6e62.53ed"
            ]
        ]
    },
    {
        "id": "3a8cc7bc.b08f68",
        "type": "ui_text_input",
        "z": "38dbe062.1e867",
        "name": "",
        "label": "Length",
        "group": "ebcd37d1.e8b1b8",
        "order": 2,
        "width": "3",
        "height": "1",
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "",
        "x": 427.1428527832031,
        "y": 1001.1428833007812,
        "wires": [
            [
                "ac73ce0e.a9dbe"
            ]
        ]
    },
    {
        "id": "a6ba51d5.a024d",
        "type": "inject",
        "z": "38dbe062.1e867",
        "name": "",
        "repeat": "1",
        "crontab": "",
        "once": false,
        "topic": "init",
        "payload": "{\"payload\":null}",
        "payloadType": "json",
        "x": 838.5714492797852,
        "y": 307.1428499221802,
        "wires": [
            [
                "d0697786.3280d8",
                "7af00f16.25cbf"
            ]
        ]
    },
    {
        "id": "e55f64f2.ee19e8",
        "type": "toFloat",
        "z": "38dbe062.1e867",
        "name": "",
        "toFixed": "4",
        "x": 1287.6429443359375,
        "y": 761.8571166992188,
        "wires": [
            [
                "d4cce8f1.b13ca8",
                "6db527cf.7ff708"
            ]
        ]
    },
    {
        "id": "6f9cd059.83ec9",
        "type": "ui_text",
        "z": "38dbe062.1e867",
        "group": "908629b1.5fd378",
        "order": 3,
        "width": "0",
        "height": "0",
        "name": "",
        "label": "Received Data: ",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 449.00000762939453,
        "y": 768.0000534057617,
        "wires": []
    },
    {
        "id": "6db527cf.7ff708",
        "type": "ui_text",
        "z": "38dbe062.1e867",
        "group": "908629b1.5fd378",
        "order": 4,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Converted Data: ",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 1401,
        "y": 629,
        "wires": []
    },
    {
        "id": "5633a6a8.de6cb8",
        "type": "function",
        "z": "38dbe062.1e867",
        "name": "16To32Bit_Inverse",
        "func": "var values32bit = [];\n\nfor(var i=0;i<msg.payload.length;i++){\n    var tmp = msg.payload[i].toString(2);\n    tmp = tmp.length < 16 ? '0'.repeat(16-tmp.length) + tmp : tmp;\n    i++;\n    var tmp1 = i < msg.payload.length ? msg.payload[i].toString(2) : '0000000000000000';\n    tmp1 = tmp1.length < 16 ? '0'.repeat(16-tmp1.length) + tmp1 : tmp1;\n    var value = parseInt(tmp+tmp1,2);\n    if(flow.get('hex')) value = '0x'+value.toString(16).toUpperCase();\n        \n    values32bit.push(value);\n}\n\nmsg.payload = values32bit;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 860.7695465087891,
        "y": 758.0039596557617,
        "wires": [
            [
                "fb7c63b3.9e3e7"
            ]
        ]
    },
    {
        "id": "1dc8824d.7e756e",
        "type": "ui_switch",
        "z": "38dbe062.1e867",
        "name": "",
        "label": "Invert",
        "group": "ebcd37d1.e8b1b8",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": false,
        "decouple": "true",
        "topic": "",
        "style": "",
        "onvalue": "1",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "x": 415.01953887939453,
        "y": 1226.003960609436,
        "wires": [
            [
                "b43be3c8.ba675"
            ]
        ]
    },
    {
        "id": "4dc4180d.306e08",
        "type": "switch",
        "z": "38dbe062.1e867",
        "name": "Inv",
        "property": "inverse",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 671.0195350646973,
        "y": 738.0040216445923,
        "wires": [
            [
                "cf5c9f1e.153f5"
            ],
            [
                "5633a6a8.de6cb8"
            ]
        ]
    },
    {
        "id": "b43be3c8.ba675",
        "type": "function",
        "z": "38dbe062.1e867",
        "name": "save",
        "func": "flow.set(\"inverse\", msg.payload);",
        "outputs": "0",
        "noerr": 0,
        "x": 585.0195960998535,
        "y": 1226.0039138793945,
        "wires": []
    },
    {
        "id": "d26bb657.55f6c8",
        "type": "inject",
        "z": "38dbe062.1e867",
        "name": "",
        "repeat": "0.1",
        "crontab": "",
        "once": true,
        "onceDelay": "",
        "topic": "",
        "payload": "inverse",
        "payloadType": "flow",
        "x": 206.01953125,
        "y": 1226.0039463043213,
        "wires": [
            [
                "1dc8824d.7e756e"
            ]
        ]
    },
    {
        "id": "5110506f.2f5d8",
        "type": "function",
        "z": "38dbe062.1e867",
        "name": "64Bit_Int",
        "func": "// 13.04.2019 Ben ekledim, kodu asagidan aldim\n// 16to32bit ornegine bakarak 4 registeri birlestirdim 64 Bit integer yaptim\n\nvar values64bit = [];\n\nfor(var i=0;i<msg.payload.length;i++){\n    var tmp = msg.payload[i].toString(4);\n    tmp = tmp.length < 16 ? '0'.repeat(16-tmp.length) + tmp : tmp;\n    i++;\n    var tmp1 = i < msg.payload.length ? msg.payload[i].toString(4) : '0000000000000000';\n    tmp1 = tmp1.length < 16 ? '0'.repeat(16-tmp1.length) + tmp1 : tmp1;\n    i++;\n    var tmp2 = i < msg.payload.length ? msg.payload[i].toString(4) : '0000000000000000';\n    tmp2 = tmp2.length < 16 ? '0'.repeat(16-tmp2.length) + tmp2 : tmp2;\n    i++;\n    var tmp3 = i < msg.payload.length ? msg.payload[i].toString(4) : '0000000000000000';\n    tmp3 = tmp3.length < 16 ? '0'.repeat(16-tmp3.length) + tmp3 : tmp3;\n    \n    var value = parseInt(tmp+tmp1+tmp2+tmp3,4); // 64 Bit int olarak birlestiriyor\n\n    if(flow.get('hex')) value = '0x'+value.toString(16).toUpperCase();\n        \n    values64bit.push(value);\n}\n\nmsg.payload = values64bit;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 653.8867263793945,
        "y": 796.6328649520874,
        "wires": [
            [
                "9c3b4e3e.e598"
            ]
        ]
    },
    {
        "id": "9c3b4e3e.e598",
        "type": "debug",
        "z": "38dbe062.1e867",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 1029.6445770263672,
        "y": 797.9023342132568,
        "wires": []
    },
    {
        "id": "a811f6ca.cd0a58",
        "type": "debug",
        "z": "38dbe062.1e867",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 1279.6328125,
        "y": 826.8984375,
        "wires": []
    },
    {
        "id": "b502d959.e83188",
        "type": "function",
        "z": "10108ae0.c69e55",
        "name": "To arreglo Int(16)",
        "func": "var arreglo=msg.arreglo;\nvar arreglo8=msg.arreglo8;\nfor(i=0;i<msg.payload.buffer.length;i=i+2) {\n    arreglo.push(msg.payload.buffer.readInt16BE(i));\n}\nfor(i=0;i<msg.payload.buffer.length;i++) {\n    arreglo8.push(msg.payload.buffer[i]);\n}\nmsg.arreglo8=arreglo8;\nmsg.arreglo=arreglo;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 310,
        "y": 1160,
        "wires": [
            [
                "6d5092d2.79188c"
            ]
        ]
    },
    {
        "id": "6d5092d2.79188c",
        "type": "modbus-getter",
        "z": "10108ae0.c69e55",
        "name": "Lee CIU - 375",
        "showStatusActivities": true,
        "showErrors": true,
        "logIOActivities": false,
        "unitid": "42",
        "dataType": "HoldingRegister",
        "adr": "375",
        "quantity": "125",
        "server": "eadd0d0e.01e44",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "keepMsgProperties": true,
        "x": 300,
        "y": 1220,
        "wires": [
            [],
            [
                "1eae4387.a0d65c"
            ]
        ]
    },
    {
        "id": "1eae4387.a0d65c",
        "type": "function",
        "z": "10108ae0.c69e55",
        "name": "To arreglo Int(16)",
        "func": "var arreglo=msg.arreglo;\nvar arreglo8=msg.arreglo8;\nfor(i=0;i<msg.payload.buffer.length;i=i+2) {\n    arreglo.push(msg.payload.buffer.readInt16BE(i));\n}\nfor(i=0;i<msg.payload.buffer.length;i++) {\n    arreglo8.push(msg.payload.buffer[i]);\n}\nmsg.arreglo8=arreglo8;\nmsg.arreglo=arreglo;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 310,
        "y": 1280,
        "wires": [
            [
                "bcbc5a5c.929e38"
            ]
        ]
    },
    {
        "id": "bcbc5a5c.929e38",
        "type": "modbus-getter",
        "z": "10108ae0.c69e55",
        "name": "Lee CIU - 500",
        "showStatusActivities": true,
        "showErrors": true,
        "logIOActivities": false,
        "unitid": "42",
        "dataType": "HoldingRegister",
        "adr": "500",
        "quantity": "125",
        "server": "eadd0d0e.01e44",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "keepMsgProperties": true,
        "x": 300,
        "y": 1340,
        "wires": [
            [],
            [
                "79a9fe92.c6d8b"
            ]
        ]
    },
    {
        "id": "79a9fe92.c6d8b",
        "type": "function",
        "z": "10108ae0.c69e55",
        "name": "To arreglo Int(16)",
        "func": "var arreglo=msg.arreglo;\nvar arreglo8=msg.arreglo8;\nfor(i=0;i<msg.payload.buffer.length;i=i+2) {\n    arreglo.push(msg.payload.buffer.readInt16BE(i));\n}\nfor(i=0;i<msg.payload.buffer.length;i++) {\n    arreglo8.push(msg.payload.buffer[i]);\n}\nmsg.arreglo8=arreglo8;\nmsg.arreglo=arreglo;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 310,
        "y": 1400,
        "wires": [
            [
                "595f4339.3bab7c"
            ]
        ]
    },
    {
        "id": "595f4339.3bab7c",
        "type": "modbus-getter",
        "z": "10108ae0.c69e55",
        "name": "Lee CIU - 625",
        "showStatusActivities": true,
        "showErrors": true,
        "logIOActivities": false,
        "unitid": "42",
        "dataType": "HoldingRegister",
        "adr": "625",
        "quantity": "125",
        "server": "eadd0d0e.01e44",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "keepMsgProperties": true,
        "x": 300,
        "y": 1460,
        "wires": [
            [],
            [
                "163fb06e.7bfba"
            ]
        ]
    },
    {
        "id": "163fb06e.7bfba",
        "type": "function",
        "z": "10108ae0.c69e55",
        "name": "To arreglo Int(16)",
        "func": "var arreglo=msg.arreglo;\nvar arreglo8=msg.arreglo8;\nfor(i=0;i<msg.payload.buffer.length;i=i+2) {\n    arreglo.push(msg.payload.buffer.readInt16BE(i));\n}\nfor(i=0;i<msg.payload.buffer.length;i++) {\n    arreglo8.push(msg.payload.buffer[i]);\n}\nmsg.arreglo8=arreglo8;\nmsg.arreglo=arreglo;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 310,
        "y": 1520,
        "wires": [
            [
                "41b7821e.6cf66c"
            ]
        ]
    },
    {
        "id": "41b7821e.6cf66c",
        "type": "modbus-getter",
        "z": "10108ae0.c69e55",
        "name": "Lee CIU - 750",
        "showStatusActivities": true,
        "showErrors": true,
        "logIOActivities": false,
        "unitid": "42",
        "dataType": "HoldingRegister",
        "adr": "750",
        "quantity": "125",
        "server": "eadd0d0e.01e44",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "keepMsgProperties": true,
        "x": 300,
        "y": 1580,
        "wires": [
            [],
            [
                "844dcba8.075638"
            ]
        ]
    },
    {
        "id": "844dcba8.075638",
        "type": "function",
        "z": "10108ae0.c69e55",
        "name": "To arreglo Int(16)",
        "func": "var arreglo=msg.arreglo;\nvar arreglo8=msg.arreglo8;\nfor(i=0;i<msg.payload.buffer.length;i=i+2) {\n    arreglo.push(msg.payload.buffer.readInt16BE(i));\n}\nfor(i=0;i<msg.payload.buffer.length;i++) {\n    arreglo8.push(msg.payload.buffer[i]);\n}\nmsg.arreglo8=arreglo8;\nmsg.arreglo=arreglo;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 310,
        "y": 1640,
        "wires": [
            [
                "77a74f65.4320b"
            ]
        ]
    },
    {
        "id": "77a74f65.4320b",
        "type": "modbus-getter",
        "z": "10108ae0.c69e55",
        "name": "Lee CIU - 875",
        "showStatusActivities": true,
        "showErrors": true,
        "logIOActivities": false,
        "unitid": "42",
        "dataType": "HoldingRegister",
        "adr": "875",
        "quantity": "125",
        "server": "eadd0d0e.01e44",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "keepMsgProperties": true,
        "x": 300,
        "y": 1700,
        "wires": [
            [],
            [
                "e410a830.109958"
            ]
        ]
    },
    {
        "id": "e410a830.109958",
        "type": "function",
        "z": "10108ae0.c69e55",
        "name": "To arreglo Int(16)",
        "func": "var arreglo=msg.arreglo;\nvar arreglo8=msg.arreglo8;\nfor(i=0;i<msg.payload.buffer.length;i=i+2) {\n    arreglo.push(msg.payload.buffer.readInt16BE(i));\n}\nfor(i=0;i<msg.payload.buffer.length;i++) {\n    arreglo8.push(msg.payload.buffer[i]);\n}\nmsg.arreglo8=arreglo8;\nmsg.arreglo=arreglo;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 310,
        "y": 1760,
        "wires": [
            [
                "f54020cd.f9dca"
            ]
        ]
    },
    {
        "id": "f54020cd.f9dca",
        "type": "modbus-getter",
        "z": "10108ae0.c69e55",
        "name": "Lee CIU - 1000",
        "showStatusActivities": true,
        "showErrors": true,
        "logIOActivities": false,
        "unitid": "42",
        "dataType": "HoldingRegister",
        "adr": "1000",
        "quantity": "125",
        "server": "eadd0d0e.01e44",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "keepMsgProperties": true,
        "x": 300,
        "y": 1820,
        "wires": [
            [],
            [
                "776b42cd.001a2c"
            ]
        ]
    },
    {
        "id": "2f9d77e8.ec1278",
        "type": "modbus-read",
        "z": "8201686d.7b90e8",
        "name": "Lee CIU - 2750-2875",
        "topic": "",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": true,
        "unitid": "42",
        "dataType": "HoldingRegister",
        "adr": "2750",
        "quantity": "125",
        "rate": "3",
        "rateUnit": "s",
        "delayOnStart": false,
        "startDelayTime": "",
        "server": "eadd0d0e.01e44",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "x": 320,
        "y": 860,
        "wires": [
            [
                "6f9f148c.8deffc"
            ],
            [
                "cf244468.5f5c48"
            ]
        ]
    },
    {
        "id": "3e90e926.daafd6",
        "type": "debug",
        "z": "8201686d.7b90e8",
        "name": "Descarte por no config",
        "active": false,
        "console": "false",
        "complete": "payload",
        "x": 750,
        "y": 1310,
        "wires": []
    },
    {
        "id": "81602d21.5a169",
        "type": "function",
        "z": "8201686d.7b90e8",
        "name": "Parseo de registros",
        "func": "/*\nvar a=new Array();\nfor(i=0;i<msg.payload.buffer.length;i=i+2) {\n    a.push(msg.payload.buffer.readInt16BE(i));\n}\n*/\nvar descartados=new Array();\nvar a=msg.arreglo;\nvar descartados=new Array();\nvar a8=msg.arreglo8;\nnode.warn(a8)\n\nvar sinSigno=function(v){\n    return v<0?v+65536:v; \n}\nvar v16=function(v,escala) {\n    return v/escala;\n}\nvar v32=function(v1,v2,escala) {\n    return ((sinSigno(v1)*65536)+sinSigno(v2))/escala;\n}\nvar float32BS=function(desde, buf) {\n  var a8=new Uint8Array([ buf[desde+1], buf[desde], buf[desde+3], buf[desde+2] ]);\n  var a16=new Uint16Array(a8.buffer);\n  var a32=new Float32Array(a16.buffer);\n  return a32.toString()*1;\n}\nvar uint32BS=function(desde, buf) {\n  var a8=new Uint8Array([ buf[desde+1], buf[desde], buf[desde+3], buf[desde+2] ]);\n  var a16=new Uint16Array(a8.buffer);\n  var a32=new Uint32Array(a16.buffer);\n  return a32.toString()*1;\n}\nvar int32BS=function(desde, buf) {\n  var a8=new Int8Array([ buf[desde+1], buf[desde], buf[desde+3], buf[desde+2] ]);\n  var a16=new Int16Array(a8.buffer);\n // return a16.toString()*1;\n   var a32=new Int32Array(a16.buffer);\n  return a32.toString()*1;\n}\n\n\n\nvar calcTank=function(c) {\n    var values={\n        tankName:c.tankName,\n        idTanque:c.idTanque,\n        valoresAlarmaNivel:c.alarmaNivel,\n        mailNotificaciones:c.mailNotificaciones,\n        productName:c.productName,\n        plantName:c.planta,\n        nivelManual:c.nivelManual,\n        nivelManualFechaHora:new Date(c.nivelManualFechaHora),\n        inconsistencia:c.inconsistencia,\n        tanqueRojo:c.tanqueRojo,\n        productLevelAttrName:c.productLevelAttrName,\n        productTempAttrName:c.productTempAttrName,\n        estadoAlarmaNivel: c.estadoAlarmaNivel\n        \n    };\n    c.attributes.forEach(function(o,i){\n        \n        var addr=c.startAddr+o.shiftAddr;\n        if(o.r16) {\n            values[o.attr]=v16(a[addr],o.scale);\n            //node.warn(c.tankName + \">> \" + o.attr + \" * \" + values[o.attr]);\n        } else {\n            //values[o.attr]=int32BS(addr*2,a8)/o.scale;\n            \n            values[o.attr]=v32(a[addr],a[addr+1],o.scale);\n            //node.warn(c.tankName + \">> \" + o.attr + \" * \" + values[o.attr]); // + ' ' + uint32BS(addr*2,a8)/o.scale);\n        }\n    });\n    values.percent=values[c.productLevelAttrName]/c.maxLevel;\n    return values;\n};\n\n\nvar tanques=new Array();\nvar addTanque=function(t) {\n    //if(t.percent) {\n    if(t.productTemp || t.gsv || t.tov || t.percent) {\n        tanques.push(t);\n    } else {\n        descartados.push(t);\n    }\n}\n\nmsg.ciuConfigP1C1.forEach(function(o,i){\n    addTanque(calcTank(o));\n});\n\n\nvar ret=function(t) {\n    if(t) {\n        return {payload:t, enabled:true};\n    } else {\n        return {payload:false, enabled:true};;\n    }\n};\nvar r=new Array();\nfor(t=0;t<30;t++) {\n    r.push(ret(tanques[t]));\n}\n\n\n//r.push({payload:JSON.parse(JSON.stringify(r))});\nmsg.payload=JSON.stringify(r);\nmsg.descartados=descartados;\nreturn msg;\n",
        "outputs": "1",
        "noerr": 0,
        "x": 760,
        "y": 1070,
        "wires": [
            [
                "9fa3c51a.cb9598",
                "8bb3fe6d.9fee6",
                "aa916f5.9f11c9",
                "76edf67e.445c18",
                "81987ae0.e65fa8"
            ]
        ],
        "outputLabels": [
            "t1"
        ]
    },
    {
        "id": "2403df45.3853c",
        "type": "function",
        "z": "8201686d.7b90e8",
        "name": "Hay Config Planta 1 CIU 1?",
        "func": "var ciuConfig = msg.ciuConfigP1C1 || \"[]\";\n//ciuConfig=JSON.parse(ciuConfig);\nmsg.ciuConfigP1C1=ciuConfig;\nif(ciuConfig.length==0 || !ciuConfig[0] || !ciuConfig[0].tankName)\n    return [null,{payload:'Descartado por no config'}];\nelse\n    return [msg,null];",
        "outputs": "2",
        "noerr": 0,
        "x": 750,
        "y": 1270,
        "wires": [
            [
                "81602d21.5a169",
                "3ea2d256.27233e"
            ],
            [
                "3e90e926.daafd6"
            ]
        ],
        "outputLabels": [
            "ok",
            "sinConfig"
        ]
    },
    {
        "id": "9925aeab.838db",
        "type": "change",
        "z": "8201686d.7b90e8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "ciuConfigP1C1",
                "pt": "msg",
                "to": "ciuConfigP1C1",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 660,
        "y": 1574,
        "wires": [
            [
                "2403df45.3853c"
            ]
        ]
    },
    {
        "id": "8bb3fe6d.9fee6",
        "type": "debug",
        "z": "8201686d.7b90e8",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "false",
        "x": 1100,
        "y": 1130,
        "wires": []
    },
    {
        "id": "9fa3c51a.cb9598",
        "type": "mqtt out",
        "z": "8201686d.7b90e8",
        "name": "MQTT /ciu888/planta1",
        "topic": "/ciu888/planta1",
        "qos": "",
        "retain": "",
        "broker": "70970556.d63e3c",
        "x": 1170,
        "y": 1210,
        "wires": []
    },
    {
        "id": "3ea2d256.27233e",
        "type": "debug",
        "z": "8201686d.7b90e8",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "ciuConfigP1C1",
        "targetType": "msg",
        "x": 750,
        "y": 1230,
        "wires": []
    },
    {
        "id": "b8c41233.d1e7d",
        "type": "function",
        "z": "8201686d.7b90e8",
        "name": "Simulador",
        "func": "\n\nvar calcTank=function(c) {\n    var values={\n        tankName:c.tankName,\n        idTanque:c.idTanque,\n        mailNotificaciones:c.mailNotificaciones,\n        productName:c.productName,\n        plantName:c.planta,\n        productLevel:Math.floor(Math.random()*c.maxLevel),\n        nivelManual:c.nivelManual,\n        nivelManualFechaHora:new Date(c.nivelManualFechaHora)\n    };\n    values.percent=values.productLevel/c.maxLevel;\n    return values;\n};\n\n\nvar tanques=new Array();\nvar addTanque=function(t) {\n    if(t.percent) {\n        tanques.push(t);\n    }\n}\n\nmsg.ciuConfigP1C1.forEach(function(o,i){\n    addTanque(calcTank(o));\n});\n\n\nvar ret=function(t) {\n    if(t) {\n        return {payload:t, enabled:true};\n    } else {\n        return {payload:false, enabled:true};;\n    }\n};\nvar r=new Array();\nfor(t=0;t<8;t++) {\n    r.push(ret(tanques[t]));\n}\n\n\n//r.push({payload:JSON.parse(JSON.stringify(r))});\nmsg.payload=JSON.stringify(r);\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1170,
        "y": 1650,
        "wires": [
            [
                "f7e37291.016a9",
                "9fa3c51a.cb9598",
                "aae9e09c.5cc23"
            ]
        ]
    },
    {
        "id": "14466925.2d8e47",
        "type": "change",
        "z": "8201686d.7b90e8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "ciuConfigP1C1",
                "pt": "msg",
                "to": "ciuConfigP1C1",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 880,
        "y": 1730,
        "wires": [
            [
                "38810b28.cdcbe4"
            ]
        ]
    },
    {
        "id": "38810b28.cdcbe4",
        "type": "function",
        "z": "8201686d.7b90e8",
        "name": "Hay Config Planta 1 CIU 1?",
        "func": "var ciuConfig = msg.ciuConfigP1C1 || \"[]\";\nciuConfig=JSON.parse(ciuConfig);\nmsg.ciuConfigP1C1=ciuConfig;\nif(ciuConfig.length==0 || !ciuConfig[0] || !ciuConfig[0].tankName)\n    return [null,{payload:'Descartado por no config'}];\nelse\n    return [msg,null];",
        "outputs": "2",
        "noerr": 0,
        "x": 950,
        "y": 1650,
        "wires": [
            [
                "b8c41233.d1e7d"
            ],
            []
        ],
        "outputLabels": [
            "ok",
            "sinConfig"
        ]
    },
    {
        "id": "871e8158.2ccbe",
        "type": "inject",
        "z": "8201686d.7b90e8",
        "name": "Simulador",
        "repeat": "",
        "crontab": "",
        "once": false,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 790,
        "y": 1790,
        "wires": [
            [
                "14466925.2d8e47"
            ]
        ]
    },
    {
        "id": "f7e37291.016a9",
        "type": "debug",
        "z": "8201686d.7b90e8",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "true",
        "x": 1180,
        "y": 1710,
        "wires": []
    },
    {
        "id": "aa916f5.9f11c9",
        "type": "function",
        "z": "8201686d.7b90e8",
        "name": "Retardo 10 a 1 CIU>backend",
        "func": "var contador = flow.get(\"cantCIURequest\");\nvar frecuenciaAlmacenamiento=flow.get(\"data.frecuenciaAlmacenamiento\");\nif(!contador)\n    contador=0;\ncontador++;\ncontador%=frecuenciaAlmacenamiento;\nflow.set(\"cantCIURequest\",contador);\n\nmsg.llamarws=contador==(frecuenciaAlmacenamiento-1);\nmsg.useBackend=flow.get(\"data.useBackend\");\n\nnode.status({fill:\"green\",shape:\"ring\",text:\"cnt=\"+(contador+1)+\", store=\"+msg.llamarws});\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1090,
        "y": 1070,
        "wires": [
            [
                "b5ceb291.5381f",
                "275c8e1d.9dfc12",
                "6c6ec0af.a2276",
                "1cb51858.ecfcc8"
            ]
        ]
    },
    {
        "id": "b5ceb291.5381f",
        "type": "switch",
        "z": "8201686d.7b90e8",
        "d": true,
        "name": "Solo pasa si: llamarws=true",
        "property": "llamarws",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1450,
        "y": 1050,
        "wires": [
            [
                "1cb51858.ecfcc8"
            ]
        ]
    },
    {
        "id": "9f372641.028448",
        "type": "function",
        "z": "8201686d.7b90e8",
        "name": "To arreglo Int(16)",
        "func": "var arreglo=msg.arreglo;\nvar arreglo8=msg.arreglo8;\nfor(i=0;i<msg.payload.buffer.length;i=i+2) {\n    arreglo.push(msg.payload.buffer.readInt16BE(i));\n}\nfor(i=0;i<msg.payload.buffer.length;i++) {\n    arreglo8.push(msg.payload.buffer[i]);\n}\nmsg.arreglo8=arreglo8;\nmsg.arreglo=arreglo;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 340,
        "y": 1050,
        "wires": [
            [
                "4529581c.f13cf8",
                "9925aeab.838db"
            ]
        ]
    },
    {
        "id": "2ba57203.8e419e",
        "type": "modbus-getter",
        "z": "8201686d.7b90e8",
        "name": "Lee CIU - 3000-3125",
        "showStatusActivities": true,
        "showErrors": true,
        "logIOActivities": false,
        "unitid": "42",
        "dataType": "HoldingRegister",
        "adr": "3000",
        "quantity": "125",
        "server": "eadd0d0e.01e44",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "x": 330,
        "y": 990,
        "wires": [
            [
                "af985c83.8ef38"
            ],
            [
                "9f372641.028448"
            ]
        ]
    },
    {
        "id": "b34b0e0f.feb5",
        "type": "modbus-getter",
        "z": "8201686d.7b90e8",
        "name": "Lee CIU - 2990-3110",
        "showStatusActivities": true,
        "showErrors": true,
        "logIOActivities": false,
        "unitid": "42",
        "dataType": "HoldingRegister",
        "adr": "2990",
        "quantity": "120",
        "server": "eadd0d0e.01e44",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "x": 220,
        "y": 1100,
        "wires": [
            [],
            [
                "487877a1.e41768"
            ]
        ]
    },
    {
        "id": "487877a1.e41768",
        "type": "function",
        "z": "8201686d.7b90e8",
        "name": "To arreglo Int(16)",
        "func": "var arreglo=msg.arreglo;\nvar arreglo8=msg.arreglo8;\nfor(i=0;i<msg.payload.buffer.length;i=i+2) {\n    arreglo.push(msg.payload.buffer.readInt16BE(i));\n}\nfor(i=0;i<msg.payload.buffer.length;i++) {\n    arreglo8.push(msg.payload.buffer[i]);\n}\nmsg.arreglo8=arreglo8;\nmsg.arreglo=arreglo;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 340,
        "y": 1150,
        "wires": [
            [
                "a8a16a60.5192a8"
            ]
        ]
    },
    {
        "id": "cf244468.5f5c48",
        "type": "function",
        "z": "8201686d.7b90e8",
        "name": "To arreglo Int(16) - first",
        "func": "var arreglo=new Array();\nvar arreglo8=new Array();\nfor(i=0;i<msg.payload.buffer.length;i=i+2) {\n    arreglo.push(msg.payload.buffer.readInt16BE(i));\n}\nfor(i=0;i<msg.payload.buffer.length;i++) {\n    arreglo8.push(msg.payload.buffer[i]);\n}\nmsg.arreglo8=arreglo8;\nmsg.arreglo=arreglo;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 330,
        "y": 950,
        "wires": [
            [
                "2ba57203.8e419e"
            ]
        ]
    },
    {
        "id": "a8a16a60.5192a8",
        "type": "modbus-getter",
        "z": "8201686d.7b90e8",
        "name": "Lee CIU - 3110-3270",
        "showStatusActivities": true,
        "showErrors": true,
        "logIOActivities": false,
        "unitid": "42",
        "dataType": "HoldingRegister",
        "adr": "3110",
        "quantity": "120",
        "server": "eadd0d0e.01e44",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "x": 330,
        "y": 1190,
        "wires": [
            [],
            [
                "e0911d0e.47708"
            ]
        ]
    },
    {
        "id": "e0911d0e.47708",
        "type": "function",
        "z": "8201686d.7b90e8",
        "name": "To arreglo Int(16)",
        "func": "var arreglo=msg.arreglo;\nvar arreglo8=msg.arreglo8;\nfor(i=0;i<msg.payload.buffer.length;i=i+2) {\n    arreglo.push(msg.payload.buffer.readInt16BE(i));\n}\nfor(i=0;i<msg.payload.buffer.length;i++) {\n    arreglo8.push(msg.payload.buffer[i]);\n}\nmsg.arreglo8=arreglo8;\nmsg.arreglo=arreglo;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 330,
        "y": 1240,
        "wires": [
            [
                "3807af5d.be166"
            ]
        ]
    },
    {
        "id": "76edf67e.445c18",
        "type": "debug",
        "z": "8201686d.7b90e8",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "descartados",
        "x": 1080,
        "y": 1030,
        "wires": []
    },
    {
        "id": "3807af5d.be166",
        "type": "modbus-getter",
        "z": "8201686d.7b90e8",
        "name": "Lee CIU - 480-600",
        "showStatusActivities": true,
        "showErrors": true,
        "logIOActivities": false,
        "unitid": "42",
        "dataType": "HoldingRegister",
        "adr": "480",
        "quantity": "120",
        "server": "eadd0d0e.01e44",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "x": 320,
        "y": 1290,
        "wires": [
            [],
            [
                "d81bf72e.0af6e8"
            ]
        ]
    },
    {
        "id": "d81bf72e.0af6e8",
        "type": "function",
        "z": "8201686d.7b90e8",
        "name": "To arreglo Int(16)",
        "func": "var arreglo=msg.arreglo;\nvar arreglo8=msg.arreglo8;\nfor(i=0;i<msg.payload.buffer.length;i=i+2) {\n    arreglo.push(msg.payload.buffer.readInt16BE(i));\n}\nfor(i=0;i<msg.payload.buffer.length;i++) {\n    arreglo8.push(msg.payload.buffer[i]);\n}\nmsg.arreglo8=arreglo8;\nmsg.arreglo=arreglo;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 340,
        "y": 1350,
        "wires": [
            [
                "ab340296.a521b"
            ]
        ]
    },
    {
        "id": "ab340296.a521b",
        "type": "modbus-getter",
        "z": "8201686d.7b90e8",
        "name": "Lee CIU - 600-720",
        "showStatusActivities": true,
        "showErrors": true,
        "logIOActivities": false,
        "unitid": "42",
        "dataType": "HoldingRegister",
        "adr": "600",
        "quantity": "120",
        "server": "eadd0d0e.01e44",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "x": 320,
        "y": 1390,
        "wires": [
            [],
            [
                "5e6dee5b.25d6c"
            ]
        ]
    },
    {
        "id": "5e6dee5b.25d6c",
        "type": "function",
        "z": "8201686d.7b90e8",
        "name": "To arreglo Int(16)",
        "func": "var arreglo=msg.arreglo;\nvar arreglo8=msg.arreglo8;\nfor(i=0;i<msg.payload.buffer.length;i=i+2) {\n    arreglo.push(msg.payload.buffer.readInt16BE(i));\n}\nfor(i=0;i<msg.payload.buffer.length;i++) {\n    arreglo8.push(msg.payload.buffer[i]);\n}\nmsg.arreglo8=arreglo8;\nmsg.arreglo=arreglo;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 340,
        "y": 1450,
        "wires": [
            [
                "9a1c3ede.f1351"
            ]
        ]
    },
    {
        "id": "9a1c3ede.f1351",
        "type": "modbus-getter",
        "z": "8201686d.7b90e8",
        "name": "Lee CIU - 720-840",
        "showStatusActivities": true,
        "showErrors": true,
        "logIOActivities": false,
        "unitid": "42",
        "dataType": "HoldingRegister",
        "adr": "720",
        "quantity": "120",
        "server": "eadd0d0e.01e44",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "x": 320,
        "y": 1490,
        "wires": [
            [],
            [
                "5412d921.72c498"
            ]
        ]
    },
    {
        "id": "5412d921.72c498",
        "type": "function",
        "z": "8201686d.7b90e8",
        "name": "To arreglo Int(16)",
        "func": "var arreglo=msg.arreglo;\nvar arreglo8=msg.arreglo8;\nfor(i=0;i<msg.payload.buffer.length;i=i+2) {\n    arreglo.push(msg.payload.buffer.readInt16BE(i));\n}\nfor(i=0;i<msg.payload.buffer.length;i++) {\n    arreglo8.push(msg.payload.buffer[i]);\n}\nmsg.arreglo8=arreglo8;\nmsg.arreglo=arreglo;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 340,
        "y": 1550,
        "wires": [
            [
                "22e2e3da.b5e37c"
            ]
        ]
    },
    {
        "id": "22e2e3da.b5e37c",
        "type": "modbus-getter",
        "z": "8201686d.7b90e8",
        "name": "Lee CIU - 840-960",
        "showStatusActivities": true,
        "showErrors": true,
        "logIOActivities": false,
        "unitid": "42",
        "dataType": "HoldingRegister",
        "adr": "840",
        "quantity": "120",
        "server": "eadd0d0e.01e44",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "x": 320,
        "y": 1590,
        "wires": [
            [],
            [
                "fcd03714.439cf8"
            ]
        ]
    },
    {
        "id": "fcd03714.439cf8",
        "type": "function",
        "z": "8201686d.7b90e8",
        "name": "To arreglo Int(16)",
        "func": "var arreglo=msg.arreglo;\nvar arreglo8=msg.arreglo8;\nfor(i=0;i<msg.payload.buffer.length;i=i+2) {\n    arreglo.push(msg.payload.buffer.readInt16BE(i));\n}\nfor(i=0;i<msg.payload.buffer.length;i++) {\n    arreglo8.push(msg.payload.buffer[i]);\n}\nmsg.arreglo8=arreglo8;\nmsg.arreglo=arreglo;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 340,
        "y": 1650,
        "wires": [
            [
                "f0bf925d.2993d"
            ]
        ]
    },
    {
        "id": "f0bf925d.2993d",
        "type": "modbus-getter",
        "z": "8201686d.7b90e8",
        "name": "Lee CIU - 960-1080",
        "showStatusActivities": true,
        "showErrors": true,
        "logIOActivities": false,
        "unitid": "42",
        "dataType": "HoldingRegister",
        "adr": "960",
        "quantity": "120",
        "server": "eadd0d0e.01e44",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "x": 320,
        "y": 1690,
        "wires": [
            [],
            [
                "49e5de8b.cb15b"
            ]
        ]
    },
    {
        "id": "49e5de8b.cb15b",
        "type": "function",
        "z": "8201686d.7b90e8",
        "name": "To arreglo Int(16)",
        "func": "var arreglo=msg.arreglo;\nvar arreglo8=msg.arreglo8;\nfor(i=0;i<msg.payload.buffer.length;i=i+2) {\n    arreglo.push(msg.payload.buffer.readInt16BE(i));\n}\nfor(i=0;i<msg.payload.buffer.length;i++) {\n    arreglo8.push(msg.payload.buffer[i]);\n}\nmsg.arreglo8=arreglo8;\nmsg.arreglo=arreglo;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 340,
        "y": 1750,
        "wires": [
            [
                "75042599.4767bc"
            ]
        ]
    },
    {
        "id": "75042599.4767bc",
        "type": "modbus-getter",
        "z": "8201686d.7b90e8",
        "name": "Lee CIU - 1080-1200",
        "showStatusActivities": true,
        "showErrors": true,
        "logIOActivities": false,
        "unitid": "42",
        "dataType": "HoldingRegister",
        "adr": "1080",
        "quantity": "120",
        "server": "eadd0d0e.01e44",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "x": 330,
        "y": 1790,
        "wires": [
            [
                "5a5242fa.63335c"
            ],
            [
                "53af674.b0eb198"
            ]
        ]
    },
    {
        "id": "53af674.b0eb198",
        "type": "function",
        "z": "8201686d.7b90e8",
        "name": "To arreglo Int(16)",
        "func": "var arreglo=msg.arreglo;\nvar arreglo8=msg.arreglo8;\nfor(i=0;i<msg.payload.buffer.length;i=i+2) {\n    arreglo.push(msg.payload.buffer.readInt16BE(i));\n}\nfor(i=0;i<msg.payload.buffer.length;i++) {\n    arreglo8.push(msg.payload.buffer[i]);\n}\nmsg.arreglo8=arreglo8;\nmsg.arreglo=arreglo;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 340,
        "y": 1850,
        "wires": [
            [
                "9925aeab.838db",
                "358b2e8c.35ffc2"
            ]
        ]
    },
    {
        "id": "358b2e8c.35ffc2",
        "type": "debug",
        "z": "8201686d.7b90e8",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "arreglo",
        "x": 777,
        "y": 1914,
        "wires": []
    },
    {
        "id": "1cb51858.ecfcc8",
        "type": "switch",
        "z": "8201686d.7b90e8",
        "name": "Solo pasa si: useBackend=true",
        "property": "useBackend",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1540,
        "y": 1130,
        "wires": [
            [
                "2ef23fe4.492fe"
            ]
        ]
    },
    {
        "id": "275c8e1d.9dfc12",
        "type": "debug",
        "z": "8201686d.7b90e8",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "llamarws",
        "x": 1330,
        "y": 930,
        "wires": []
    },
    {
        "id": "6c6ec0af.a2276",
        "type": "debug",
        "z": "8201686d.7b90e8",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "useBackend",
        "x": 1340,
        "y": 970,
        "wires": []
    },
    {
        "id": "4529581c.f13cf8",
        "type": "debug",
        "z": "8201686d.7b90e8",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "arreglo",
        "targetType": "msg",
        "x": 630,
        "y": 980,
        "wires": []
    },
    {
        "id": "834bdf54.955ac",
        "type": "inject",
        "z": "8201686d.7b90e8",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.1",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 290,
        "y": 80,
        "wires": [
            [
                "1218e9a9.e202f6"
            ]
        ]
    },
    {
        "id": "1218e9a9.e202f6",
        "type": "template",
        "z": "8201686d.7b90e8",
        "name": "Init & Default values",
        "field": "data",
        "fieldType": "flow",
        "format": "handlebars",
        "syntax": "plain",
        "template": "{\n    \"urlBase1\":\"http://192.168.195.187:8080/tt\",\n    \"urlBase\":\"http://fueltrace.oneclickeb.com/tt\", \n    \"idCompania\":1,\n    \"userTokenBasicAuth\":\"gettoken:g3ttok3n$\",\n    \"pidiendoToken\":\"no\",\n    \"useBackend\":true,\n    \"ciuConfigP1C1\":false,\n    \"idCiu\":\"ciu1\",\n    \"frecuenciaAlmacenamiento\":15\n}\n",
        "output": "json",
        "x": 480,
        "y": 80,
        "wires": [
            [
                "4be829b6.2ac798"
            ]
        ]
    },
    {
        "id": "4be829b6.2ac798",
        "type": "change",
        "z": "8201686d.7b90e8",
        "name": "SET userTokenBasicAuth to payload",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "data.userTokenBasicAuth",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 750,
        "y": 80,
        "wires": [
            [
                "5214ce18.7630f"
            ]
        ]
    },
    {
        "id": "5214ce18.7630f",
        "type": "base64",
        "z": "8201686d.7b90e8",
        "name": "AuthBasic Value",
        "action": "",
        "property": "payload",
        "x": 1000,
        "y": 80,
        "wires": [
            [
                "d75a159d.76a388"
            ]
        ]
    },
    {
        "id": "d75a159d.76a388",
        "type": "change",
        "z": "8201686d.7b90e8",
        "name": "SET flow.data.basicAuthHeaderValue",
        "rules": [
            {
                "t": "set",
                "p": "data.basicAuthHeaderValue",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1250,
        "y": 80,
        "wires": [
            [
                "310690e5.e601e"
            ]
        ]
    },
    {
        "id": "4981019a.55b",
        "type": "inject",
        "z": "8201686d.7b90e8",
        "name": "Request AuthToken ",
        "repeat": "18000",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 340,
        "y": 200,
        "wires": [
            [
                "736a83db.f046bc"
            ]
        ]
    },
    {
        "id": "736a83db.f046bc",
        "type": "switch",
        "z": "8201686d.7b90e8",
        "name": "Se está pidiendo Token?",
        "property": "data.pidiendoToken",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "no",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "si",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 630,
        "y": 200,
        "wires": [
            [
                "e9a9d8e6.6e3c88"
            ],
            []
        ],
        "outputLabels": [
            "no",
            "si"
        ]
    },
    {
        "id": "ff61c58b.155378",
        "type": "change",
        "z": "8201686d.7b90e8",
        "name": "pidiendoToken=no",
        "rules": [
            {
                "t": "set",
                "p": "data.pidiendoToken",
                "pt": "flow",
                "to": "no",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 390,
        "y": 280,
        "wires": [
            [
                "736a83db.f046bc"
            ]
        ]
    },
    {
        "id": "a4052050.783b5",
        "type": "delay",
        "z": "8201686d.7b90e8",
        "name": "",
        "pauseType": "delay",
        "timeout": "10",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 320,
        "y": 340,
        "wires": [
            [
                "ff61c58b.155378"
            ]
        ]
    },
    {
        "id": "3e8746cc.8895ca",
        "type": "catch",
        "z": "8201686d.7b90e8",
        "name": "catch getToken",
        "scope": [
            "44d003f1.205cdc"
        ],
        "uncaught": false,
        "x": 300,
        "y": 420,
        "wires": [
            [
                "a4052050.783b5"
            ]
        ]
    },
    {
        "id": "e9a9d8e6.6e3c88",
        "type": "change",
        "z": "8201686d.7b90e8",
        "name": "flow.data to payload & pidiendoToken",
        "rules": [
            {
                "t": "set",
                "p": "data.pidiendoToken",
                "pt": "flow",
                "to": "si",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "data",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 730,
        "y": 280,
        "wires": [
            [
                "554b1305.7681ec"
            ]
        ]
    },
    {
        "id": "554b1305.7681ec",
        "type": "function",
        "z": "8201686d.7b90e8",
        "name": "Prepare Request",
        "func": "msg.headers = {};\nmsg.headers['Authorization'] = 'Basic '+msg.payload.basicAuthHeaderValue;\nmsg.url=msg.payload.urlBase+\"/api/v1/token/integration\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 990,
        "y": 280,
        "wires": [
            [
                "44d003f1.205cdc"
            ]
        ]
    },
    {
        "id": "44d003f1.205cdc",
        "type": "http request",
        "z": "8201686d.7b90e8",
        "name": "getToken",
        "method": "POST",
        "ret": "obj",
        "paytoqs": false,
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "basic",
        "x": 1157,
        "y": 281,
        "wires": [
            [
                "411de2a1.ccd72c",
                "e9b00004.7dcc7"
            ]
        ]
    },
    {
        "id": "411de2a1.ccd72c",
        "type": "switch",
        "z": "8201686d.7b90e8",
        "name": "Recibido?",
        "property": "statusCode",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "200",
                "vt": "str"
            },
            {
                "t": "neq",
                "v": "200",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1297,
        "y": 281,
        "wires": [
            [
                "78015afc.217154"
            ],
            [
                "41befef2.02f57"
            ]
        ],
        "outputLabels": [
            "ok",
            "nook"
        ]
    },
    {
        "id": "78015afc.217154",
        "type": "change",
        "z": "8201686d.7b90e8",
        "name": "SET flow.data.authToken",
        "rules": [
            {
                "t": "set",
                "p": "data.authToken",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1487,
        "y": 261,
        "wires": [
            [
                "aa3d3527.5ade88"
            ]
        ]
    },
    {
        "id": "41befef2.02f57",
        "type": "change",
        "z": "8201686d.7b90e8",
        "name": "UNSET flow.data.authToken",
        "rules": [
            {
                "t": "set",
                "p": "data.authToken",
                "pt": "flow",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1497,
        "y": 301,
        "wires": [
            [
                "aa3d3527.5ade88"
            ]
        ]
    },
    {
        "id": "aa3d3527.5ade88",
        "type": "change",
        "z": "8201686d.7b90e8",
        "name": "pidiendoToken=no",
        "rules": [
            {
                "t": "set",
                "p": "data.pidiendoToken",
                "pt": "flow",
                "to": "no",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1750,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "e9b00004.7dcc7",
        "type": "debug",
        "z": "8201686d.7b90e8",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 1392.9999694824219,
        "y": 204,
        "wires": []
    },
    {
        "id": "310690e5.e601e",
        "type": "switch",
        "z": "8201686d.7b90e8",
        "name": "useBackend?",
        "property": "useBackend",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1500,
        "y": 80,
        "wires": [
            [
                "736a83db.f046bc"
            ]
        ],
        "outputLabels": [
            "use backend"
        ]
    },
    {
        "id": "45c3f93b.a44718",
        "type": "http request",
        "z": "8201686d.7b90e8",
        "name": "Request Config",
        "method": "GET",
        "ret": "obj",
        "paytoqs": false,
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "x": 701.6666946411133,
        "y": 520.0000076293945,
        "wires": [
            [
                "e1f1a395.c9208"
            ]
        ]
    },
    {
        "id": "6ee7c634.d64368",
        "type": "debug",
        "z": "8201686d.7b90e8",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 1061.6666946411133,
        "y": 520.0000076293945,
        "wires": []
    },
    {
        "id": "e1f1a395.c9208",
        "type": "change",
        "z": "8201686d.7b90e8",
        "name": "Set config ",
        "rules": [
            {
                "t": "set",
                "p": "ciuConfigP1C1",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 901.6666946411133,
        "y": 520.0000076293945,
        "wires": [
            [
                "6ee7c634.d64368"
            ]
        ]
    },
    {
        "id": "aa02ce4a.7fd5e",
        "type": "inject",
        "z": "8201686d.7b90e8",
        "name": "",
        "repeat": "8",
        "crontab": "",
        "once": true,
        "onceDelay": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 284.1666946411133,
        "y": 519.0000076293945,
        "wires": [
            [
                "98cc37a6.e63318"
            ]
        ]
    },
    {
        "id": "98cc37a6.e63318",
        "type": "function",
        "z": "8201686d.7b90e8",
        "name": "Prepare request",
        "func": "if(flow.get(\"data.useBackend\")) {\n    msg.headers={xauthtoken:flow.get(\"data.authToken\").token};\n    msg.url=flow.get(\"data.urlBase\")+\"/api/v1/tanques/\"+flow.get(\"data.idCompania\")+\"/ciuconfig/\"+flow.get(\"data.idCiu\");\n}else{\n    msg.url='http://localhost:1880/ciuconfigstatic';\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 501.6666946411133,
        "y": 520.0000076293945,
        "wires": [
            [
                "45c3f93b.a44718"
            ]
        ]
    },
    {
        "id": "45959eef.7166e",
        "type": "http in",
        "z": "8201686d.7b90e8",
        "name": "server de Config Estática",
        "url": "/ciuconfigstatic",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 301.6666946411133,
        "y": 610.0000076293945,
        "wires": [
            [
                "947b0892.b123b8"
            ]
        ]
    },
    {
        "id": "947b0892.b123b8",
        "type": "template",
        "z": "8201686d.7b90e8",
        "name": "Configuración",
        "field": "payload",
        "fieldType": "msg",
        "format": "json",
        "syntax": "plain",
        "template": "[\n    {\n        \"nivelManual\": 2749,\n        \"nivelManualFechaHora\": 1548096864000,\n        \"tankName\": \"Tk-06\",\n        \"planta\": \"QC Terminales\",\n        \"idTanque\": 17,\n        \"mailNotificaciones\": \"lasis@reedcons.com\",\n        \"inconsistencia\": 1,\n        \"productName\": \"ACETATO DE ETILO\",\n        \"productLevelAttrName\": \"productLevel\",\n        \"maxLevel\": 7749,\n        \"startAddr\": 640,\n        \"tanqueRojo\": true,\n        \"attributes\": [\n            {\n                \"id\": 455,\n                \"attr\": \"productLevel\",\n                \"shiftAddr\": 0,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 456,\n                \"attr\": \"productTemp\",\n                \"shiftAddr\": 1,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 457,\n                \"attr\": \"vapRoomPress\",\n                \"shiftAddr\": 2,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 458,\n                \"attr\": \"vapRoomTemp\",\n                \"shiftAddr\": 3,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 459,\n                \"attr\": \"DObs\",\n                \"shiftAddr\": 4,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 460,\n                \"attr\": \"productDRef\",\n                \"shiftAddr\": 5,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 461,\n                \"attr\": \"tov\",\n                \"shiftAddr\": 6,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 462,\n                \"attr\": \"gsv\",\n                \"shiftAddr\": 8,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 463,\n                \"attr\": \"tgsv\",\n                \"shiftAddr\": 10,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 464,\n                \"attr\": \"totalMass\",\n                \"shiftAddr\": 12,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 465,\n                \"attr\": \"flowTOV\",\n                \"shiftAddr\": 14,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 466,\n                \"attr\": \"waterLevel\",\n                \"shiftAddr\": 15,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 467,\n                \"attr\": \"waterVol\",\n                \"shiftAddr\": 16,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 468,\n                \"attr\": \"availableRoom\",\n                \"shiftAddr\": 18,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 469,\n                \"attr\": \"availableTOV\",\n                \"shiftAddr\": 20,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 470,\n                \"attr\": \"CTL\",\n                \"shiftAddr\": 22,\n                \"r16\": false,\n                \"scale\": 100000\n            }\n        ]\n    },\n    {\n        \"nivelManual\": 4231,\n        \"nivelManualFechaHora\": 1547725191000,\n        \"tankName\": \"Tk-07\",\n        \"planta\": \"QC Terminales\",\n        \"idTanque\": 18,\n        \"mailNotificaciones\": \"lasis@reedcons.com\",\n        \"inconsistencia\": -1,\n        \"productName\": \"METIL ISOBUTIL CARBONIL \",\n        \"productLevelAttrName\": \"productLevel\",\n        \"maxLevel\": 7719,\n        \"startAddr\": 680,\n        \"tanqueRojo\": false,\n        \"attributes\": [\n            {\n                \"id\": 486,\n                \"attr\": \"productLevel\",\n                \"shiftAddr\": 0,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 487,\n                \"attr\": \"productTemp\",\n                \"shiftAddr\": 1,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 488,\n                \"attr\": \"vapRoomPress\",\n                \"shiftAddr\": 2,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 489,\n                \"attr\": \"vapRoomTemp\",\n                \"shiftAddr\": 3,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 490,\n                \"attr\": \"DObs\",\n                \"shiftAddr\": 4,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 491,\n                \"attr\": \"productDRef\",\n                \"shiftAddr\": 5,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 492,\n                \"attr\": \"tov\",\n                \"shiftAddr\": 6,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 493,\n                \"attr\": \"gsv\",\n                \"shiftAddr\": 8,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 494,\n                \"attr\": \"tgsv\",\n                \"shiftAddr\": 10,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 495,\n                \"attr\": \"totalMass\",\n                \"shiftAddr\": 12,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 496,\n                \"attr\": \"flowTOV\",\n                \"shiftAddr\": 14,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 497,\n                \"attr\": \"waterLevel\",\n                \"shiftAddr\": 15,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 498,\n                \"attr\": \"waterVol\",\n                \"shiftAddr\": 16,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 499,\n                \"attr\": \"availableRoom\",\n                \"shiftAddr\": 18,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 500,\n                \"attr\": \"availableTOV\",\n                \"shiftAddr\": 20,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 501,\n                \"attr\": \"CTL\",\n                \"shiftAddr\": 22,\n                \"r16\": false,\n                \"scale\": 100000\n            }\n        ]\n    },\n    {\n        \"nivelManual\": 4934,\n        \"nivelManualFechaHora\": 1547725266000,\n        \"tankName\": \"Tk-08\",\n        \"planta\": \"QC Terminales\",\n        \"idTanque\": 19,\n        \"mailNotificaciones\": \"lasis@reedcons.com\",\n        \"inconsistencia\": -1,\n        \"productName\": \"PROPYLENE GLYCOL\",\n        \"productLevelAttrName\": \"productLevel\",\n        \"maxLevel\": 7706,\n        \"startAddr\": 720,\n        \"tanqueRojo\": false,\n        \"attributes\": [\n            {\n                \"id\": 517,\n                \"attr\": \"productLevel\",\n                \"shiftAddr\": 0,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 518,\n                \"attr\": \"productTemp\",\n                \"shiftAddr\": 1,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 519,\n                \"attr\": \"vapRoomPress\",\n                \"shiftAddr\": 2,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 520,\n                \"attr\": \"vapRoomTemp\",\n                \"shiftAddr\": 3,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 521,\n                \"attr\": \"DObs\",\n                \"shiftAddr\": 4,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 522,\n                \"attr\": \"productDRef\",\n                \"shiftAddr\": 5,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 523,\n                \"attr\": \"tov\",\n                \"shiftAddr\": 6,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 524,\n                \"attr\": \"gsv\",\n                \"shiftAddr\": 8,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 525,\n                \"attr\": \"tgsv\",\n                \"shiftAddr\": 10,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 526,\n                \"attr\": \"totalMass\",\n                \"shiftAddr\": 12,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 527,\n                \"attr\": \"flowTOV\",\n                \"shiftAddr\": 14,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 528,\n                \"attr\": \"waterLevel\",\n                \"shiftAddr\": 15,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 529,\n                \"attr\": \"waterVol\",\n                \"shiftAddr\": 16,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 530,\n                \"attr\": \"availableRoom\",\n                \"shiftAddr\": 18,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 531,\n                \"attr\": \"availableTOV\",\n                \"shiftAddr\": 20,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 532,\n                \"attr\": \"CTL\",\n                \"shiftAddr\": 22,\n                \"r16\": false,\n                \"scale\": 100000\n            }\n        ]\n    },\n    {\n        \"nivelManual\": 5563,\n        \"nivelManualFechaHora\": 1544805153000,\n        \"tankName\": \"Tk-09\",\n        \"planta\": \"QC Terminales\",\n        \"idTanque\": 20,\n        \"mailNotificaciones\": \"lasis@reedcons.com\",\n        \"inconsistencia\": -1,\n        \"productName\": \"ESTIRENO MONOMERO\",\n        \"productLevelAttrName\": \"productLevel\",\n        \"maxLevel\": 8790,\n        \"startAddr\": 760,\n        \"tanqueRojo\": false,\n        \"attributes\": [\n            {\n                \"id\": 548,\n                \"attr\": \"productLevel\",\n                \"shiftAddr\": 0,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 549,\n                \"attr\": \"productTemp\",\n                \"shiftAddr\": 1,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 550,\n                \"attr\": \"vapRoomPress\",\n                \"shiftAddr\": 2,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 551,\n                \"attr\": \"vapRoomTemp\",\n                \"shiftAddr\": 3,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 552,\n                \"attr\": \"DObs\",\n                \"shiftAddr\": 4,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 553,\n                \"attr\": \"productDRef\",\n                \"shiftAddr\": 5,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 554,\n                \"attr\": \"tov\",\n                \"shiftAddr\": 6,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 555,\n                \"attr\": \"gsv\",\n                \"shiftAddr\": 8,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 556,\n                \"attr\": \"tgsv\",\n                \"shiftAddr\": 10,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 557,\n                \"attr\": \"totalMass\",\n                \"shiftAddr\": 12,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 558,\n                \"attr\": \"flowTOV\",\n                \"shiftAddr\": 14,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 559,\n                \"attr\": \"waterLevel\",\n                \"shiftAddr\": 15,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 560,\n                \"attr\": \"waterVol\",\n                \"shiftAddr\": 16,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 561,\n                \"attr\": \"availableRoom\",\n                \"shiftAddr\": 18,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 562,\n                \"attr\": \"availableTOV\",\n                \"shiftAddr\": 20,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 563,\n                \"attr\": \"CTL\",\n                \"shiftAddr\": 22,\n                \"r16\": false,\n                \"scale\": 100000\n            }\n        ]\n    },\n    {\n        \"nivelManual\": 6210,\n        \"nivelManualFechaHora\": 1547740548000,\n        \"tankName\": \"Tk-10\",\n        \"planta\": \"QC Terminales\",\n        \"idTanque\": 21,\n        \"mailNotificaciones\": \"lasis@reedcons.com\",\n        \"inconsistencia\": 1,\n        \"productName\": \"ACETATO DE ETILO\",\n        \"productLevelAttrName\": \"productLevel\",\n        \"maxLevel\": 8210,\n        \"startAddr\": 800,\n        \"tanqueRojo\": true,\n        \"attributes\": [\n            {\n                \"id\": 579,\n                \"attr\": \"productLevel\",\n                \"shiftAddr\": 0,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 580,\n                \"attr\": \"productTemp\",\n                \"shiftAddr\": 1,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 581,\n                \"attr\": \"vapRoomPress\",\n                \"shiftAddr\": 2,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 582,\n                \"attr\": \"vapRoomTemp\",\n                \"shiftAddr\": 3,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 583,\n                \"attr\": \"DObs\",\n                \"shiftAddr\": 4,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 584,\n                \"attr\": \"productDRef\",\n                \"shiftAddr\": 5,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 585,\n                \"attr\": \"tov\",\n                \"shiftAddr\": 6,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 586,\n                \"attr\": \"gsv\",\n                \"shiftAddr\": 8,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 587,\n                \"attr\": \"tgsv\",\n                \"shiftAddr\": 10,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 588,\n                \"attr\": \"totalMass\",\n                \"shiftAddr\": 12,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 589,\n                \"attr\": \"flowTOV\",\n                \"shiftAddr\": 14,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 590,\n                \"attr\": \"waterLevel\",\n                \"shiftAddr\": 15,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 591,\n                \"attr\": \"waterVol\",\n                \"shiftAddr\": 16,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 592,\n                \"attr\": \"availableRoom\",\n                \"shiftAddr\": 18,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 593,\n                \"attr\": \"availableTOV\",\n                \"shiftAddr\": 20,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 594,\n                \"attr\": \"CTL\",\n                \"shiftAddr\": 22,\n                \"r16\": false,\n                \"scale\": 100000\n            }\n        ]\n    },\n    {\n        \"nivelManual\": 24000,\n        \"nivelManualFechaHora\": 1544190890000,\n        \"tankName\": \"Tk-104\",\n        \"planta\": \"QC Terminales\",\n        \"idTanque\": 23,\n        \"mailNotificaciones\": \"lasis@reedcons.com\",\n        \"inconsistencia\": 1,\n        \"productName\": \"ISOPROPIL ALCOHOL (IPA)\",\n        \"productLevelAttrName\": \"productLevel\",\n        \"maxLevel\": 7331,\n        \"startAddr\": 880,\n        \"tanqueRojo\": true,\n        \"attributes\": [\n            {\n                \"id\": 641,\n                \"attr\": \"productLevel\",\n                \"shiftAddr\": 0,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 642,\n                \"attr\": \"productTemp\",\n                \"shiftAddr\": 1,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 643,\n                \"attr\": \"vapRoomPress\",\n                \"shiftAddr\": 2,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 644,\n                \"attr\": \"vapRoomTemp\",\n                \"shiftAddr\": 3,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 645,\n                \"attr\": \"DObs\",\n                \"shiftAddr\": 4,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 646,\n                \"attr\": \"productDRef\",\n                \"shiftAddr\": 5,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 647,\n                \"attr\": \"tov\",\n                \"shiftAddr\": 6,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 648,\n                \"attr\": \"gsv\",\n                \"shiftAddr\": 8,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 649,\n                \"attr\": \"tgsv\",\n                \"shiftAddr\": 10,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 650,\n                \"attr\": \"totalMass\",\n                \"shiftAddr\": 12,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 651,\n                \"attr\": \"flowTOV\",\n                \"shiftAddr\": 14,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 652,\n                \"attr\": \"waterLevel\",\n                \"shiftAddr\": 15,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 653,\n                \"attr\": \"waterVol\",\n                \"shiftAddr\": 16,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 654,\n                \"attr\": \"availableRoom\",\n                \"shiftAddr\": 18,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 655,\n                \"attr\": \"availableTOV\",\n                \"shiftAddr\": 20,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 656,\n                \"attr\": \"CTL\",\n                \"shiftAddr\": 22,\n                \"r16\": false,\n                \"scale\": 100000\n            }\n        ]\n    },\n    {\n        \"nivelManual\": 5640,\n        \"nivelManualFechaHora\": 1544806778000,\n        \"tankName\": \"Tk-109\",\n        \"planta\": \"QC Terminales\",\n        \"idTanque\": 24,\n        \"mailNotificaciones\": \"lasis@reedcons.com\",\n        \"inconsistencia\": 1,\n        \"productName\": \"VORANOL 8136\",\n        \"productLevelAttrName\": \"productLevel\",\n        \"maxLevel\": 7640,\n        \"startAddr\": 920,\n        \"tanqueRojo\": true,\n        \"attributes\": [\n            {\n                \"id\": 672,\n                \"attr\": \"productLevel\",\n                \"shiftAddr\": 0,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 673,\n                \"attr\": \"productTemp\",\n                \"shiftAddr\": 1,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 674,\n                \"attr\": \"vapRoomPress\",\n                \"shiftAddr\": 2,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 675,\n                \"attr\": \"vapRoomTemp\",\n                \"shiftAddr\": 3,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 676,\n                \"attr\": \"DObs\",\n                \"shiftAddr\": 4,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 677,\n                \"attr\": \"productDRef\",\n                \"shiftAddr\": 5,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 678,\n                \"attr\": \"tov\",\n                \"shiftAddr\": 6,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 679,\n                \"attr\": \"gsv\",\n                \"shiftAddr\": 8,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 680,\n                \"attr\": \"tgsv\",\n                \"shiftAddr\": 10,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 681,\n                \"attr\": \"totalMass\",\n                \"shiftAddr\": 12,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 682,\n                \"attr\": \"flowTOV\",\n                \"shiftAddr\": 14,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 683,\n                \"attr\": \"waterLevel\",\n                \"shiftAddr\": 15,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 684,\n                \"attr\": \"waterVol\",\n                \"shiftAddr\": 16,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 685,\n                \"attr\": \"availableRoom\",\n                \"shiftAddr\": 18,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 686,\n                \"attr\": \"availableTOV\",\n                \"shiftAddr\": 20,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 687,\n                \"attr\": \"CTL\",\n                \"shiftAddr\": 22,\n                \"r16\": false,\n                \"scale\": 100000\n            }\n        ]\n    },\n    {\n        \"nivelManual\": 0,\n        \"nivelManualFechaHora\": null,\n        \"tankName\": \"Tk-11\",\n        \"planta\": \"QC Terminales\",\n        \"idTanque\": 22,\n        \"mailNotificaciones\": \"lasis@reedcons.com\",\n        \"inconsistencia\": -1,\n        \"productName\": \"VINIL ACETATO MONOMERO\",\n        \"productLevelAttrName\": \"productLevel\",\n        \"maxLevel\": 10276,\n        \"startAddr\": 840,\n        \"tanqueRojo\": false,\n        \"attributes\": [\n            {\n                \"id\": 610,\n                \"attr\": \"productLevel\",\n                \"shiftAddr\": 0,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 611,\n                \"attr\": \"productTemp\",\n                \"shiftAddr\": 1,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 612,\n                \"attr\": \"vapRoomPress\",\n                \"shiftAddr\": 2,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 613,\n                \"attr\": \"vapRoomTemp\",\n                \"shiftAddr\": 3,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 614,\n                \"attr\": \"DObs\",\n                \"shiftAddr\": 4,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 615,\n                \"attr\": \"productDRef\",\n                \"shiftAddr\": 5,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 616,\n                \"attr\": \"tov\",\n                \"shiftAddr\": 6,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 617,\n                \"attr\": \"gsv\",\n                \"shiftAddr\": 8,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 618,\n                \"attr\": \"tgsv\",\n                \"shiftAddr\": 10,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 619,\n                \"attr\": \"totalMass\",\n                \"shiftAddr\": 12,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 620,\n                \"attr\": \"flowTOV\",\n                \"shiftAddr\": 14,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 621,\n                \"attr\": \"waterLevel\",\n                \"shiftAddr\": 15,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 622,\n                \"attr\": \"waterVol\",\n                \"shiftAddr\": 16,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 623,\n                \"attr\": \"availableRoom\",\n                \"shiftAddr\": 18,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 624,\n                \"attr\": \"availableTOV\",\n                \"shiftAddr\": 20,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 625,\n                \"attr\": \"CTL\",\n                \"shiftAddr\": 22,\n                \"r16\": false,\n                \"scale\": 100000\n            }\n        ]\n    },\n    {\n        \"nivelManual\": 0,\n        \"nivelManualFechaHora\": null,\n        \"tankName\": \"Tk-110\",\n        \"planta\": \"QC Terminales\",\n        \"idTanque\": 25,\n        \"mailNotificaciones\": \"lasis@reedcons.com\",\n        \"inconsistencia\": -1,\n        \"productName\": \"NO DATA\",\n        \"productLevelAttrName\": \"productLevel\",\n        \"maxLevel\": 7810,\n        \"startAddr\": 960,\n        \"tanqueRojo\": false,\n        \"attributes\": [\n            {\n                \"id\": 703,\n                \"attr\": \"productLevel\",\n                \"shiftAddr\": 0,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 704,\n                \"attr\": \"productTemp\",\n                \"shiftAddr\": 1,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 705,\n                \"attr\": \"vapRoomPress\",\n                \"shiftAddr\": 2,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 706,\n                \"attr\": \"vapRoomTemp\",\n                \"shiftAddr\": 3,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 707,\n                \"attr\": \"DObs\",\n                \"shiftAddr\": 4,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 708,\n                \"attr\": \"productDRef\",\n                \"shiftAddr\": 5,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 709,\n                \"attr\": \"tov\",\n                \"shiftAddr\": 6,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 710,\n                \"attr\": \"gsv\",\n                \"shiftAddr\": 8,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 711,\n                \"attr\": \"tgsv\",\n                \"shiftAddr\": 10,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 712,\n                \"attr\": \"totalMass\",\n                \"shiftAddr\": 12,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 713,\n                \"attr\": \"flowTOV\",\n                \"shiftAddr\": 14,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 714,\n                \"attr\": \"waterLevel\",\n                \"shiftAddr\": 15,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 715,\n                \"attr\": \"waterVol\",\n                \"shiftAddr\": 16,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 716,\n                \"attr\": \"availableRoom\",\n                \"shiftAddr\": 18,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 717,\n                \"attr\": \"availableTOV\",\n                \"shiftAddr\": 20,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 718,\n                \"attr\": \"CTL\",\n                \"shiftAddr\": 22,\n                \"r16\": false,\n                \"scale\": 100000\n            }\n        ]\n    },\n    {\n        \"nivelManual\": 12709,\n        \"nivelManualFechaHora\": 1547726172000,\n        \"tankName\": \"Tk-800\",\n        \"planta\": \"QC Terminales\",\n        \"idTanque\": 1,\n        \"mailNotificaciones\": \"lasis@reedcons.com\",\n        \"inconsistencia\": 1,\n        \"productName\": \"SODA CAUSTICA\",\n        \"productLevelAttrName\": \"productLevel\",\n        \"maxLevel\": 32767,\n        \"startAddr\": 0,\n        \"tanqueRojo\": true,\n        \"attributes\": [\n            {\n                \"id\": 1,\n                \"attr\": \"productLevel\",\n                \"shiftAddr\": 0,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 2,\n                \"attr\": \"productTemp\",\n                \"shiftAddr\": 1,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 3,\n                \"attr\": \"vapRoomPress\",\n                \"shiftAddr\": 2,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 4,\n                \"attr\": \"vapRoomTemp\",\n                \"shiftAddr\": 3,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 5,\n                \"attr\": \"DObs\",\n                \"shiftAddr\": 4,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 6,\n                \"attr\": \"productDRef\",\n                \"shiftAddr\": 5,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 7,\n                \"attr\": \"tov\",\n                \"shiftAddr\": 6,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 8,\n                \"attr\": \"gsv\",\n                \"shiftAddr\": 8,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 9,\n                \"attr\": \"tgsv\",\n                \"shiftAddr\": 10,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 10,\n                \"attr\": \"totalMass\",\n                \"shiftAddr\": 12,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 11,\n                \"attr\": \"flowTOV\",\n                \"shiftAddr\": 14,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 12,\n                \"attr\": \"waterLevel\",\n                \"shiftAddr\": 15,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 13,\n                \"attr\": \"waterVol\",\n                \"shiftAddr\": 16,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 14,\n                \"attr\": \"availableRoom\",\n                \"shiftAddr\": 18,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 15,\n                \"attr\": \"availableTOV\",\n                \"shiftAddr\": 20,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 16,\n                \"attr\": \"CTL\",\n                \"shiftAddr\": 22,\n                \"r16\": false,\n                \"scale\": 100000\n            }\n        ]\n    },\n    {\n        \"nivelManual\": 970,\n        \"nivelManualFechaHora\": 1547725993000,\n        \"tankName\": \"Tk-801\",\n        \"planta\": \"QC Terminales\",\n        \"idTanque\": 2,\n        \"mailNotificaciones\": \"lasis@reedcons.com\",\n        \"inconsistencia\": -1,\n        \"productName\": \"SODA CAUSTICA\",\n        \"productLevelAttrName\": \"productLevel\",\n        \"maxLevel\": 32767,\n        \"startAddr\": 40,\n        \"tanqueRojo\": false,\n        \"attributes\": [\n            {\n                \"id\": 17,\n                \"attr\": \"productLevel\",\n                \"shiftAddr\": 0,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 18,\n                \"attr\": \"productTemp\",\n                \"shiftAddr\": 1,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 19,\n                \"attr\": \"vapRoomPress\",\n                \"shiftAddr\": 2,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 20,\n                \"attr\": \"vapRoomTemp\",\n                \"shiftAddr\": 3,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 21,\n                \"attr\": \"DObs\",\n                \"shiftAddr\": 4,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 22,\n                \"attr\": \"productDRef\",\n                \"shiftAddr\": 5,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 23,\n                \"attr\": \"tov\",\n                \"shiftAddr\": 6,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 24,\n                \"attr\": \"gsv\",\n                \"shiftAddr\": 8,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 25,\n                \"attr\": \"tgsv\",\n                \"shiftAddr\": 10,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 26,\n                \"attr\": \"totalMass\",\n                \"shiftAddr\": 12,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 27,\n                \"attr\": \"flowTOV\",\n                \"shiftAddr\": 14,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 28,\n                \"attr\": \"waterLevel\",\n                \"shiftAddr\": 15,\n                \"r16\": true,\n                \"scale\": 1000\n            },\n            {\n                \"id\": 29,\n                \"attr\": \"waterVol\",\n                \"shiftAddr\": 16,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 30,\n                \"attr\": \"availableRoom\",\n                \"shiftAddr\": 18,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 31,\n                \"attr\": \"availableTOV\",\n                \"shiftAddr\": 20,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 32,\n                \"attr\": \"CTL\",\n                \"shiftAddr\": 22,\n                \"r16\": false,\n                \"scale\": 100000\n            }\n        ]\n    },\n    {\n        \"nivelManual\": 6138,\n        \"nivelManualFechaHora\": 1547725820000,\n        \"tankName\": \"Tk-802\",\n        \"planta\": \"QC Terminales\",\n        \"idTanque\": 3,\n        \"mailNotificaciones\": \"lasis@reedcons.com\",\n        \"inconsistencia\": -1,\n        \"productName\": \"LINEAL ALQUIL BENCENO \",\n        \"productLevelAttrName\": \"productLevel\",\n        \"maxLevel\": 15577,\n        \"startAddr\": 80,\n        \"tanqueRojo\": false,\n        \"attributes\": [\n            {\n                \"id\": 33,\n                \"attr\": \"productLevel\",\n                \"shiftAddr\": 0,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 34,\n                \"attr\": \"productTemp\",\n                \"shiftAddr\": 1,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 35,\n                \"attr\": \"vapRoomPress\",\n                \"shiftAddr\": 2,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 36,\n                \"attr\": \"vapRoomTemp\",\n                \"shiftAddr\": 3,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 37,\n                \"attr\": \"DObs\",\n                \"shiftAddr\": 4,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 38,\n                \"attr\": \"productDRef\",\n                \"shiftAddr\": 5,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 39,\n                \"attr\": \"tov\",\n                \"shiftAddr\": 6,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 40,\n                \"attr\": \"gsv\",\n                \"shiftAddr\": 8,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 41,\n                \"attr\": \"tgsv\",\n                \"shiftAddr\": 10,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 42,\n                \"attr\": \"totalMass\",\n                \"shiftAddr\": 12,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 43,\n                \"attr\": \"flowTOV\",\n                \"shiftAddr\": 14,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 44,\n                \"attr\": \"waterLevel\",\n                \"shiftAddr\": 15,\n                \"r16\": true,\n                \"scale\": 1000\n            },\n            {\n                \"id\": 45,\n                \"attr\": \"waterVol\",\n                \"shiftAddr\": 16,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 46,\n                \"attr\": \"availableRoom\",\n                \"shiftAddr\": 18,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 47,\n                \"attr\": \"availableTOV\",\n                \"shiftAddr\": 20,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 48,\n                \"attr\": \"CTL\",\n                \"shiftAddr\": 22,\n                \"r16\": false,\n                \"scale\": 100000\n            }\n        ]\n    },\n    {\n        \"nivelManual\": 11621,\n        \"nivelManualFechaHora\": 1547725687000,\n        \"tankName\": \"Tk-803\",\n        \"planta\": \"QC Terminales\",\n        \"idTanque\": 4,\n        \"mailNotificaciones\": \"lasis@reedcons.com\",\n        \"inconsistencia\": -1,\n        \"productName\": \"SODA CAUSTICA\",\n        \"productLevelAttrName\": \"productLevel\",\n        \"maxLevel\": 18413,\n        \"startAddr\": 120,\n        \"tanqueRojo\": false,\n        \"attributes\": [\n            {\n                \"id\": 49,\n                \"attr\": \"productLevel\",\n                \"shiftAddr\": 0,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 50,\n                \"attr\": \"productTemp\",\n                \"shiftAddr\": 1,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 51,\n                \"attr\": \"vapRoomPress\",\n                \"shiftAddr\": 2,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 52,\n                \"attr\": \"vapRoomTemp\",\n                \"shiftAddr\": 3,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 53,\n                \"attr\": \"DObs\",\n                \"shiftAddr\": 4,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 54,\n                \"attr\": \"productDRef\",\n                \"shiftAddr\": 5,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 55,\n                \"attr\": \"tov\",\n                \"shiftAddr\": 6,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 56,\n                \"attr\": \"gsv\",\n                \"shiftAddr\": 8,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 57,\n                \"attr\": \"tgsv\",\n                \"shiftAddr\": 10,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 58,\n                \"attr\": \"totalMass\",\n                \"shiftAddr\": 12,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 59,\n                \"attr\": \"flowTOV\",\n                \"shiftAddr\": 14,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 60,\n                \"attr\": \"waterLevel\",\n                \"shiftAddr\": 15,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 61,\n                \"attr\": \"waterVol\",\n                \"shiftAddr\": 16,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 62,\n                \"attr\": \"availableRoom\",\n                \"shiftAddr\": 18,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 63,\n                \"attr\": \"availableTOV\",\n                \"shiftAddr\": 20,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 64,\n                \"attr\": \"CTL\",\n                \"shiftAddr\": 22,\n                \"r16\": false,\n                \"scale\": 100000\n            }\n        ]\n    },\n    {\n        \"nivelManual\": 5,\n        \"nivelManualFechaHora\": 1483585200000,\n        \"tankName\": \"Tk-804\",\n        \"planta\": \"QC Terminales\",\n        \"idTanque\": 5,\n        \"mailNotificaciones\": \"lasis@reedcons.com\",\n        \"inconsistencia\": 1,\n        \"productName\": \"SODA CAUSTICA 30%\",\n        \"productLevelAttrName\": \"productLevel\",\n        \"maxLevel\": 16891,\n        \"startAddr\": 160,\n        \"tanqueRojo\": true,\n        \"attributes\": [\n            {\n                \"id\": 80,\n                \"attr\": \"productLevel\",\n                \"shiftAddr\": 0,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 81,\n                \"attr\": \"productTemp\",\n                \"shiftAddr\": 1,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 82,\n                \"attr\": \"vapRoomPress\",\n                \"shiftAddr\": 2,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 83,\n                \"attr\": \"vapRoomTemp\",\n                \"shiftAddr\": 3,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 84,\n                \"attr\": \"DObs\",\n                \"shiftAddr\": 4,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 85,\n                \"attr\": \"productDRef\",\n                \"shiftAddr\": 5,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 86,\n                \"attr\": \"tov\",\n                \"shiftAddr\": 6,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 87,\n                \"attr\": \"gsv\",\n                \"shiftAddr\": 8,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 88,\n                \"attr\": \"tgsv\",\n                \"shiftAddr\": 10,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 89,\n                \"attr\": \"totalMass\",\n                \"shiftAddr\": 12,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 90,\n                \"attr\": \"flowTOV\",\n                \"shiftAddr\": 14,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 91,\n                \"attr\": \"waterLevel\",\n                \"shiftAddr\": 15,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 92,\n                \"attr\": \"waterVol\",\n                \"shiftAddr\": 16,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 93,\n                \"attr\": \"availableRoom\",\n                \"shiftAddr\": 18,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 94,\n                \"attr\": \"availableTOV\",\n                \"shiftAddr\": 20,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 95,\n                \"attr\": \"CTL\",\n                \"shiftAddr\": 22,\n                \"r16\": false,\n                \"scale\": 100000\n            }\n        ]\n    },\n    {\n        \"nivelManual\": 5044,\n        \"nivelManualFechaHora\": 1547725926000,\n        \"tankName\": \"Tk-806\",\n        \"planta\": \"QC Terminales\",\n        \"idTanque\": 6,\n        \"mailNotificaciones\": \"lasis@reedcons.com\",\n        \"inconsistencia\": -1,\n        \"productName\": \"BUTIL ACRILATO\",\n        \"productLevelAttrName\": \"productLevel\",\n        \"maxLevel\": 13847,\n        \"startAddr\": 200,\n        \"tanqueRojo\": false,\n        \"attributes\": [\n            {\n                \"id\": 111,\n                \"attr\": \"productLevel\",\n                \"shiftAddr\": 0,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 112,\n                \"attr\": \"productTemp\",\n                \"shiftAddr\": 1,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 113,\n                \"attr\": \"vapRoomPress\",\n                \"shiftAddr\": 2,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 114,\n                \"attr\": \"vapRoomTemp\",\n                \"shiftAddr\": 3,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 115,\n                \"attr\": \"DObs\",\n                \"shiftAddr\": 4,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 116,\n                \"attr\": \"productDRef\",\n                \"shiftAddr\": 5,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 117,\n                \"attr\": \"tov\",\n                \"shiftAddr\": 6,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 118,\n                \"attr\": \"gsv\",\n                \"shiftAddr\": 8,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 119,\n                \"attr\": \"tgsv\",\n                \"shiftAddr\": 10,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 120,\n                \"attr\": \"totalMass\",\n                \"shiftAddr\": 12,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 121,\n                \"attr\": \"flowTOV\",\n                \"shiftAddr\": 14,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 122,\n                \"attr\": \"waterLevel\",\n                \"shiftAddr\": 15,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 123,\n                \"attr\": \"waterVol\",\n                \"shiftAddr\": 16,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 124,\n                \"attr\": \"availableRoom\",\n                \"shiftAddr\": 18,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 125,\n                \"attr\": \"availableTOV\",\n                \"shiftAddr\": 20,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 126,\n                \"attr\": \"CTL\",\n                \"shiftAddr\": 22,\n                \"r16\": false,\n                \"scale\": 100000\n            }\n        ]\n    },\n    {\n        \"nivelManual\": -1067,\n        \"nivelManualFechaHora\": 1542200094000,\n        \"tankName\": \"Tk-807\",\n        \"planta\": \"QC Terminales\",\n        \"idTanque\": 7,\n        \"mailNotificaciones\": \"lasis@reedcons.com\",\n        \"inconsistencia\": 0,\n        \"productName\": \"N-PROPANOL\",\n        \"productLevelAttrName\": \"productLevel\",\n        \"maxLevel\": 13861,\n        \"startAddr\": 240,\n        \"tanqueRojo\": false,\n        \"attributes\": [\n            {\n                \"id\": 142,\n                \"attr\": \"productLevel\",\n                \"shiftAddr\": 0,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 143,\n                \"attr\": \"productTemp\",\n                \"shiftAddr\": 1,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 144,\n                \"attr\": \"vapRoomPress\",\n                \"shiftAddr\": 2,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 145,\n                \"attr\": \"vapRoomTemp\",\n                \"shiftAddr\": 3,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 146,\n                \"attr\": \"DObs\",\n                \"shiftAddr\": 4,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 147,\n                \"attr\": \"productDRef\",\n                \"shiftAddr\": 5,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 148,\n                \"attr\": \"tov\",\n                \"shiftAddr\": 6,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 149,\n                \"attr\": \"gsv\",\n                \"shiftAddr\": 8,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 150,\n                \"attr\": \"tgsv\",\n                \"shiftAddr\": 10,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 151,\n                \"attr\": \"totalMass\",\n                \"shiftAddr\": 12,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 152,\n                \"attr\": \"flowTOV\",\n                \"shiftAddr\": 14,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 153,\n                \"attr\": \"waterLevel\",\n                \"shiftAddr\": 15,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 154,\n                \"attr\": \"waterVol\",\n                \"shiftAddr\": 16,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 155,\n                \"attr\": \"availableRoom\",\n                \"shiftAddr\": 18,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 156,\n                \"attr\": \"availableTOV\",\n                \"shiftAddr\": 20,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 157,\n                \"attr\": \"CTL\",\n                \"shiftAddr\": 22,\n                \"r16\": false,\n                \"scale\": 100000\n            }\n        ]\n    },\n    {\n        \"nivelManual\": 7019,\n        \"nivelManualFechaHora\": 1547726075000,\n        \"tankName\": \"Tk-808\",\n        \"planta\": \"QC Terminales\",\n        \"idTanque\": 8,\n        \"mailNotificaciones\": \"lasis@reedcons.com\",\n        \"inconsistencia\": 1,\n        \"productName\": \"ETHANOL BUEN GUSTO\",\n        \"productLevelAttrName\": \"productLevel\",\n        \"maxLevel\": 13865,\n        \"startAddr\": 280,\n        \"tanqueRojo\": true,\n        \"attributes\": [\n            {\n                \"id\": 176,\n                \"attr\": \"productLevel\",\n                \"shiftAddr\": 0,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 177,\n                \"attr\": \"productTemp\",\n                \"shiftAddr\": 1,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 178,\n                \"attr\": \"vapRoomPress\",\n                \"shiftAddr\": 2,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 179,\n                \"attr\": \"vapRoomTemp\",\n                \"shiftAddr\": 3,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 180,\n                \"attr\": \"DObs\",\n                \"shiftAddr\": 4,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 181,\n                \"attr\": \"productDRef\",\n                \"shiftAddr\": 5,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 182,\n                \"attr\": \"tov\",\n                \"shiftAddr\": 6,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 183,\n                \"attr\": \"gsv\",\n                \"shiftAddr\": 8,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 184,\n                \"attr\": \"tgsv\",\n                \"shiftAddr\": 10,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 185,\n                \"attr\": \"totalMass\",\n                \"shiftAddr\": 12,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 186,\n                \"attr\": \"flowTOV\",\n                \"shiftAddr\": 14,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 187,\n                \"attr\": \"waterLevel\",\n                \"shiftAddr\": 15,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 188,\n                \"attr\": \"waterVol\",\n                \"shiftAddr\": 16,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 189,\n                \"attr\": \"availableRoom\",\n                \"shiftAddr\": 18,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 190,\n                \"attr\": \"availableTOV\",\n                \"shiftAddr\": 20,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 191,\n                \"attr\": \"CTL\",\n                \"shiftAddr\": 22,\n                \"r16\": false,\n                \"scale\": 100000\n            }\n        ]\n    },\n    {\n        \"nivelManual\": 0,\n        \"nivelManualFechaHora\": null,\n        \"tankName\": \"Tk-809\",\n        \"planta\": \"QC Terminales\",\n        \"idTanque\": 9,\n        \"mailNotificaciones\": \"lasis@reedcons.com\",\n        \"inconsistencia\": -1,\n        \"productName\": \"VINIL ACETATO MONOMERO\",\n        \"productLevelAttrName\": \"productLevel\",\n        \"maxLevel\": 13839,\n        \"startAddr\": 320,\n        \"tanqueRojo\": false,\n        \"attributes\": [\n            {\n                \"id\": 207,\n                \"attr\": \"productLevel\",\n                \"shiftAddr\": 0,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 208,\n                \"attr\": \"productTemp\",\n                \"shiftAddr\": 1,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 209,\n                \"attr\": \"vapRoomPress\",\n                \"shiftAddr\": 2,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 210,\n                \"attr\": \"vapRoomTemp\",\n                \"shiftAddr\": 3,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 211,\n                \"attr\": \"DObs\",\n                \"shiftAddr\": 4,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 212,\n                \"attr\": \"productDRef\",\n                \"shiftAddr\": 5,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 213,\n                \"attr\": \"tov\",\n                \"shiftAddr\": 6,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 214,\n                \"attr\": \"gsv\",\n                \"shiftAddr\": 8,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 215,\n                \"attr\": \"tgsv\",\n                \"shiftAddr\": 10,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 216,\n                \"attr\": \"totalMass\",\n                \"shiftAddr\": 12,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 217,\n                \"attr\": \"flowTOV\",\n                \"shiftAddr\": 14,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 218,\n                \"attr\": \"waterLevel\",\n                \"shiftAddr\": 15,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 219,\n                \"attr\": \"waterVol\",\n                \"shiftAddr\": 16,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 220,\n                \"attr\": \"availableRoom\",\n                \"shiftAddr\": 18,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 221,\n                \"attr\": \"availableTOV\",\n                \"shiftAddr\": 20,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 222,\n                \"attr\": \"CTL\",\n                \"shiftAddr\": 22,\n                \"r16\": false,\n                \"scale\": 100000\n            }\n        ]\n    },\n    {\n        \"nivelManual\": 0,\n        \"nivelManualFechaHora\": null,\n        \"tankName\": \"Tk-F100\",\n        \"planta\": \"QC Terminales\",\n        \"idTanque\": 10,\n        \"mailNotificaciones\": \"lasis@reedcons.com\",\n        \"inconsistencia\": -1,\n        \"productName\": \"VINIL ACETATO MONOMERO\",\n        \"productLevelAttrName\": \"productLevel\",\n        \"maxLevel\": 9469,\n        \"startAddr\": 360,\n        \"tanqueRojo\": false,\n        \"attributes\": [\n            {\n                \"id\": 238,\n                \"attr\": \"productLevel\",\n                \"shiftAddr\": 0,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 239,\n                \"attr\": \"productTemp\",\n                \"shiftAddr\": 1,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 240,\n                \"attr\": \"vapRoomPress\",\n                \"shiftAddr\": 2,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 241,\n                \"attr\": \"vapRoomTemp\",\n                \"shiftAddr\": 3,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 242,\n                \"attr\": \"DObs\",\n                \"shiftAddr\": 4,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 243,\n                \"attr\": \"productDRef\",\n                \"shiftAddr\": 5,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 244,\n                \"attr\": \"tov\",\n                \"shiftAddr\": 6,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 245,\n                \"attr\": \"gsv\",\n                \"shiftAddr\": 8,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 246,\n                \"attr\": \"tgsv\",\n                \"shiftAddr\": 10,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 247,\n                \"attr\": \"totalMass\",\n                \"shiftAddr\": 12,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 248,\n                \"attr\": \"flowTOV\",\n                \"shiftAddr\": 14,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 249,\n                \"attr\": \"waterLevel\",\n                \"shiftAddr\": 15,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 250,\n                \"attr\": \"waterVol\",\n                \"shiftAddr\": 16,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 251,\n                \"attr\": \"availableRoom\",\n                \"shiftAddr\": 18,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 252,\n                \"attr\": \"availableTOV\",\n                \"shiftAddr\": 20,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 253,\n                \"attr\": \"CTL\",\n                \"shiftAddr\": 22,\n                \"r16\": false,\n                \"scale\": 100000\n            }\n        ]\n    },\n    {\n        \"nivelManual\": 0,\n        \"nivelManualFechaHora\": null,\n        \"tankName\": \"Tk-F200\",\n        \"planta\": \"QC Terminales\",\n        \"idTanque\": 11,\n        \"mailNotificaciones\": \"lasis@reedcons.com\",\n        \"inconsistencia\": -1,\n        \"productName\": \"SOLUAN32\",\n        \"productLevelAttrName\": \"productLevel\",\n        \"maxLevel\": 17540,\n        \"startAddr\": 400,\n        \"tanqueRojo\": false,\n        \"attributes\": [\n            {\n                \"id\": 269,\n                \"attr\": \"productLevel\",\n                \"shiftAddr\": 0,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 270,\n                \"attr\": \"productTemp\",\n                \"shiftAddr\": 1,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 271,\n                \"attr\": \"vapRoomPress\",\n                \"shiftAddr\": 2,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 272,\n                \"attr\": \"vapRoomTemp\",\n                \"shiftAddr\": 3,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 273,\n                \"attr\": \"DObs\",\n                \"shiftAddr\": 4,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 274,\n                \"attr\": \"productDRef\",\n                \"shiftAddr\": 5,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 275,\n                \"attr\": \"tov\",\n                \"shiftAddr\": 6,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 276,\n                \"attr\": \"gsv\",\n                \"shiftAddr\": 8,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 277,\n                \"attr\": \"tgsv\",\n                \"shiftAddr\": 10,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 278,\n                \"attr\": \"totalMass\",\n                \"shiftAddr\": 12,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 279,\n                \"attr\": \"flowTOV\",\n                \"shiftAddr\": 14,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 280,\n                \"attr\": \"waterLevel\",\n                \"shiftAddr\": 15,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 281,\n                \"attr\": \"waterVol\",\n                \"shiftAddr\": 16,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 282,\n                \"attr\": \"availableRoom\",\n                \"shiftAddr\": 18,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 283,\n                \"attr\": \"availableTOV\",\n                \"shiftAddr\": 20,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 284,\n                \"attr\": \"CTL\",\n                \"shiftAddr\": 22,\n                \"r16\": false,\n                \"scale\": 100000\n            }\n        ]\n    },\n    {\n        \"nivelManual\": 45000,\n        \"nivelManualFechaHora\": 1542204419000,\n        \"tankName\": \"Tk-F300\",\n        \"planta\": \"QC Terminales\",\n        \"idTanque\": 12,\n        \"mailNotificaciones\": \"lasis@reedcons.com\",\n        \"inconsistencia\": 0,\n        \"productName\": \"DOWANOL PM-SOLVENON \",\n        \"productLevelAttrName\": \"productLevel\",\n        \"maxLevel\": 8930,\n        \"startAddr\": 440,\n        \"tanqueRojo\": false,\n        \"attributes\": [\n            {\n                \"id\": 300,\n                \"attr\": \"productLevel\",\n                \"shiftAddr\": 0,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 301,\n                \"attr\": \"productTemp\",\n                \"shiftAddr\": 1,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 302,\n                \"attr\": \"vapRoomPress\",\n                \"shiftAddr\": 2,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 303,\n                \"attr\": \"vapRoomTemp\",\n                \"shiftAddr\": 3,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 304,\n                \"attr\": \"DObs\",\n                \"shiftAddr\": 4,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 305,\n                \"attr\": \"productDRef\",\n                \"shiftAddr\": 5,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 306,\n                \"attr\": \"tov\",\n                \"shiftAddr\": 6,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 307,\n                \"attr\": \"gsv\",\n                \"shiftAddr\": 8,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 308,\n                \"attr\": \"tgsv\",\n                \"shiftAddr\": 10,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 309,\n                \"attr\": \"totalMass\",\n                \"shiftAddr\": 12,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 310,\n                \"attr\": \"flowTOV\",\n                \"shiftAddr\": 14,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 311,\n                \"attr\": \"waterLevel\",\n                \"shiftAddr\": 15,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 312,\n                \"attr\": \"waterVol\",\n                \"shiftAddr\": 16,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 313,\n                \"attr\": \"availableRoom\",\n                \"shiftAddr\": 18,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 314,\n                \"attr\": \"availableTOV\",\n                \"shiftAddr\": 20,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 315,\n                \"attr\": \"CTL\",\n                \"shiftAddr\": 22,\n                \"r16\": false,\n                \"scale\": 100000\n            }\n        ]\n    },\n    {\n        \"nivelManual\": 0,\n        \"nivelManualFechaHora\": null,\n        \"tankName\": \"Tk-F400\",\n        \"planta\": \"QC Terminales\",\n        \"idTanque\": 13,\n        \"mailNotificaciones\": \"lasis@reedcons.com\",\n        \"inconsistencia\": -1,\n        \"productName\": \"N-PROPYL ACETATE\",\n        \"productLevelAttrName\": \"productLevel\",\n        \"maxLevel\": 11420,\n        \"startAddr\": 480,\n        \"tanqueRojo\": false,\n        \"attributes\": [\n            {\n                \"id\": 331,\n                \"attr\": \"productLevel\",\n                \"shiftAddr\": 0,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 332,\n                \"attr\": \"productTemp\",\n                \"shiftAddr\": 1,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 333,\n                \"attr\": \"vapRoomPress\",\n                \"shiftAddr\": 2,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 334,\n                \"attr\": \"vapRoomTemp\",\n                \"shiftAddr\": 3,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 335,\n                \"attr\": \"DObs\",\n                \"shiftAddr\": 4,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 336,\n                \"attr\": \"productDRef\",\n                \"shiftAddr\": 5,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 337,\n                \"attr\": \"tov\",\n                \"shiftAddr\": 6,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 338,\n                \"attr\": \"gsv\",\n                \"shiftAddr\": 8,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 339,\n                \"attr\": \"tgsv\",\n                \"shiftAddr\": 10,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 340,\n                \"attr\": \"totalMass\",\n                \"shiftAddr\": 12,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 341,\n                \"attr\": \"flowTOV\",\n                \"shiftAddr\": 14,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 342,\n                \"attr\": \"waterLevel\",\n                \"shiftAddr\": 15,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 343,\n                \"attr\": \"waterVol\",\n                \"shiftAddr\": 16,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 344,\n                \"attr\": \"availableRoom\",\n                \"shiftAddr\": 18,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 345,\n                \"attr\": \"availableTOV\",\n                \"shiftAddr\": 20,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 346,\n                \"attr\": \"CTL\",\n                \"shiftAddr\": 22,\n                \"r16\": false,\n                \"scale\": 100000\n            }\n        ]\n    },\n    {\n        \"nivelManual\": 0,\n        \"nivelManualFechaHora\": null,\n        \"tankName\": \"Tk-F500\",\n        \"planta\": \"QC Terminales\",\n        \"idTanque\": 14,\n        \"mailNotificaciones\": \"lasis@reedcons.com\",\n        \"inconsistencia\": -1,\n        \"productName\": \"VORANOL 8136\",\n        \"productLevelAttrName\": \"productLevel\",\n        \"maxLevel\": 13288,\n        \"startAddr\": 520,\n        \"tanqueRojo\": false,\n        \"attributes\": [\n            {\n                \"id\": 362,\n                \"attr\": \"productLevel\",\n                \"shiftAddr\": 0,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 363,\n                \"attr\": \"productTemp\",\n                \"shiftAddr\": 1,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 364,\n                \"attr\": \"vapRoomPress\",\n                \"shiftAddr\": 2,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 365,\n                \"attr\": \"vapRoomTemp\",\n                \"shiftAddr\": 3,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 366,\n                \"attr\": \"DObs\",\n                \"shiftAddr\": 4,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 367,\n                \"attr\": \"productDRef\",\n                \"shiftAddr\": 5,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 368,\n                \"attr\": \"tov\",\n                \"shiftAddr\": 6,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 369,\n                \"attr\": \"gsv\",\n                \"shiftAddr\": 8,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 370,\n                \"attr\": \"tgsv\",\n                \"shiftAddr\": 10,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 371,\n                \"attr\": \"totalMass\",\n                \"shiftAddr\": 12,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 372,\n                \"attr\": \"flowTOV\",\n                \"shiftAddr\": 14,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 373,\n                \"attr\": \"waterLevel\",\n                \"shiftAddr\": 15,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 374,\n                \"attr\": \"waterVol\",\n                \"shiftAddr\": 16,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 375,\n                \"attr\": \"availableRoom\",\n                \"shiftAddr\": 18,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 376,\n                \"attr\": \"availableTOV\",\n                \"shiftAddr\": 20,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 377,\n                \"attr\": \"CTL\",\n                \"shiftAddr\": 22,\n                \"r16\": false,\n                \"scale\": 100000\n            }\n        ]\n    },\n    {\n        \"nivelManual\": 0,\n        \"nivelManualFechaHora\": null,\n        \"tankName\": \"Tk-F600\",\n        \"planta\": \"QC Terminales\",\n        \"idTanque\": 15,\n        \"mailNotificaciones\": \"lasis@reedcons.com\",\n        \"inconsistencia\": -1,\n        \"productName\": \"POTASA CAUSTICA\",\n        \"productLevelAttrName\": \"productLevel\",\n        \"maxLevel\": 33000,\n        \"startAddr\": 560,\n        \"tanqueRojo\": false,\n        \"attributes\": [\n            {\n                \"id\": 393,\n                \"attr\": \"productLevel\",\n                \"shiftAddr\": 0,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 394,\n                \"attr\": \"productTemp\",\n                \"shiftAddr\": 1,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 395,\n                \"attr\": \"vapRoomPress\",\n                \"shiftAddr\": 2,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 396,\n                \"attr\": \"vapRoomTemp\",\n                \"shiftAddr\": 3,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 397,\n                \"attr\": \"DObs\",\n                \"shiftAddr\": 4,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 398,\n                \"attr\": \"productDRef\",\n                \"shiftAddr\": 5,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 399,\n                \"attr\": \"tov\",\n                \"shiftAddr\": 6,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 400,\n                \"attr\": \"gsv\",\n                \"shiftAddr\": 8,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 401,\n                \"attr\": \"tgsv\",\n                \"shiftAddr\": 10,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 402,\n                \"attr\": \"totalMass\",\n                \"shiftAddr\": 12,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 403,\n                \"attr\": \"flowTOV\",\n                \"shiftAddr\": 14,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 404,\n                \"attr\": \"waterLevel\",\n                \"shiftAddr\": 15,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 405,\n                \"attr\": \"waterVol\",\n                \"shiftAddr\": 16,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 406,\n                \"attr\": \"availableRoom\",\n                \"shiftAddr\": 18,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 407,\n                \"attr\": \"availableTOV\",\n                \"shiftAddr\": 20,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 408,\n                \"attr\": \"CTL\",\n                \"shiftAddr\": 22,\n                \"r16\": false,\n                \"scale\": 100000\n            }\n        ]\n    },\n    {\n        \"nivelManual\": 30000,\n        \"nivelManualFechaHora\": 1541008787000,\n        \"tankName\": \"Tk-F700\",\n        \"planta\": \"QC Terminales\",\n        \"idTanque\": 16,\n        \"mailNotificaciones\": \"lasis@reedcons.com\",\n        \"inconsistencia\": 0,\n        \"productName\": \"VORANOL 8136\",\n        \"productLevelAttrName\": \"productLevel\",\n        \"maxLevel\": 32767,\n        \"startAddr\": 600,\n        \"tanqueRojo\": false,\n        \"attributes\": [\n            {\n                \"id\": 424,\n                \"attr\": \"productLevel\",\n                \"shiftAddr\": 0,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 425,\n                \"attr\": \"productTemp\",\n                \"shiftAddr\": 1,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 426,\n                \"attr\": \"vapRoomPress\",\n                \"shiftAddr\": 2,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 427,\n                \"attr\": \"vapRoomTemp\",\n                \"shiftAddr\": 3,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 428,\n                \"attr\": \"DObs\",\n                \"shiftAddr\": 4,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 429,\n                \"attr\": \"productDRef\",\n                \"shiftAddr\": 5,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 430,\n                \"attr\": \"tov\",\n                \"shiftAddr\": 6,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 431,\n                \"attr\": \"gsv\",\n                \"shiftAddr\": 8,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 432,\n                \"attr\": \"tgsv\",\n                \"shiftAddr\": 10,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 433,\n                \"attr\": \"totalMass\",\n                \"shiftAddr\": 12,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 434,\n                \"attr\": \"flowTOV\",\n                \"shiftAddr\": 14,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 435,\n                \"attr\": \"waterLevel\",\n                \"shiftAddr\": 15,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 436,\n                \"attr\": \"waterVol\",\n                \"shiftAddr\": 16,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 437,\n                \"attr\": \"availableRoom\",\n                \"shiftAddr\": 18,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 438,\n                \"attr\": \"availableTOV\",\n                \"shiftAddr\": 20,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 439,\n                \"attr\": \"CTL\",\n                \"shiftAddr\": 22,\n                \"r16\": false,\n                \"scale\": 100000\n            }\n        ]\n    },\n    {\n        \"nivelManual\": 0,\n        \"nivelManualFechaHora\": null,\n        \"tankName\": \"Tk-V000\",\n        \"planta\": \"QC Terminales\",\n        \"idTanque\": 26,\n        \"mailNotificaciones\": \"lasis@reedcons.com\",\n        \"inconsistencia\": -1,\n        \"productName\": \"Nafta Super\",\n        \"productLevelAttrName\": \"productLevel\",\n        \"maxLevel\": 15000,\n        \"startAddr\": 1000,\n        \"tanqueRojo\": false,\n        \"attributes\": [\n            {\n                \"id\": 734,\n                \"attr\": \"productLevel\",\n                \"shiftAddr\": 0,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 735,\n                \"attr\": \"productTemp\",\n                \"shiftAddr\": 1,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 736,\n                \"attr\": \"vapRoomPress\",\n                \"shiftAddr\": 2,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 737,\n                \"attr\": \"vapRoomTemp\",\n                \"shiftAddr\": 3,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 738,\n                \"attr\": \"DObs\",\n                \"shiftAddr\": 4,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 739,\n                \"attr\": \"productDRef\",\n                \"shiftAddr\": 5,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 740,\n                \"attr\": \"tov\",\n                \"shiftAddr\": 6,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 741,\n                \"attr\": \"gsv\",\n                \"shiftAddr\": 8,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 742,\n                \"attr\": \"tgsv\",\n                \"shiftAddr\": 10,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 743,\n                \"attr\": \"totalMass\",\n                \"shiftAddr\": 12,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 744,\n                \"attr\": \"flowTOV\",\n                \"shiftAddr\": 14,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 745,\n                \"attr\": \"waterLevel\",\n                \"shiftAddr\": 15,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 746,\n                \"attr\": \"waterVol\",\n                \"shiftAddr\": 16,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 747,\n                \"attr\": \"availableRoom\",\n                \"shiftAddr\": 18,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 748,\n                \"attr\": \"availableTOV\",\n                \"shiftAddr\": 20,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 749,\n                \"attr\": \"CTL\",\n                \"shiftAddr\": 22,\n                \"r16\": false,\n                \"scale\": 100000\n            }\n        ]\n    },\n    {\n        \"nivelManual\": 0,\n        \"nivelManualFechaHora\": null,\n        \"tankName\": \"Tk-v001\",\n        \"planta\": \"QC Terminales\",\n        \"idTanque\": 27,\n        \"mailNotificaciones\": \"lasis@reedcons.com\",\n        \"inconsistencia\": -1,\n        \"productName\": \"Nafta Super\",\n        \"productLevelAttrName\": \"productLevel\",\n        \"maxLevel\": 15000,\n        \"startAddr\": 1040,\n        \"tanqueRojo\": false,\n        \"attributes\": [\n            {\n                \"id\": 765,\n                \"attr\": \"productLevel\",\n                \"shiftAddr\": 0,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 766,\n                \"attr\": \"productTemp\",\n                \"shiftAddr\": 1,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 767,\n                \"attr\": \"vapRoomPress\",\n                \"shiftAddr\": 2,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 768,\n                \"attr\": \"vapRoomTemp\",\n                \"shiftAddr\": 3,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 769,\n                \"attr\": \"DObs\",\n                \"shiftAddr\": 4,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 770,\n                \"attr\": \"productDRef\",\n                \"shiftAddr\": 5,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 771,\n                \"attr\": \"tov\",\n                \"shiftAddr\": 6,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 772,\n                \"attr\": \"gsv\",\n                \"shiftAddr\": 8,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 773,\n                \"attr\": \"tgsv\",\n                \"shiftAddr\": 10,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 774,\n                \"attr\": \"totalMass\",\n                \"shiftAddr\": 12,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 775,\n                \"attr\": \"flowTOV\",\n                \"shiftAddr\": 14,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 776,\n                \"attr\": \"waterLevel\",\n                \"shiftAddr\": 15,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 777,\n                \"attr\": \"waterVol\",\n                \"shiftAddr\": 16,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 778,\n                \"attr\": \"availableRoom\",\n                \"shiftAddr\": 18,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 779,\n                \"attr\": \"availableTOV\",\n                \"shiftAddr\": 20,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 780,\n                \"attr\": \"CTL\",\n                \"shiftAddr\": 22,\n                \"r16\": false,\n                \"scale\": 100000\n            }\n        ]\n    },\n    {\n        \"nivelManual\": 0,\n        \"nivelManualFechaHora\": null,\n        \"tankName\": \"Tk-V002\",\n        \"planta\": \"QC Terminales\",\n        \"idTanque\": 28,\n        \"mailNotificaciones\": \"lasis@reedcons.com\",\n        \"inconsistencia\": -1,\n        \"productName\": \"Nafta Super\",\n        \"productLevelAttrName\": \"productLevel\",\n        \"maxLevel\": 15000,\n        \"startAddr\": 1080,\n        \"tanqueRojo\": false,\n        \"attributes\": [\n            {\n                \"id\": 796,\n                \"attr\": \"productLevel\",\n                \"shiftAddr\": 0,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 797,\n                \"attr\": \"productTemp\",\n                \"shiftAddr\": 1,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 798,\n                \"attr\": \"vapRoomPress\",\n                \"shiftAddr\": 2,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 799,\n                \"attr\": \"vapRoomTemp\",\n                \"shiftAddr\": 3,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 800,\n                \"attr\": \"DObs\",\n                \"shiftAddr\": 4,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 801,\n                \"attr\": \"productDRef\",\n                \"shiftAddr\": 5,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 802,\n                \"attr\": \"tov\",\n                \"shiftAddr\": 6,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 803,\n                \"attr\": \"gsv\",\n                \"shiftAddr\": 8,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 804,\n                \"attr\": \"tgsv\",\n                \"shiftAddr\": 10,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 805,\n                \"attr\": \"totalMass\",\n                \"shiftAddr\": 12,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 806,\n                \"attr\": \"flowTOV\",\n                \"shiftAddr\": 14,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 807,\n                \"attr\": \"waterLevel\",\n                \"shiftAddr\": 15,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 808,\n                \"attr\": \"waterVol\",\n                \"shiftAddr\": 16,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 809,\n                \"attr\": \"availableRoom\",\n                \"shiftAddr\": 18,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 810,\n                \"attr\": \"availableTOV\",\n                \"shiftAddr\": 20,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 811,\n                \"attr\": \"CTL\",\n                \"shiftAddr\": 22,\n                \"r16\": false,\n                \"scale\": 100000\n            }\n        ]\n    },\n    {\n        \"nivelManual\": 0,\n        \"nivelManualFechaHora\": null,\n        \"tankName\": \"Tk-V003\",\n        \"planta\": \"QC Terminales\",\n        \"idTanque\": 29,\n        \"mailNotificaciones\": \"lasis@reedcons.com\",\n        \"inconsistencia\": -1,\n        \"productName\": \"Nafta Super\",\n        \"productLevelAttrName\": \"productLevel\",\n        \"maxLevel\": 15000,\n        \"startAddr\": 1120,\n        \"tanqueRojo\": false,\n        \"attributes\": [\n            {\n                \"id\": 827,\n                \"attr\": \"productLevel\",\n                \"shiftAddr\": 0,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 828,\n                \"attr\": \"productTemp\",\n                \"shiftAddr\": 1,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 829,\n                \"attr\": \"vapRoomPress\",\n                \"shiftAddr\": 2,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 830,\n                \"attr\": \"vapRoomTemp\",\n                \"shiftAddr\": 3,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 831,\n                \"attr\": \"DObs\",\n                \"shiftAddr\": 4,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 832,\n                \"attr\": \"productDRef\",\n                \"shiftAddr\": 5,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 833,\n                \"attr\": \"tov\",\n                \"shiftAddr\": 6,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 834,\n                \"attr\": \"gsv\",\n                \"shiftAddr\": 8,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 835,\n                \"attr\": \"tgsv\",\n                \"shiftAddr\": 10,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 836,\n                \"attr\": \"totalMass\",\n                \"shiftAddr\": 12,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 837,\n                \"attr\": \"flowTOV\",\n                \"shiftAddr\": 14,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 838,\n                \"attr\": \"waterLevel\",\n                \"shiftAddr\": 15,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 839,\n                \"attr\": \"waterVol\",\n                \"shiftAddr\": 16,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 840,\n                \"attr\": \"availableRoom\",\n                \"shiftAddr\": 18,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 841,\n                \"attr\": \"availableTOV\",\n                \"shiftAddr\": 20,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 842,\n                \"attr\": \"CTL\",\n                \"shiftAddr\": 22,\n                \"r16\": false,\n                \"scale\": 100000\n            }\n        ]\n    },\n    {\n        \"nivelManual\": 0,\n        \"nivelManualFechaHora\": 1541008734000,\n        \"tankName\": \"Tk-V004\",\n        \"planta\": \"QC Terminales\",\n        \"idTanque\": 30,\n        \"mailNotificaciones\": \"lasis@reedcons.com\",\n        \"inconsistencia\": -1,\n        \"productName\": \"Nafta Super\",\n        \"productLevelAttrName\": \"productLevel\",\n        \"maxLevel\": 15000,\n        \"startAddr\": 1160,\n        \"tanqueRojo\": false,\n        \"attributes\": [\n            {\n                \"id\": 858,\n                \"attr\": \"productLevel\",\n                \"shiftAddr\": 0,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 859,\n                \"attr\": \"productTemp\",\n                \"shiftAddr\": 1,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 860,\n                \"attr\": \"vapRoomPress\",\n                \"shiftAddr\": 2,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 861,\n                \"attr\": \"vapRoomTemp\",\n                \"shiftAddr\": 3,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 862,\n                \"attr\": \"DObs\",\n                \"shiftAddr\": 4,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 863,\n                \"attr\": \"productDRef\",\n                \"shiftAddr\": 5,\n                \"r16\": true,\n                \"scale\": 10\n            },\n            {\n                \"id\": 864,\n                \"attr\": \"tov\",\n                \"shiftAddr\": 6,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 865,\n                \"attr\": \"gsv\",\n                \"shiftAddr\": 8,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 866,\n                \"attr\": \"tgsv\",\n                \"shiftAddr\": 10,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 867,\n                \"attr\": \"totalMass\",\n                \"shiftAddr\": 12,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 868,\n                \"attr\": \"flowTOV\",\n                \"shiftAddr\": 14,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 869,\n                \"attr\": \"waterLevel\",\n                \"shiftAddr\": 15,\n                \"r16\": true,\n                \"scale\": 1\n            },\n            {\n                \"id\": 870,\n                \"attr\": \"waterVol\",\n                \"shiftAddr\": 16,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 871,\n                \"attr\": \"availableRoom\",\n                \"shiftAddr\": 18,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 872,\n                \"attr\": \"availableTOV\",\n                \"shiftAddr\": 20,\n                \"r16\": false,\n                \"scale\": 1\n            },\n            {\n                \"id\": 873,\n                \"attr\": \"CTL\",\n                \"shiftAddr\": 22,\n                \"r16\": false,\n                \"scale\": 100000\n            }\n        ]\n    }\n]",
        "output": "json",
        "x": 531.6666946411133,
        "y": 610.0000076293945,
        "wires": [
            [
                "4f89c53d.7eed5c"
            ]
        ]
    },
    {
        "id": "4f89c53d.7eed5c",
        "type": "http response",
        "z": "8201686d.7b90e8",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 710,
        "y": 600,
        "wires": []
    },
    {
        "id": "2ef23fe4.492fe",
        "type": "function",
        "z": "8201686d.7b90e8",
        "name": "Prepare Request",
        "func": "msg.headers={xauthtoken:flow.get(\"data.authToken\").token};\nmsg.url=flow.get(\"data.urlBase\")+\"/api/v1/tanques/ciudata/\"+flow.get(\"data.idCompania\")+\"/\"+flow.get(\"data.idCiu\")+\"?store=\"+msg.llamarws;\n\nvar newPayload=[];\nvar payload=JSON.parse(msg.payload);\npayload.forEach(function(o,i){\n    if(o.payload) {\n        newPayload.push(o);\n    }\n});\nmsg.payload=JSON.stringify(newPayload);\nmsg.hayDatos=newPayload.length>0;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1470,
        "y": 1230,
        "wires": [
            [
                "89c6a319.411bb"
            ]
        ]
    },
    {
        "id": "aae9e09c.5cc23",
        "type": "http request",
        "z": "8201686d.7b90e8",
        "name": "",
        "method": "POST",
        "ret": "txt",
        "paytoqs": false,
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "x": 1730,
        "y": 1400,
        "wires": [
            [
                "af4a3056.f40fe"
            ]
        ]
    },
    {
        "id": "af4a3056.f40fe",
        "type": "debug",
        "z": "8201686d.7b90e8",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 1910,
        "y": 1320,
        "wires": []
    },
    {
        "id": "89c6a319.411bb",
        "type": "switch",
        "z": "8201686d.7b90e8",
        "name": "hay datos?",
        "property": "hayDatos",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1570,
        "y": 1330,
        "wires": [
            [
                "aae9e09c.5cc23"
            ]
        ]
    },
    {
        "id": "5a5242fa.63335c",
        "type": "debug",
        "z": "8201686d.7b90e8",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 550,
        "y": 1820,
        "wires": []
    },
    {
        "id": "abf9bcf1.2e6fd",
        "type": "debug",
        "z": "8201686d.7b90e8",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload[0]",
        "targetType": "msg",
        "x": 1030,
        "y": 940,
        "wires": []
    },
    {
        "id": "81987ae0.e65fa8",
        "type": "json",
        "z": "8201686d.7b90e8",
        "name": "",
        "property": "payload",
        "action": "obj",
        "pretty": false,
        "x": 910,
        "y": 1000,
        "wires": [
            [
                "abf9bcf1.2e6fd"
            ]
        ]
    },
    {
        "id": "6f9f148c.8deffc",
        "type": "debug",
        "z": "8201686d.7b90e8",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 630,
        "y": 840,
        "wires": []
    },
    {
        "id": "af985c83.8ef38",
        "type": "debug",
        "z": "8201686d.7b90e8",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 620,
        "y": 940,
        "wires": []
    },
    {
        "id": "d5ca8671.1b8f68",
        "type": "function",
        "z": "10108ae0.c69e55",
        "name": "To arreglo Int(16)",
        "func": "var arreglo=msg.arreglo;\nvar arreglo8=msg.arreglo8;\nfor(i=0;i<msg.payload.buffer.length;i=i+2) {\n    arreglo.push(msg.payload.buffer.readInt16BE(i));\n}\nfor(i=0;i<msg.payload.buffer.length;i++) {\n    arreglo8.push(msg.payload.buffer[i]);\n}\nmsg.arreglo8=arreglo8;\nmsg.arreglo=arreglo;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 310,
        "y": 2000,
        "wires": [
            [
                "ef9b8c6e.f7d79"
            ]
        ]
    },
    {
        "id": "89696584.2aba68",
        "type": "modbus-getter",
        "z": "10108ae0.c69e55",
        "name": "Lee CIU - 1125",
        "showStatusActivities": true,
        "showErrors": true,
        "logIOActivities": false,
        "unitid": "42",
        "dataType": "HoldingRegister",
        "adr": "1125",
        "quantity": "125",
        "server": "eadd0d0e.01e44",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "keepMsgProperties": true,
        "x": 300,
        "y": 1940,
        "wires": [
            [],
            [
                "d5ca8671.1b8f68"
            ]
        ]
    },
    {
        "id": "51813c1a.f461f4",
        "type": "function",
        "z": "10108ae0.c69e55",
        "name": "To arreglo Int(16)",
        "func": "var arreglo=msg.arreglo;\nvar arreglo8=msg.arreglo8;\nfor(i=0;i<msg.payload.buffer.length;i=i+2) {\n    arreglo.push(msg.payload.buffer.readInt16BE(i));\n}\nfor(i=0;i<msg.payload.buffer.length;i++) {\n    arreglo8.push(msg.payload.buffer[i]);\n}\nmsg.arreglo8=arreglo8;\nmsg.arreglo=arreglo;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 310,
        "y": 2120,
        "wires": [
            [
                "60ac9c2d.2fae14"
            ]
        ]
    },
    {
        "id": "ef9b8c6e.f7d79",
        "type": "modbus-getter",
        "z": "10108ae0.c69e55",
        "name": "Lee CIU - 1250",
        "showStatusActivities": true,
        "showErrors": true,
        "logIOActivities": false,
        "unitid": "42",
        "dataType": "HoldingRegister",
        "adr": "1250",
        "quantity": "125",
        "server": "eadd0d0e.01e44",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "keepMsgProperties": true,
        "x": 300,
        "y": 2060,
        "wires": [
            [],
            [
                "51813c1a.f461f4"
            ]
        ]
    },
    {
        "id": "997f064f.325308",
        "type": "function",
        "z": "10108ae0.c69e55",
        "name": "To arreglo Int(16)",
        "func": "var arreglo=msg.arreglo;\nvar arreglo8=msg.arreglo8;\nfor(i=0;i<msg.payload.buffer.length;i=i+2) {\n    arreglo.push(msg.payload.buffer.readInt16BE(i));\n}\nfor(i=0;i<msg.payload.buffer.length;i++) {\n    arreglo8.push(msg.payload.buffer[i]);\n}\nmsg.arreglo8=arreglo8;\nmsg.arreglo=arreglo;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 310,
        "y": 2240,
        "wires": [
            [
                "c7f1951f.ee7f78"
            ]
        ]
    },
    {
        "id": "60ac9c2d.2fae14",
        "type": "modbus-getter",
        "z": "10108ae0.c69e55",
        "name": "Lee CIU - 1375",
        "showStatusActivities": true,
        "showErrors": true,
        "logIOActivities": false,
        "unitid": "42",
        "dataType": "HoldingRegister",
        "adr": "1375",
        "quantity": "125",
        "server": "eadd0d0e.01e44",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "keepMsgProperties": true,
        "x": 300,
        "y": 2180,
        "wires": [
            [],
            [
                "997f064f.325308"
            ]
        ]
    },
    {
        "id": "288615a3.83604a",
        "type": "function",
        "z": "10108ae0.c69e55",
        "name": "To arreglo Int(16)",
        "func": "var arreglo=msg.arreglo;\nvar arreglo8=msg.arreglo8;\nfor(i=0;i<msg.payload.buffer.length;i=i+2) {\n    arreglo.push(msg.payload.buffer.readInt16BE(i));\n}\nfor(i=0;i<msg.payload.buffer.length;i++) {\n    arreglo8.push(msg.payload.buffer[i]);\n}\nmsg.arreglo8=arreglo8;\nmsg.arreglo=arreglo;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 310,
        "y": 2360,
        "wires": [
            [
                "943766ca.6796b8"
            ]
        ]
    },
    {
        "id": "c7f1951f.ee7f78",
        "type": "modbus-getter",
        "z": "10108ae0.c69e55",
        "name": "Lee CIU - 1500",
        "showStatusActivities": true,
        "showErrors": true,
        "logIOActivities": false,
        "unitid": "42",
        "dataType": "HoldingRegister",
        "adr": "1500",
        "quantity": "125",
        "server": "eadd0d0e.01e44",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "keepMsgProperties": true,
        "x": 300,
        "y": 2300,
        "wires": [
            [],
            [
                "288615a3.83604a"
            ]
        ]
    },
    {
        "id": "e96f3a6e.8c9828",
        "type": "function",
        "z": "10108ae0.c69e55",
        "name": "To arreglo Int(16)",
        "func": "var arreglo=msg.arreglo;\nvar arreglo8=msg.arreglo8;\nfor(i=0;i<msg.payload.buffer.length;i=i+2) {\n    arreglo.push(msg.payload.buffer.readInt16BE(i));\n}\nfor(i=0;i<msg.payload.buffer.length;i++) {\n    arreglo8.push(msg.payload.buffer[i]);\n}\nmsg.arreglo8=arreglo8;\nmsg.arreglo=arreglo;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 310,
        "y": 2480,
        "wires": [
            [
                "184ea30.39c775d"
            ]
        ]
    },
    {
        "id": "943766ca.6796b8",
        "type": "modbus-getter",
        "z": "10108ae0.c69e55",
        "name": "Lee CIU - 1625",
        "showStatusActivities": true,
        "showErrors": true,
        "logIOActivities": false,
        "unitid": "42",
        "dataType": "HoldingRegister",
        "adr": "1625",
        "quantity": "125",
        "server": "eadd0d0e.01e44",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "keepMsgProperties": true,
        "x": 300,
        "y": 2420,
        "wires": [
            [],
            [
                "e96f3a6e.8c9828"
            ]
        ]
    },
    {
        "id": "822e21ff.6a598",
        "type": "function",
        "z": "10108ae0.c69e55",
        "name": "To arreglo Int(16)",
        "func": "var arreglo=msg.arreglo;\nvar arreglo8=msg.arreglo8;\nfor(i=0;i<msg.payload.buffer.length;i=i+2) {\n    arreglo.push(msg.payload.buffer.readInt16BE(i));\n}\nfor(i=0;i<msg.payload.buffer.length;i++) {\n    arreglo8.push(msg.payload.buffer[i]);\n}\nmsg.arreglo8=arreglo8;\nmsg.arreglo=arreglo;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 310,
        "y": 2600,
        "wires": [
            [
                "21f580de.e2068"
            ]
        ]
    },
    {
        "id": "184ea30.39c775d",
        "type": "modbus-getter",
        "z": "10108ae0.c69e55",
        "name": "Lee CIU - 1750",
        "showStatusActivities": true,
        "showErrors": true,
        "logIOActivities": false,
        "unitid": "42",
        "dataType": "HoldingRegister",
        "adr": "1750",
        "quantity": "125",
        "server": "eadd0d0e.01e44",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "keepMsgProperties": true,
        "x": 300,
        "y": 2540,
        "wires": [
            [],
            [
                "822e21ff.6a598"
            ]
        ]
    },
    {
        "id": "4f70b39a.65027c",
        "type": "function",
        "z": "10108ae0.c69e55",
        "name": "To arreglo Int(16)",
        "func": "var arreglo=msg.arreglo;\nvar arreglo8=msg.arreglo8;\nfor(i=0;i<msg.payload.buffer.length;i=i+2) {\n    arreglo.push(msg.payload.buffer.readInt16BE(i));\n}\nfor(i=0;i<msg.payload.buffer.length;i++) {\n    arreglo8.push(msg.payload.buffer[i]);\n}\nmsg.arreglo8=arreglo8;\nmsg.arreglo=arreglo;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 310,
        "y": 2720,
        "wires": [
            [
                "86a54e64.f7bc"
            ]
        ]
    },
    {
        "id": "21f580de.e2068",
        "type": "modbus-getter",
        "z": "10108ae0.c69e55",
        "name": "Lee CIU - 1875",
        "showStatusActivities": true,
        "showErrors": true,
        "logIOActivities": false,
        "unitid": "42",
        "dataType": "HoldingRegister",
        "adr": "1875",
        "quantity": "125",
        "server": "eadd0d0e.01e44",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "keepMsgProperties": true,
        "x": 300,
        "y": 2660,
        "wires": [
            [],
            [
                "4f70b39a.65027c"
            ]
        ]
    },
    {
        "id": "2c870d9.98212f2",
        "type": "function",
        "z": "10108ae0.c69e55",
        "name": "To arreglo Int(16)",
        "func": "var arreglo=msg.arreglo;\nvar arreglo8=msg.arreglo8;\nfor(i=0;i<msg.payload.buffer.length;i=i+2) {\n    arreglo.push(msg.payload.buffer.readInt16BE(i));\n}\nfor(i=0;i<msg.payload.buffer.length;i++) {\n    arreglo8.push(msg.payload.buffer[i]);\n}\nmsg.arreglo8=arreglo8;\nmsg.arreglo=arreglo;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 310,
        "y": 3920,
        "wires": [
            [
                "e233387c.8014b8",
                "7bf8756f.33f77c"
            ]
        ]
    },
    {
        "id": "93ffc361.f0463",
        "type": "modbus-getter",
        "z": "10108ae0.c69e55",
        "name": "Lee CIU - 3125",
        "showStatusActivities": true,
        "showErrors": true,
        "logIOActivities": false,
        "unitid": "42",
        "dataType": "HoldingRegister",
        "adr": "3125",
        "quantity": "125",
        "server": "eadd0d0e.01e44",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "keepMsgProperties": true,
        "x": 300,
        "y": 3860,
        "wires": [
            [],
            [
                "2c870d9.98212f2"
            ]
        ]
    },
    {
        "id": "bdf96aa9.37f498",
        "type": "function",
        "z": "10108ae0.c69e55",
        "name": "To arreglo Int(16)",
        "func": "var arreglo=msg.arreglo;\nvar arreglo8=msg.arreglo8;\nfor(i=0;i<msg.payload.buffer.length;i=i+2) {\n    arreglo.push(msg.payload.buffer.readInt16BE(i));\n}\nfor(i=0;i<msg.payload.buffer.length;i++) {\n    arreglo8.push(msg.payload.buffer[i]);\n}\nmsg.arreglo8=arreglo8;\nmsg.arreglo=arreglo;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 310,
        "y": 2840,
        "wires": [
            [
                "3eabf2ef.fe139e"
            ]
        ]
    },
    {
        "id": "86a54e64.f7bc",
        "type": "modbus-getter",
        "z": "10108ae0.c69e55",
        "name": "Lee CIU - 2000",
        "showStatusActivities": true,
        "showErrors": true,
        "logIOActivities": false,
        "unitid": "42",
        "dataType": "HoldingRegister",
        "adr": "2000",
        "quantity": "125",
        "server": "eadd0d0e.01e44",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "keepMsgProperties": true,
        "x": 300,
        "y": 2780,
        "wires": [
            [],
            [
                "bdf96aa9.37f498"
            ]
        ]
    },
    {
        "id": "cf90c7e9.ca6c88",
        "type": "function",
        "z": "10108ae0.c69e55",
        "name": "To arreglo Int(16)",
        "func": "var arreglo=msg.arreglo;\nvar arreglo8=msg.arreglo8;\nfor(i=0;i<msg.payload.buffer.length;i=i+2) {\n    arreglo.push(msg.payload.buffer.readInt16BE(i));\n}\nfor(i=0;i<msg.payload.buffer.length;i++) {\n    arreglo8.push(msg.payload.buffer[i]);\n}\nmsg.arreglo8=arreglo8;\nmsg.arreglo=arreglo;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 310,
        "y": 2960,
        "wires": [
            [
                "4f909e83.0e28d"
            ]
        ]
    },
    {
        "id": "3eabf2ef.fe139e",
        "type": "modbus-getter",
        "z": "10108ae0.c69e55",
        "name": "Lee CIU - 2125",
        "showStatusActivities": true,
        "showErrors": true,
        "logIOActivities": false,
        "unitid": "42",
        "dataType": "HoldingRegister",
        "adr": "2125",
        "quantity": "125",
        "server": "eadd0d0e.01e44",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "keepMsgProperties": true,
        "x": 300,
        "y": 2900,
        "wires": [
            [],
            [
                "cf90c7e9.ca6c88"
            ]
        ]
    },
    {
        "id": "3015b783.2dde68",
        "type": "function",
        "z": "10108ae0.c69e55",
        "name": "To arreglo Int(16)",
        "func": "var arreglo=msg.arreglo;\nvar arreglo8=msg.arreglo8;\nfor(i=0;i<msg.payload.buffer.length;i=i+2) {\n    arreglo.push(msg.payload.buffer.readInt16BE(i));\n}\nfor(i=0;i<msg.payload.buffer.length;i++) {\n    arreglo8.push(msg.payload.buffer[i]);\n}\nmsg.arreglo8=arreglo8;\nmsg.arreglo=arreglo;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 310,
        "y": 3080,
        "wires": [
            [
                "7393ef3d.8cd8e"
            ]
        ]
    },
    {
        "id": "4f909e83.0e28d",
        "type": "modbus-getter",
        "z": "10108ae0.c69e55",
        "name": "Lee CIU - 2250",
        "showStatusActivities": true,
        "showErrors": true,
        "logIOActivities": false,
        "unitid": "42",
        "dataType": "HoldingRegister",
        "adr": "2250",
        "quantity": "125",
        "server": "eadd0d0e.01e44",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "keepMsgProperties": true,
        "x": 300,
        "y": 3020,
        "wires": [
            [],
            [
                "3015b783.2dde68"
            ]
        ]
    },
    {
        "id": "959212b4.aba27",
        "type": "function",
        "z": "10108ae0.c69e55",
        "name": "To arreglo Int(16)",
        "func": "var arreglo=msg.arreglo;\nvar arreglo8=msg.arreglo8;\nfor(i=0;i<msg.payload.buffer.length;i=i+2) {\n    arreglo.push(msg.payload.buffer.readInt16BE(i));\n}\nfor(i=0;i<msg.payload.buffer.length;i++) {\n    arreglo8.push(msg.payload.buffer[i]);\n}\nmsg.arreglo8=arreglo8;\nmsg.arreglo=arreglo;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 310,
        "y": 3200,
        "wires": [
            [
                "ee2546f2.240b78"
            ]
        ]
    },
    {
        "id": "7393ef3d.8cd8e",
        "type": "modbus-getter",
        "z": "10108ae0.c69e55",
        "name": "Lee CIU - 2375",
        "showStatusActivities": true,
        "showErrors": true,
        "logIOActivities": false,
        "unitid": "42",
        "dataType": "HoldingRegister",
        "adr": "2375",
        "quantity": "125",
        "server": "eadd0d0e.01e44",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "keepMsgProperties": true,
        "x": 300,
        "y": 3140,
        "wires": [
            [],
            [
                "959212b4.aba27"
            ]
        ]
    },
    {
        "id": "e4bffa05.982928",
        "type": "function",
        "z": "10108ae0.c69e55",
        "name": "To arreglo Int(16)",
        "func": "var arreglo=msg.arreglo;\nvar arreglo8=msg.arreglo8;\nfor(i=0;i<msg.payload.buffer.length;i=i+2) {\n    arreglo.push(msg.payload.buffer.readInt16BE(i));\n}\nfor(i=0;i<msg.payload.buffer.length;i++) {\n    arreglo8.push(msg.payload.buffer[i]);\n}\nmsg.arreglo8=arreglo8;\nmsg.arreglo=arreglo;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 310,
        "y": 3320,
        "wires": [
            [
                "995727c1.5f8748"
            ]
        ]
    },
    {
        "id": "ee2546f2.240b78",
        "type": "modbus-getter",
        "z": "10108ae0.c69e55",
        "name": "Lee CIU - 2500",
        "showStatusActivities": true,
        "showErrors": true,
        "logIOActivities": false,
        "unitid": "42",
        "dataType": "HoldingRegister",
        "adr": "2500",
        "quantity": "125",
        "server": "eadd0d0e.01e44",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "keepMsgProperties": true,
        "x": 300,
        "y": 3260,
        "wires": [
            [],
            [
                "e4bffa05.982928"
            ]
        ]
    },
    {
        "id": "75e1cbe4.080b24",
        "type": "function",
        "z": "10108ae0.c69e55",
        "name": "To arreglo Int(16)",
        "func": "var arreglo=msg.arreglo;\nvar arreglo8=msg.arreglo8;\nfor(i=0;i<msg.payload.buffer.length;i=i+2) {\n    arreglo.push(msg.payload.buffer.readInt16BE(i));\n}\nfor(i=0;i<msg.payload.buffer.length;i++) {\n    arreglo8.push(msg.payload.buffer[i]);\n}\nmsg.arreglo8=arreglo8;\nmsg.arreglo=arreglo;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 310,
        "y": 3440,
        "wires": [
            [
                "347cab0.0aa7256"
            ]
        ]
    },
    {
        "id": "995727c1.5f8748",
        "type": "modbus-getter",
        "z": "10108ae0.c69e55",
        "name": "Lee CIU - 2625",
        "showStatusActivities": true,
        "showErrors": true,
        "logIOActivities": false,
        "unitid": "42",
        "dataType": "HoldingRegister",
        "adr": "2625",
        "quantity": "125",
        "server": "eadd0d0e.01e44",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "keepMsgProperties": true,
        "x": 300,
        "y": 3380,
        "wires": [
            [],
            [
                "75e1cbe4.080b24"
            ]
        ]
    },
    {
        "id": "cd963042.73be",
        "type": "function",
        "z": "10108ae0.c69e55",
        "name": "To arreglo Int(16)",
        "func": "var arreglo=msg.arreglo;\nvar arreglo8=msg.arreglo8;\nfor(i=0;i<msg.payload.buffer.length;i=i+2) {\n    arreglo.push(msg.payload.buffer.readInt16BE(i));\n}\nfor(i=0;i<msg.payload.buffer.length;i++) {\n    arreglo8.push(msg.payload.buffer[i]);\n}\nmsg.arreglo8=arreglo8;\nmsg.arreglo=arreglo;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 310,
        "y": 3560,
        "wires": [
            [
                "1c4bfb46.5ca0b5"
            ]
        ]
    },
    {
        "id": "347cab0.0aa7256",
        "type": "modbus-getter",
        "z": "10108ae0.c69e55",
        "name": "Lee CIU - 2750",
        "showStatusActivities": true,
        "showErrors": true,
        "logIOActivities": false,
        "unitid": "42",
        "dataType": "HoldingRegister",
        "adr": "2750",
        "quantity": "125",
        "server": "eadd0d0e.01e44",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "keepMsgProperties": true,
        "x": 300,
        "y": 3500,
        "wires": [
            [],
            [
                "cd963042.73be"
            ]
        ]
    },
    {
        "id": "bdb018e7.055aa8",
        "type": "function",
        "z": "10108ae0.c69e55",
        "name": "To arreglo Int(16)",
        "func": "var arreglo=msg.arreglo;\nvar arreglo8=msg.arreglo8;\nfor(i=0;i<msg.payload.buffer.length;i=i+2) {\n    arreglo.push(msg.payload.buffer.readInt16BE(i));\n}\nfor(i=0;i<msg.payload.buffer.length;i++) {\n    arreglo8.push(msg.payload.buffer[i]);\n}\nmsg.arreglo8=arreglo8;\nmsg.arreglo=arreglo;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 310,
        "y": 3680,
        "wires": [
            [
                "1b60a06b.2449d"
            ]
        ]
    },
    {
        "id": "1c4bfb46.5ca0b5",
        "type": "modbus-getter",
        "z": "10108ae0.c69e55",
        "name": "Lee CIU - 2875",
        "showStatusActivities": true,
        "showErrors": true,
        "logIOActivities": false,
        "unitid": "42",
        "dataType": "HoldingRegister",
        "adr": "2875",
        "quantity": "125",
        "server": "eadd0d0e.01e44",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "keepMsgProperties": true,
        "x": 300,
        "y": 3620,
        "wires": [
            [],
            [
                "bdb018e7.055aa8"
            ]
        ]
    },
    {
        "id": "3d5f99f9.642376",
        "type": "function",
        "z": "10108ae0.c69e55",
        "name": "To arreglo Int(16)",
        "func": "var arreglo=msg.arreglo;\nvar arreglo8=msg.arreglo8;\nfor(i=0;i<msg.payload.buffer.length;i=i+2) {\n    arreglo.push(msg.payload.buffer.readInt16BE(i));\n}\nfor(i=0;i<msg.payload.buffer.length;i++) {\n    arreglo8.push(msg.payload.buffer[i]);\n}\nmsg.arreglo8=arreglo8;\nmsg.arreglo=arreglo;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 310,
        "y": 3800,
        "wires": [
            [
                "93ffc361.f0463"
            ]
        ]
    },
    {
        "id": "1b60a06b.2449d",
        "type": "modbus-getter",
        "z": "10108ae0.c69e55",
        "name": "Lee CIU - 3000",
        "showStatusActivities": true,
        "showErrors": true,
        "logIOActivities": false,
        "unitid": "42",
        "dataType": "HoldingRegister",
        "adr": "3000",
        "quantity": "125",
        "server": "eadd0d0e.01e44",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "keepMsgProperties": true,
        "x": 300,
        "y": 3740,
        "wires": [
            [],
            [
                "3d5f99f9.642376"
            ]
        ]
    },
    {
        "id": "e233387c.8014b8",
        "type": "debug",
        "z": "10108ae0.c69e55",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "arreglo",
        "targetType": "msg",
        "x": 600,
        "y": 3920,
        "wires": []
    },
    {
        "id": "7bf8756f.33f77c",
        "type": "modbus-getter",
        "z": "10108ae0.c69e55",
        "name": "Lee CIU - 3250",
        "showStatusActivities": true,
        "showErrors": true,
        "logIOActivities": false,
        "unitid": "42",
        "dataType": "HoldingRegister",
        "adr": "3250",
        "quantity": "125",
        "server": "eadd0d0e.01e44",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "keepMsgProperties": true,
        "x": 300,
        "y": 3980,
        "wires": [
            [],
            [
                "5588fa8a.a349d4"
            ]
        ]
    },
    {
        "id": "5588fa8a.a349d4",
        "type": "function",
        "z": "10108ae0.c69e55",
        "name": "To arreglo Int(16)",
        "func": "var arreglo=msg.arreglo;\nvar arreglo8=msg.arreglo8;\nfor(i=0;i<msg.payload.buffer.length;i=i+2) {\n    arreglo.push(msg.payload.buffer.readInt16BE(i));\n}\nfor(i=0;i<msg.payload.buffer.length;i++) {\n    arreglo8.push(msg.payload.buffer[i]);\n}\nmsg.arreglo8=arreglo8;\nmsg.arreglo=arreglo;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 310,
        "y": 4040,
        "wires": [
            [
                "a249289f.bd5758"
            ]
        ]
    },
    {
        "id": "84ba41d.dc2bac",
        "type": "switch",
        "z": "b70c95d6.e86af8",
        "name": "Pidiendo Token?",
        "property": "pidiendoTokenTT",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "no",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "si",
                "vt": "str"
            },
            {
                "t": "null"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 557,
        "y": 76,
        "wires": [
            [
                "997ca0de.b72ed"
            ],
            [],
            [
                "997ca0de.b72ed"
            ]
        ],
        "outputLabels": [
            "no",
            "si",
            ""
        ]
    },
    {
        "id": "997ca0de.b72ed",
        "type": "change",
        "z": "b70c95d6.e86af8",
        "name": "pidiendoTokenTT=si",
        "rules": [
            {
                "t": "set",
                "p": "pidiendoTokenTT",
                "pt": "flow",
                "to": "si",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 763,
        "y": 69,
        "wires": [
            [
                "41bc69a1.d48f48",
                "b61afd36.d54f8"
            ]
        ]
    },
    {
        "id": "41bc69a1.d48f48",
        "type": "function",
        "z": "b70c95d6.e86af8",
        "name": "Prepare Request",
        "func": "msg.url=flow.get('urlBaseTT')+\"external/dologin?username=\"+flow.get('usernameTT')+\"&password=\"+flow.get('passwordTT');\n//node.warn(msg.url)\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 970,
        "y": 40,
        "wires": [
            [
                "198a9b83.7af274"
            ]
        ]
    },
    {
        "id": "198a9b83.7af274",
        "type": "http request",
        "z": "b70c95d6.e86af8",
        "name": "getToken",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "x": 120,
        "y": 200,
        "wires": [
            [
                "8773d9bf.029b28"
            ]
        ]
    },
    {
        "id": "8773d9bf.029b28",
        "type": "switch",
        "z": "b70c95d6.e86af8",
        "name": "Recibido?",
        "property": "statusCode",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "200",
                "vt": "str"
            },
            {
                "t": "neq",
                "v": "200",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 260,
        "y": 200,
        "wires": [
            [
                "7fa680bb.fc192"
            ],
            [
                "ea0191d8.feee5"
            ]
        ],
        "outputLabels": [
            "ok",
            "nook"
        ]
    },
    {
        "id": "1bc0570b.56f479",
        "type": "change",
        "z": "b70c95d6.e86af8",
        "name": "SET authToken",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.authtoken",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 600,
        "y": 180,
        "wires": [
            [
                "2637145a.041f1c"
            ]
        ]
    },
    {
        "id": "11626d1c.91f973",
        "type": "change",
        "z": "b70c95d6.e86af8",
        "name": "UNSET authToken",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 610,
        "y": 220,
        "wires": [
            [
                "8de233b.ea133d"
            ]
        ]
    },
    {
        "id": "2637145a.041f1c",
        "type": "change",
        "z": "b70c95d6.e86af8",
        "name": "pidiendoTokenTT=no",
        "rules": [
            {
                "t": "set",
                "p": "pidiendoTokenTT",
                "pt": "flow",
                "to": "no",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 800,
        "y": 180,
        "wires": [
            [
                "476be406.efb0ac"
            ]
        ]
    },
    {
        "id": "79d365b2.27141c",
        "type": "change",
        "z": "b70c95d6.e86af8",
        "name": "Parse Inputs",
        "rules": [
            {
                "t": "set",
                "p": "urlBaseTT",
                "pt": "flow",
                "to": "urlBaseTT",
                "tot": "env"
            },
            {
                "t": "set",
                "p": "usernameTT",
                "pt": "flow",
                "to": "usernameTT",
                "tot": "env"
            },
            {
                "t": "set",
                "p": "passwordTT",
                "pt": "flow",
                "to": "passwordTT",
                "tot": "env"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 170,
        "y": 40,
        "wires": [
            [
                "4cae6b5d.96a334"
            ]
        ]
    },
    {
        "id": "7fa680bb.fc192",
        "type": "json",
        "z": "b70c95d6.e86af8",
        "name": "",
        "property": "payload",
        "action": "obj",
        "pretty": false,
        "x": 390,
        "y": 180,
        "wires": [
            [
                "1bc0570b.56f479"
            ]
        ]
    },
    {
        "id": "ea0191d8.feee5",
        "type": "function",
        "z": "b70c95d6.e86af8",
        "name": "Auth Error",
        "func": "node.warn(\"Error Autenticando: \"+msg.payload+\", \"+flow.get(\"usernameTT\")+\"@\"+flow.get(\"urlBaseTT\"));\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 410,
        "y": 220,
        "wires": [
            [
                "11626d1c.91f973"
            ]
        ]
    },
    {
        "id": "8de233b.ea133d",
        "type": "change",
        "z": "b70c95d6.e86af8",
        "name": "pidiendoTokenTT=no",
        "rules": [
            {
                "t": "set",
                "p": "pidiendoTokenTT",
                "pt": "flow",
                "to": "no",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 820,
        "y": 220,
        "wires": [
            [
                "6a34bac4.782c14"
            ]
        ]
    },
    {
        "id": "4cae6b5d.96a334",
        "type": "function",
        "z": "b70c95d6.e86af8",
        "name": "Check URL",
        "func": "var url=flow.get('urlBaseTT');\n\nif(!url && !msg.urlBaseTT) {\n    return [null,{error:\"No se ha definido urlBaseTT en la UI ni se han enviado msg.urlBaseTT\"}];\n}\nif(url && url.length>5 && (url.startsWith(\"http\") || url.startsWith(\"https\"))) {\n    if(!url.endsWith(\"/\")) {\n        url+=\"/\";\n    }\n    flow.set('urlBaseTT',url);\n    //node.warn(\"1\"+url)\n    return [msg,null];\n}\nurl=msg.urlBaseTT;\n\nif(url && url.length>5 && (url.startsWith(\"http\") || url.startsWith(\"https\"))) {\n    if(!url.endsWith(\"/\")) {\n        url+=\"/\";\n    }\n    flow.set('urlBaseTT',url);\n    //node.warn(\"2\"+url)\n    return [msg,null];\n}\n\nreturn [null,{error:\"Error en definición de urlBaseTT en la UI o en msg.urlBaseTT\"}];",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 330,
        "y": 40,
        "wires": [
            [
                "84ba41d.dc2bac"
            ],
            [
                "11626d1c.91f973"
            ]
        ],
        "outputLabels": [
            "OK",
            "Error URL"
        ]
    },
    {
        "id": "476be406.efb0ac",
        "type": "change",
        "z": "b70c95d6.e86af8",
        "name": "OK",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "OK",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1070,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "6a34bac4.782c14",
        "type": "change",
        "z": "b70c95d6.e86af8",
        "name": "ERROR",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "ERROR",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1080,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "b61afd36.d54f8",
        "type": "change",
        "z": "b70c95d6.e86af8",
        "name": "Pidiendo...",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Pidiendo...",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1132,
        "y": 113,
        "wires": [
            []
        ]
    },
    {
        "id": "81fe00bc.1e54e",
        "type": "change",
        "z": "cd27c58f.6d91d8",
        "name": "Parse Inputs",
        "rules": [
            {
                "t": "set",
                "p": "urlBaseTT",
                "pt": "flow",
                "to": "urlBaseTT",
                "tot": "env"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 190,
        "y": 140,
        "wires": [
            [
                "ee29edb3.abede"
            ]
        ]
    },
    {
        "id": "ee29edb3.abede",
        "type": "function",
        "z": "cd27c58f.6d91d8",
        "name": "Check URL & Token",
        "func": "var authtoken=msg.authtoken;\nif(!authtoken)\n    authtoken=\"nada\";\nflow.set('authtoken',authtoken);\n\nvar url=flow.get('urlBaseTT');\nif(!url && !msg.urlBaseTT) {\n    return [null,{error:\"No se ha definido urlBaseTT en la UI ni se han enviado msg.urlBaseTT\"}];\n}\nif(url && url.length>5 && (url.startsWith(\"http\") || url.startsWith(\"https\"))) {\n    if(!url.endsWith(\"/\")) {\n        url+=\"/\";\n    }\n    flow.set('urlBaseTT',url);\n    return [msg,null];\n}\nurl=msg.urlBaseTT;\nif(url && url.length>5 && (url.startsWith(\"http\") || url.startsWith(\"https\"))) {\n    if(!url.endsWith(\"/\")) {\n        url+=\"/\";\n    }\n    flow.set('urlBaseTT',url);\n    return [msg,null];\n}\nreturn [null,{error:\"Error en definición de urlBaseTT en la UI o en msg.urlBaseTT\"}];",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 380,
        "y": 140,
        "wires": [
            [
                "9f19f3e1.fd388"
            ],
            [
                "fc89282a.2c6468"
            ]
        ],
        "outputLabels": [
            "OK",
            "Error URL"
        ]
    },
    {
        "id": "9f19f3e1.fd388",
        "type": "function",
        "z": "cd27c58f.6d91d8",
        "name": "Prepare Request",
        "func": "msg.url=flow.get('urlBaseTT')+\"pingauthintegration?token=\"+flow.get('authtoken');\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 610,
        "y": 140,
        "wires": [
            [
                "e917c130.66b7f",
                "9aa32e01.7aa93"
            ]
        ]
    },
    {
        "id": "e917c130.66b7f",
        "type": "http request",
        "z": "cd27c58f.6d91d8",
        "name": "Check Auth",
        "method": "GET",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "x": 823,
        "y": 118,
        "wires": [
            [
                "733e040a.ecddbc"
            ]
        ]
    },
    {
        "id": "733e040a.ecddbc",
        "type": "function",
        "z": "cd27c58f.6d91d8",
        "name": "Check Response Status",
        "func": "if(msg.statusCode==200) {\n    flow.set('$parent.lastStatusTT',{code:0,descripcion:'OK',tiempo:new Date()});\n    return [{payload:\"OK\",urlBaseTT:flow.get('urlBaseTT')},null,null,null];\n} else if(msg.statusCode==401) {\n    flow.set('$parent.lastStatusTT',{code:1,descripcion:'No logueado',tiempo:new Date()});\n    return [null,{payload:\"No logueado\",urlBaseTT:flow.get('urlBaseTT')},null,null];\n} else if(msg.statusCode==403) {\n    flow.set('$parent.lastStatusTT',{code:2,descripcion:'No autorizado',tiempo:new Date()});\n    return [null,null,{payload:\"No autorizado\",urlBaseTT:flow.get('urlBaseTT')},null];\n} else if(msg.statusCode=='ECONNREFUSED') {\n    flow.set('$parent.lastStatusTT',{code:-1,descripcion:'Desconectado',tiempo:new Date()});\n    return [null,null,null,{payload:\"Desconectado\",urlBaseTT:flow.get('urlBaseTT')}];\n}",
        "outputs": 4,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1019,
        "y": 239,
        "wires": [
            [],
            [],
            [],
            []
        ],
        "outputLabels": [
            "200 - OK",
            "401 - No logueado",
            "403 - No autorizado",
            "No disponible"
        ]
    },
    {
        "id": "9aa32e01.7aa93",
        "type": "change",
        "z": "cd27c58f.6d91d8",
        "name": "Pidiendo...",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Pidiendo...",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 811.5,
        "y": 48,
        "wires": [
            []
        ]
    },
    {
        "id": "fc89282a.2c6468",
        "type": "change",
        "z": "cd27c58f.6d91d8",
        "name": "Error URL",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Error URL",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 553,
        "y": 313,
        "wires": [
            []
        ]
    },
    {
        "id": "5986bea6.f91ae",
        "type": "inject",
        "z": "1ae16134.2ffe3f",
        "g": "c748b389.5ca8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "5",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 95,
        "y": 200,
        "wires": [
            [
                "adaafac.a6da808"
            ]
        ],
        "l": false
    },
    {
        "id": "adaafac.a6da808",
        "type": "change",
        "z": "1ae16134.2ffe3f",
        "g": "c748b389.5ca8",
        "name": "Set msg.urlBaseTT & token",
        "rules": [
            {
                "t": "set",
                "p": "urlBaseTT",
                "pt": "msg",
                "to": "data.urlBase",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "authtoken",
                "pt": "msg",
                "to": "data.authToken.token",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 250,
        "y": 200,
        "wires": [
            [
                "403198df.6ac198"
            ]
        ]
    },
    {
        "id": "403198df.6ac198",
        "type": "subflow:cd27c58f.6d91d8",
        "z": "1ae16134.2ffe3f",
        "g": "c748b389.5ca8",
        "name": "",
        "env": [],
        "x": 450,
        "y": 200,
        "wires": [
            [],
            [
                "7b818a9b.290154"
            ],
            []
        ]
    },
    {
        "id": "7b818a9b.290154",
        "type": "subflow:b70c95d6.e86af8",
        "z": "1ae16134.2ffe3f",
        "g": "c748b389.5ca8",
        "name": "",
        "env": [],
        "x": 620,
        "y": 120,
        "wires": [
            [
                "c7fff10f.9583c"
            ],
            [
                "ae635ca6.3767e"
            ]
        ]
    },
    {
        "id": "3b6e3678.65c61a",
        "type": "inject",
        "z": "1ae16134.2ffe3f",
        "g": "c748b389.5ca8",
        "name": "Request Config ",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "30",
        "crontab": "",
        "once": true,
        "onceDelay": "10",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 760,
        "y": 60,
        "wires": [
            [
                "d43e457b.717a18"
            ]
        ]
    },
    {
        "id": "c7fff10f.9583c",
        "type": "change",
        "z": "1ae16134.2ffe3f",
        "g": "c748b389.5ca8",
        "name": "SET flow.data.authToken",
        "rules": [
            {
                "t": "set",
                "p": "data.authToken",
                "pt": "flow",
                "to": "{}",
                "tot": "json"
            },
            {
                "t": "set",
                "p": "data.authToken.token",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 840,
        "y": 100,
        "wires": [
            [
                "d43e457b.717a18"
            ]
        ]
    },
    {
        "id": "ae635ca6.3767e",
        "type": "change",
        "z": "1ae16134.2ffe3f",
        "g": "c748b389.5ca8",
        "name": "UNSET flow.data.authToken",
        "rules": [
            {
                "t": "set",
                "p": "data.authToken",
                "pt": "flow",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 850,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "d43e457b.717a18",
        "type": "function",
        "z": "1ae16134.2ffe3f",
        "g": "c748b389.5ca8",
        "name": "Prepare Request",
        "func": "msg.headers = {};\nmsg.headers['X-AUTH-TOKEN'] = flow.get('data.authToken.token');\nmsg.headers['Content-Type'] = 'application/json';\nmsg.url=flow.get(\"data.urlBase\")+\"/api/v1/tanques/\"+flow.get(\"data.idCompania\")+\"/ciuconfig/\"+flow.get(\"data.idCiu\");\n\nnode.status({fill:\"green\",shape:\"ring\",text:\"Ult Req: \"+new Date().toISOString()});\n\nreturn msg;\n;\n    ",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1100,
        "y": 100,
        "wires": [
            [
                "20ce64b6.05b27c"
            ]
        ]
    },
    {
        "id": "20ce64b6.05b27c",
        "type": "http request",
        "z": "1ae16134.2ffe3f",
        "g": "c748b389.5ca8",
        "name": "getConfig",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "x": 1410,
        "y": 100,
        "wires": [
            [
                "8d2a24f4.27d468"
            ]
        ]
    },
    {
        "id": "8d2a24f4.27d468",
        "type": "function",
        "z": "1ae16134.2ffe3f",
        "g": "c748b389.5ca8",
        "name": "Procesar y guardar Config",
        "func": "\nflow.set(\"config\",msg.payload);\n\nnode.status({fill:\"green\",shape:\"ring\",text:\"Ult Req: \"+new Date().toISOString()+\", Cant: \"+msg.payload.length});\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1320,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "76e2484c.05ffa8",
        "type": "inject",
        "z": "1ae16134.2ffe3f",
        "g": "c748b389.5ca8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.1",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 115,
        "y": 80,
        "wires": [
            [
                "75448b.fe902b74"
            ]
        ],
        "l": false
    },
    {
        "id": "75448b.fe902b74",
        "type": "template",
        "z": "1ae16134.2ffe3f",
        "g": "c748b389.5ca8",
        "name": "Init & Default values",
        "field": "data",
        "fieldType": "flow",
        "format": "handlebars",
        "syntax": "plain",
        "template": "{\n    \"urlBase1\":\"http://192.168.195.187:8080/tt\",\n    \"urlBase\":\"http://fueltrace.oneclickeb.com/tt\", \n    \"idCompania\":1,\n    \"userTokenBasicAuth\":\"gettoken:g3ttok3n$\",\n    \"pidiendoToken\":\"no\",\n    \"useBackend\":true,\n    \"ciuConfigP1C1\":false,\n    \"idCiu\":\"ciu1\",\n    \"frecuenciaAlmacenamiento\":15\n}\n\n",
        "output": "json",
        "x": 260,
        "y": 80,
        "wires": [
            [
                "7b3f2681.a312d8"
            ]
        ]
    },
    {
        "id": "7b3f2681.a312d8",
        "type": "link out",
        "z": "1ae16134.2ffe3f",
        "g": "c748b389.5ca8",
        "name": "Fin Valores Iniciales",
        "links": [
            "7046fe22.1d4dd",
            "54e05354.a5cbac"
        ],
        "x": 413.3333492279053,
        "y": 80.00000667572021,
        "wires": []
    },
    {
        "id": "7d6678d5.5fdf58",
        "type": "inject",
        "z": "1ae16134.2ffe3f",
        "g": "3801840d.4716fc",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            },
            {
                "p": "hwPresente",
                "v": "HARDWARE_PRESENTE",
                "vt": "env"
            }
        ],
        "repeat": "15",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 95,
        "y": 340,
        "wires": [
            [
                "87dc256a.267de8"
            ]
        ],
        "l": false
    },
    {
        "id": "87dc256a.267de8",
        "type": "function",
        "z": "1ae16134.2ffe3f",
        "g": "3801840d.4716fc",
        "name": "",
        "func": "if(msg.hwPresente==\"si\") {\n    node.status({fill:\"green\",shape:\"ring\",text:\"Hardware Presente\"});\n} else {\n     node.status({fill:\"red\",shape:\"ring\",text:\"Sin Hardware\"});\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 145,
        "y": 340,
        "wires": [
            [
                "d4abc7b9.afa878"
            ]
        ],
        "l": false
    },
    {
        "id": "d4abc7b9.afa878",
        "type": "switch",
        "z": "1ae16134.2ffe3f",
        "g": "3801840d.4716fc",
        "name": "Hay HW Presente?",
        "property": "hwPresente",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "si",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 280,
        "y": 340,
        "wires": [
            [
                "d544bfc4.5df96"
            ]
        ]
    },
    {
        "id": "d544bfc4.5df96",
        "type": "switch",
        "z": "1ae16134.2ffe3f",
        "g": "3801840d.4716fc",
        "name": "Hay Config?",
        "property": "config.length",
        "propertyType": "flow",
        "rules": [
            {
                "t": "gt",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 140,
        "y": 420,
        "wires": [
            [
                "83276511.7e2308"
            ]
        ]
    },
    {
        "id": "83276511.7e2308",
        "type": "change",
        "z": "1ae16134.2ffe3f",
        "g": "3801840d.4716fc",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "config",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 245,
        "y": 420,
        "wires": [
            [
                "f0c64784.cf45e8"
            ]
        ],
        "l": false
    },
    {
        "id": "f0c64784.cf45e8",
        "type": "split",
        "z": "1ae16134.2ffe3f",
        "g": "3801840d.4716fc",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 285,
        "y": 420,
        "wires": [
            [
                "38267ff2.c4f68"
            ]
        ],
        "l": false
    },
    {
        "id": "38267ff2.c4f68",
        "type": "function",
        "z": "1ae16134.2ffe3f",
        "g": "3801840d.4716fc",
        "name": "Set read config",
        "func": "msg.config=msg.payload;\nmsg.payload={'fc': 3, 'unitid': msg.payload.unitId*1,'address': msg.payload.startAddr ,'quantity': 125};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 150,
        "y": 480,
        "wires": [
            [
                "631dfd34.0b0504"
            ]
        ]
    },
    {
        "id": "631dfd34.0b0504",
        "type": "modbus-flex-getter",
        "z": "1ae16134.2ffe3f",
        "g": "3801840d.4716fc",
        "name": "",
        "showStatusActivities": true,
        "showErrors": true,
        "logIOActivities": false,
        "server": "3c9e94c8.8ca6dc",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "keepMsgProperties": true,
        "x": 265,
        "y": 480,
        "wires": [
            [],
            [
                "e887af7f.3b1d6"
            ]
        ],
        "l": false
    },
    {
        "id": "e887af7f.3b1d6",
        "type": "function",
        "z": "1ae16134.2ffe3f",
        "g": "3801840d.4716fc",
        "name": "To arreglo Int(16) - first",
        "func": "var arreglo=new Array();\nfor(i=0;i<msg.payload.buffer.length;i=i+2) {\n    arreglo.push(msg.payload.buffer.readInt16BE(i));\n}\nmsg.arreglo=arreglo;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 170,
        "y": 540,
        "wires": [
            [
                "cda848c0.cb1458"
            ]
        ]
    },
    {
        "id": "cda848c0.cb1458",
        "type": "link out",
        "z": "1ae16134.2ffe3f",
        "g": "3801840d.4716fc",
        "name": "Salida Adquisición",
        "links": [
            "4d74b41c.a07bfc",
            "4d50a4c4.10e60c"
        ],
        "x": 325,
        "y": 540,
        "wires": []
    },
    {
        "id": "c61fbdc8.6c643",
        "type": "function",
        "z": "1ae16134.2ffe3f",
        "g": "69ead5f1.65b89c",
        "name": "Parseo de registros",
        "func": "var tanques=flow.get('tanques');\nif(!tanques) \n    tanques=[];\nvar config=msg.config;\n\nvar a=msg.arreglo;\n\nvar sinSigno=function(v){\n    return v<0?v+65536:v; \n}\nvar v16=function(v,escala) {\n    return v/escala;\n}\nvar v32=function(v1,v2,escala) {\n    return ((sinSigno(v1)*65536)+sinSigno(v2))/escala;\n}\nvar float32BS=function(desde, buf) {\n  var a8=new Uint8Array([ buf[desde+1], buf[desde], buf[desde+3], buf[desde+2] ]);\n  var a16=new Uint16Array(a8.buffer);\n  var a32=new Float32Array(a16.buffer);\n  return a32.toString()*1;\n}\nvar uint32BS=function(desde, buf) {\n  var a8=new Uint8Array([ buf[desde+1], buf[desde], buf[desde+3], buf[desde+2] ]);\n  var a16=new Uint16Array(a8.buffer);\n  var a32=new Uint32Array(a16.buffer);\n  return a32.toString()*1;\n}\nvar int32BS=function(desde, buf) {\n  var a8=new Int8Array([ buf[desde+1], buf[desde], buf[desde+3], buf[desde+2] ]);\n  var a16=new Int16Array(a8.buffer);\n // return a16.toString()*1;\n   var a32=new Int32Array(a16.buffer);\n  return a32.toString()*1;\n}\n\n\n\nvar calcTank=function(c) {\n    var values={\n        enviado:false,\n        tankName:c.tankName,\n        idTanque:c.idTanque,\n        valoresAlarmaNivel:c.alarmaNivel,\n        mailNotificaciones:c.mailNotificaciones,\n        productName:c.productName,\n        plantName:c.planta,\n        nivelManual:c.nivelManual,\n        nivelManualFechaHora:new Date(c.nivelManualFechaHora),\n        inconsistencia:c.inconsistencia,\n        tanqueRojo:c.tanqueRojo,\n        productLevelAttrName:c.productLevelAttrName,\n        productTempAttrName:c.productTempAttrName,\n        estadoAlarmaNivel: c.estadoAlarmaNivel\n        \n    };\n    c.attributes.forEach(function(o,i){\n        \n        //var addr=c.startAddr+o.shiftAddr;\n        var addr=o.shiftAddr;\n        if(o.r16) {\n            values[o.attr]=v16(a[addr],o.scale);\n            //node.warn(c.tankName + \">> \" + o.attr + \" * \" + values[o.attr]);\n        } else {\n            //values[o.attr]=int32BS(addr*2,a8)/o.scale;\n            \n            values[o.attr]=v32(a[addr],a[addr+1],o.scale);\n            //node.warn(c.tankName + \">> \" + o.attr + \" * \" + values[o.attr]); // + ' ' + uint32BS(addr*2,a8)/o.scale);\n        }\n    });\n    values.percent=values[c.productLevelAttrName]/c.maxLevel;\n    return values;\n};\n\n\nvar t=calcTank(config);\n//node.warn(t)\n//if(t.productTemp || t.productLevel) {\n    var encontrado=false;\n    tanques.forEach((o,i)=>{\n        if(o.idTanque==t.idTanque) {\n            tanques[i]=t;\n            encontrado=true;\n        }\n    }); \n    if(!encontrado)\n        tanques.push(t);\n//}\n\nflow.set('tanques',tanques);\nmsg.payload={tanque:t,config:config};\nreturn msg;\n",
        "outputs": "1",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 610,
        "y": 360,
        "wires": [
            [
                "2fbbdff6.7704d"
            ]
        ],
        "outputLabels": [
            "t1"
        ]
    },
    {
        "id": "4d50a4c4.10e60c",
        "type": "link in",
        "z": "1ae16134.2ffe3f",
        "g": "69ead5f1.65b89c",
        "name": "",
        "links": [
            "cda848c0.cb1458"
        ],
        "x": 475,
        "y": 360,
        "wires": [
            [
                "c61fbdc8.6c643"
            ]
        ]
    },
    {
        "id": "2fbbdff6.7704d",
        "type": "debug",
        "z": "1ae16134.2ffe3f",
        "g": "69ead5f1.65b89c",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 735,
        "y": 360,
        "wires": [],
        "l": false
    },
    {
        "id": "1bc3a5a4.d2275a",
        "type": "function",
        "z": "9a6ff9b7.9c6fb8",
        "name": "Prepare Request",
        "func": "var ultAlmacenado=flow.get('ultAlmacenado');\nvar almacenarCadaXSegs=msg.almacenarCadaXSegs;\nvar almacenar=false;\nvar falta=0;\nif(!ultAlmacenado) {\n    almacenar=true;\n} else {\n    var actual=new Date().getTime();\n    var tiempoPasado=(actual-ultAlmacenado)/1000;\n    falta=almacenarCadaXSegs-tiempoPasado;\n    if(tiempoPasado>=(almacenarCadaXSegs-1)) {\n        almacenar=true;\n    }\n}\n\n\nif(almacenar) {\n    flow.set('ultAlmacenado',new Date().getTime());\n}\nmsg.msgAlmacenar= almacenar?\"Actualizando y almacenando...\":\"Actualizando... (faltan \"+falta.toFixed(0)+\" segs, para almacenar)\";\nmsg.headers = {};\nmsg.headers['X-AUTH-TOKEN'] = flow.get('tokenTT');\nmsg.headers['Content-Type'] = 'application/json';\nvar url=flow.get(\"urlBaseTT\");\n//node.warn(msg.url);\nif(!url.endsWith('/'))\n    url=url+\"/\";\n//msg.url=url+\"api/v1/fafnir/plcdata/\"+flow.get('idCompania')+\"?categoria=\"+flow.get('categoria')+\"&id_plc=\"+flow.get('idPlc')+\"&store_plc_data=\"+almacenar;\nmsg.url=flow.get(\"urlBaseTT\")+\"/api/v1/tanques/ciudata/\"+flow.get(\"idCompania\")+\"/\"+flow.get(\"idPlc\")+\"?store=\"+almacenar;\n//node.warn(msg.url);\n//node.warn(msg.payload);\n//msg.payload=JSON.stringify(msg.payload);\n//node.warn(msg.payload);\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 390,
        "y": 40,
        "wires": [
            [
                "3a9fe84a.ccfb98",
                "faa12506.a7fd48"
            ]
        ]
    },
    {
        "id": "3a9fe84a.ccfb98",
        "type": "http request",
        "z": "9a6ff9b7.9c6fb8",
        "name": "call detail",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "x": 610,
        "y": 40,
        "wires": [
            [
                "777b9c87.67cd94"
            ]
        ]
    },
    {
        "id": "e8bca60.a0a2558",
        "type": "change",
        "z": "9a6ff9b7.9c6fb8",
        "name": "Parse Inputs",
        "rules": [
            {
                "t": "set",
                "p": "urlBaseTT",
                "pt": "flow",
                "to": "urlBaseTT",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "idCompania",
                "pt": "flow",
                "to": "idCompania",
                "tot": "env"
            },
            {
                "t": "set",
                "p": "categoria",
                "pt": "flow",
                "to": "categoria",
                "tot": "env"
            },
            {
                "t": "set",
                "p": "tokenTT",
                "pt": "flow",
                "to": "tokenTT",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "idPlc",
                "pt": "flow",
                "to": "idPlc",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "almacenarCadaXSegs",
                "pt": "msg",
                "to": "almacenarCadaXSegs",
                "tot": "env"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 170,
        "y": 30,
        "wires": [
            [
                "1bc3a5a4.d2275a"
            ]
        ]
    },
    {
        "id": "777b9c87.67cd94",
        "type": "switch",
        "z": "9a6ff9b7.9c6fb8",
        "name": "",
        "property": "statusCode",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "200",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 800,
        "y": 90,
        "wires": [
            [],
            []
        ],
        "outputLabels": [
            "ok",
            "no ok"
        ]
    },
    {
        "id": "faa12506.a7fd48",
        "type": "change",
        "z": "9a6ff9b7.9c6fb8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "msgAlmacenar",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 540,
        "y": 150,
        "wires": [
            []
        ]
    },
    {
        "id": "f45e3aba.7c6728",
        "type": "inject",
        "z": "1ae16134.2ffe3f",
        "g": "a0a2fbe1.baf158",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "15",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 495,
        "y": 480,
        "wires": [
            [
                "c1ab009b.0e357"
            ]
        ],
        "l": false
    },
    {
        "id": "c1ab009b.0e357",
        "type": "function",
        "z": "1ae16134.2ffe3f",
        "g": "a0a2fbe1.baf158",
        "name": "Lee tanques y prepara envío",
        "func": "var tanques=flow.get('tanques');\nif(!tanques)\n    tanques=[];\n\nvar r=[];\n\ntanques.forEach((o,i)=>{\n    if(!o.enviado) {\n        r.push({payload:o, enabled:true});\n        tanques[i].enviado=true;\n    }\n});\nflow.set('tanques',tanques);\n\nif(r.length>0) {\n  msg.payload=JSON.stringify(r);  \n  return [msg,null];\n}else{\n  msg.payload=\"Sin datos para enviar\";\n  return [null,msg];  \n}",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 660,
        "y": 480,
        "wires": [
            [
                "8cb2135c.046c6"
            ],
            []
        ],
        "outputLabels": [
            "Datos",
            "Sin Datos"
        ]
    },
    {
        "id": "8cb2135c.046c6",
        "type": "change",
        "z": "1ae16134.2ffe3f",
        "g": "a0a2fbe1.baf158",
        "name": "Set msg.urlBaseTT & token",
        "rules": [
            {
                "t": "set",
                "p": "urlBaseTT",
                "pt": "msg",
                "to": "data.urlBase",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "tokenTT",
                "pt": "msg",
                "to": "data.authToken.token",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "idPlc",
                "pt": "msg",
                "to": "ciu1",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 924.5,
        "y": 481,
        "wires": [
            [
                "d685f89e.758118"
            ]
        ]
    },
    {
        "id": "d685f89e.758118",
        "type": "subflow:9a6ff9b7.9c6fb8",
        "z": "1ae16134.2ffe3f",
        "g": "a0a2fbe1.baf158",
        "name": "",
        "env": [
            {
                "name": "almacenarCadaXSegs",
                "value": "90",
                "type": "str"
            }
        ],
        "x": 1152.5,
        "y": 482,
        "wires": [
            [
                "818705f6.133798"
            ],
            []
        ]
    },
    {
        "id": "818705f6.133798",
        "type": "link out",
        "z": "1ae16134.2ffe3f",
        "g": "a0a2fbe1.baf158",
        "name": "Salida PutData PLC OK",
        "links": [
            "a6fc40ba.b8c76"
        ],
        "x": 1307.5,
        "y": 482,
        "wires": []
    },
    {
        "id": "57a8f5d1.e5eddc",
        "type": "debug",
        "z": "10108ae0.c69e55",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1740,
        "y": 1220,
        "wires": []
    },
    {
        "id": "143fe700.e1b9c9",
        "type": "mqtt out",
        "z": "1ae16134.2ffe3f",
        "g": "7575f7f7.3026d8",
        "name": "MQTT /ciu888/planta1",
        "topic": "/ciu888/planta1",
        "qos": "",
        "retain": "",
        "broker": "70970556.d63e3c",
        "x": 1180,
        "y": 760,
        "wires": []
    },
    {
        "id": "d7f14374.27b0c",
        "type": "function",
        "z": "d5883d38.eb44d",
        "name": "Distribuye",
        "func": "\n msg.payload.forEach( (o,i)=> {\n      msg.payload[i].template=msg.template;\n })\nreturn msg.payload;",
        "outputs": "30",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 440,
        "y": 260,
        "wires": [
            [
                "a6c57bf2.59d2a"
            ],
            [
                "2de2fd08.e465f2"
            ],
            [
                "8d7db728.a1c378"
            ],
            [
                "f9e2674a.d492b"
            ],
            [
                "bf78d145.5509c8"
            ],
            [
                "1eb9e5c2.336e92"
            ],
            [
                "ff9ac310.499a18"
            ],
            [
                "fa79be5c.b6ca9"
            ],
            [
                "9c9ba7f9.51b56"
            ],
            [
                "f31b1e40.58d9d8"
            ],
            [
                "932c318a.73dbe8"
            ],
            [
                "4ea5820d.22b7dc"
            ],
            [
                "2270e8df.310598"
            ],
            [
                "9d69f5be.82908"
            ],
            [
                "575b5a21.d22114"
            ],
            [
                "da70cb4f.016848"
            ],
            [
                "23803021.d73f6"
            ],
            [
                "94cbe169.a32468"
            ],
            [
                "6204f22b.375eac"
            ],
            [
                "eecd97cf.e6d07"
            ],
            [
                "16c445cc.a0ae0a"
            ],
            [
                "d1405591.828ab8"
            ],
            [
                "f04f2c6.76f43d"
            ],
            [
                "1baa5e00.5a7ec2"
            ],
            [
                "2fe1caa.e15adb6"
            ],
            [
                "e7b73d94.b738f8"
            ],
            [
                "7fa4a145.69716"
            ],
            [
                "5b74df2f.7458c8"
            ],
            [
                "8b80aeb0.399e"
            ],
            [
                "2ff1d4e0.74bfe4"
            ]
        ],
        "outputLabels": [
            "t1",
            "t2",
            "t3",
            "t4",
            "t5",
            "t6",
            "t7",
            "t8",
            "t9",
            "t10",
            "t11",
            "t12",
            "t13",
            "t14",
            "t15",
            "t16",
            "t17",
            "t18",
            "t19",
            "t20",
            "t21",
            "t22",
            "t23",
            "t24",
            "t25",
            "t26",
            "t27",
            "t28",
            "t29",
            "t30"
        ]
    },
    {
        "id": "a7fae96.400a198",
        "type": "ui_button",
        "z": "d5883d38.eb44d",
        "name": "",
        "group": "2554d9c.6c202a6",
        "order": 0,
        "width": "4",
        "height": "1",
        "passthru": false,
        "label": "Crear Informe",
        "color": "",
        "bgcolor": "",
        "icon": "fa-file-excel-o",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 166.66664505004883,
        "y": 506.7777786254883,
        "wires": [
            [
                "1f83d07f.7e86d8"
            ]
        ]
    },
    {
        "id": "fa79be5c.b6ca9",
        "type": "ui_template",
        "z": "d5883d38.eb44d",
        "group": "91a045be.96519",
        "name": "Mostrar Tanque",
        "order": 0,
        "width": "6",
        "height": "6",
        "format": "",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "x": 1022.3333015441895,
        "y": 158.77783966064453,
        "wires": [
            []
        ]
    },
    {
        "id": "a6c57bf2.59d2a",
        "type": "ui_template",
        "z": "d5883d38.eb44d",
        "group": "43b385cd.b42e74",
        "name": "Mostrar Tanque",
        "order": 0,
        "width": "6",
        "height": "6",
        "format": "",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "x": 662.3333015441895,
        "y": 78.77783966064453,
        "wires": [
            []
        ]
    },
    {
        "id": "2de2fd08.e465f2",
        "type": "ui_template",
        "z": "d5883d38.eb44d",
        "group": "94492b06.695d",
        "name": "Mostrar Tanque",
        "order": 0,
        "width": "6",
        "height": "6",
        "format": "",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "x": 842.3333015441895,
        "y": 78.77783966064453,
        "wires": [
            []
        ]
    },
    {
        "id": "8d7db728.a1c378",
        "type": "ui_template",
        "z": "d5883d38.eb44d",
        "group": "1a779b08.3aec8d",
        "name": "Mostrar Tanque",
        "order": 0,
        "width": "6",
        "height": "6",
        "format": "",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "x": 1022.3333015441895,
        "y": 78.77783966064453,
        "wires": [
            []
        ]
    },
    {
        "id": "f9e2674a.d492b",
        "type": "ui_template",
        "z": "d5883d38.eb44d",
        "group": "1754dad.c056325",
        "name": "Mostrar Tanque",
        "order": 0,
        "width": "6",
        "height": "6",
        "format": "",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "x": 1202.3333015441895,
        "y": 78.77783966064453,
        "wires": [
            []
        ]
    },
    {
        "id": "bf78d145.5509c8",
        "type": "ui_template",
        "z": "d5883d38.eb44d",
        "group": "63366cc7.c01424",
        "name": "Mostrar Tanque",
        "order": 0,
        "width": "6",
        "height": "6",
        "format": "",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "x": 1382.3333015441895,
        "y": 78.77783966064453,
        "wires": [
            []
        ]
    },
    {
        "id": "1eb9e5c2.336e92",
        "type": "ui_template",
        "z": "d5883d38.eb44d",
        "group": "1792a10e.2cc0bf",
        "name": "Mostrar Tanque",
        "order": 0,
        "width": "6",
        "height": "6",
        "format": "",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "x": 662.3333015441895,
        "y": 158.77783966064453,
        "wires": [
            []
        ]
    },
    {
        "id": "ff9ac310.499a18",
        "type": "ui_template",
        "z": "d5883d38.eb44d",
        "group": "93ebc419.d9ad1",
        "name": "Mostrar Tanque",
        "order": 0,
        "width": "6",
        "height": "6",
        "format": "",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "x": 842.3333015441895,
        "y": 158.77783966064453,
        "wires": [
            []
        ]
    },
    {
        "id": "ffe71f19.ad34b",
        "type": "function",
        "z": "d5883d38.eb44d",
        "name": "Disable",
        "func": "msg.enabled=false;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 239.55550003051758,
        "y": 824.555549621582,
        "wires": [
            [
                "a7fae96.400a198",
                "9da28ec3.f83488"
            ]
        ]
    },
    {
        "id": "77feb9c3.58e148",
        "type": "function",
        "z": "d5883d38.eb44d",
        "name": "Enable",
        "func": "msg.enabled=true;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 163.5555076599121,
        "y": 450.44449615478516,
        "wires": [
            [
                "a7fae96.400a198"
            ]
        ]
    },
    {
        "id": "fccd9bd3.6e1fe8",
        "type": "function",
        "z": "d5883d38.eb44d",
        "name": "Formatear Salida",
        "func": "var r=new Array();\nvar fecha=new Date();\nvar transf=function(o) {\n    var n={\n        Fecha: fecha.getDate()  + \"/\" + (fecha.getMonth() + 1) + \"/\" + fecha.getFullYear(),\n        Hora: fecha.getHours() + \":\" + fecha.getMinutes() + \":\" + fecha.getSeconds(),\n        Planta: o.plantName,\n        Tanque: o.tankName,\n        Producto: o.productName,\n        ProductLevel: o.productLevel || 'N/A',\n        ProductTemp: o.productTemp || 'N/A',\n        DensidadObservada: o.DObs || 'N/A',\n        TOV: o.tov || 'N/A',\n        GSV: o.gsv || 'N/A'\n    };\n    return n;\n}\nnode.log(msg.payload);\nmsg.payload.forEach(function(o,i){\n    if(o.payload) {\n        r.push(transf(o.payload));\n    }\n});\n\nmsg.payload=r;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 492.1110725402832,
        "y": 599.5556716918945,
        "wires": [
            [
                "77a0655b.63e3cc"
            ]
        ]
    },
    {
        "id": "a607d7df.390b",
        "type": "inject",
        "z": "d5883d38.eb44d",
        "name": "Start Disable",
        "repeat": "",
        "crontab": "",
        "once": true,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 153.77772903442383,
        "y": 735.0000686645508,
        "wires": [
            [
                "ffe71f19.ad34b"
            ]
        ]
    },
    {
        "id": "903c8356.dcaa48",
        "type": "file in",
        "z": "d5883d38.eb44d",
        "name": "Lee Archivo salida.xslx",
        "filename": "salida.xslx",
        "format": "",
        "chunk": false,
        "sendError": false,
        "x": 346.55534744262695,
        "y": 935.3334426879883,
        "wires": [
            [
                "19bd254d.209e73"
            ]
        ]
    },
    {
        "id": "19bd254d.209e73",
        "type": "change",
        "z": "d5883d38.eb44d",
        "name": "Set Headers",
        "rules": [
            {
                "t": "set",
                "p": "headers",
                "pt": "msg",
                "to": "{}",
                "tot": "json"
            },
            {
                "t": "set",
                "p": "headers.content-type",
                "pt": "msg",
                "to": "application/vnd.ms-excel",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "headers.Content-Disposition",
                "pt": "msg",
                "to": "attachment; filename=informe_ciu888.xlsx",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 548.6665534973145,
        "y": 936.111213684082,
        "wires": [
            [
                "f5d89fdf.ee0388"
            ]
        ]
    },
    {
        "id": "f5d89fdf.ee0388",
        "type": "http response",
        "z": "d5883d38.eb44d",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 700.3333015441895,
        "y": 935.2222366333008,
        "wires": []
    },
    {
        "id": "85cce3a0.fdc438",
        "type": "http in",
        "z": "d5883d38.eb44d",
        "name": "",
        "url": "/download",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 138.88884353637695,
        "y": 935.222297668457,
        "wires": [
            [
                "903c8356.dcaa48"
            ]
        ]
    },
    {
        "id": "9da28ec3.f83488",
        "type": "ui_template",
        "z": "d5883d38.eb44d",
        "group": "11983d23.20fd73",
        "name": "Descargar Informe",
        "order": 0,
        "width": 0,
        "height": 0,
        "format": "<h3><a href=\"/download\">Descargar Informe</a></h3>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 602.3332405090332,
        "y": 827.6666946411133,
        "wires": [
            []
        ]
    },
    {
        "id": "37f49a1.2a75166",
        "type": "function",
        "z": "d5883d38.eb44d",
        "name": "Enable",
        "func": "msg.enabled=true;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 600.777759552002,
        "y": 724.6667556762695,
        "wires": [
            [
                "9da28ec3.f83488"
            ]
        ]
    },
    {
        "id": "aeeb0db.39b2af",
        "type": "ui_toast",
        "z": "d5883d38.eb44d",
        "position": "top left",
        "displayTime": "3",
        "highlight": "blue",
        "outputs": 0,
        "ok": "OK",
        "cancel": "",
        "topic": "",
        "name": "Notificación",
        "x": 812.111011505127,
        "y": 661.333381652832,
        "wires": []
    },
    {
        "id": "55fb5774.1a87c8",
        "type": "change",
        "z": "d5883d38.eb44d",
        "name": "Mensaje Notificación",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Se ha creado el informe.<br/>Puede descargarlo presionando <strong>Descargar Informe</strong>",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 593.4444465637207,
        "y": 665.4445266723633,
        "wires": [
            [
                "aeeb0db.39b2af"
            ]
        ]
    },
    {
        "id": "77a0655b.63e3cc",
        "type": "excel",
        "z": "d5883d38.eb44d",
        "name": "",
        "file": "salida.xslx",
        "x": 371.11101150512695,
        "y": 698.6667556762695,
        "wires": [
            [
                "37f49a1.2a75166",
                "55fb5774.1a87c8"
            ]
        ]
    },
    {
        "id": "5b67d242.93773c",
        "type": "mqtt in",
        "z": "d5883d38.eb44d",
        "name": "Read MQTT /ciu888/planta1",
        "topic": "/ciu888/planta1",
        "qos": "2",
        "datatype": "auto",
        "broker": "9095ae3e.94a51",
        "x": 160,
        "y": 60,
        "wires": [
            [
                "40d2bbb7.0e5514"
            ]
        ]
    },
    {
        "id": "40d2bbb7.0e5514",
        "type": "function",
        "z": "d5883d38.eb44d",
        "name": "Parse MQTT Message",
        "func": "\nmsg.payload=JSON.parse(msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 180,
        "y": 160,
        "wires": [
            [
                "c507bac3.876f",
                "2c363dfb.57e3b2",
                "7c4c7de7.8e7df4",
                "7e065f8a.82fc9"
            ]
        ]
    },
    {
        "id": "c507bac3.876f",
        "type": "change",
        "z": "d5883d38.eb44d",
        "name": "Set Datos to Flow Context",
        "rules": [
            {
                "t": "set",
                "p": "datos",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 207.33333206176758,
        "y": 402.77783966064453,
        "wires": [
            [
                "77feb9c3.58e148"
            ]
        ]
    },
    {
        "id": "1f83d07f.7e86d8",
        "type": "change",
        "z": "d5883d38.eb44d",
        "name": "Get Datos from Flow Context",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "datos",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 417.33330154418945,
        "y": 505.77783966064453,
        "wires": [
            [
                "fccd9bd3.6e1fe8",
                "6d446153.7a9298"
            ]
        ]
    },
    {
        "id": "f7e4a7c8.659e2",
        "type": "comment",
        "z": "d5883d38.eb44d",
        "name": "Descarga Informe",
        "info": "",
        "x": 153.33330154418945,
        "y": 891.7778396606445,
        "wires": []
    },
    {
        "id": "978d710d.c5499",
        "type": "comment",
        "z": "d5883d38.eb44d",
        "name": "Armado del Informe en Excel",
        "info": "",
        "x": 170.33330154418945,
        "y": 345.77783966064453,
        "wires": []
    },
    {
        "id": "bbecf706.9e8c28",
        "type": "comment",
        "z": "d5883d38.eb44d",
        "name": "Armado del Tablero",
        "info": "",
        "x": 170,
        "y": 20,
        "wires": []
    },
    {
        "id": "9c9ba7f9.51b56",
        "type": "ui_template",
        "z": "d5883d38.eb44d",
        "group": "cf9f269.4486058",
        "name": "Mostrar Tanque",
        "order": 0,
        "width": "6",
        "height": "6",
        "format": "",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "x": 1202.3333015441895,
        "y": 158.77783966064453,
        "wires": [
            []
        ]
    },
    {
        "id": "932c318a.73dbe8",
        "type": "ui_template",
        "z": "d5883d38.eb44d",
        "group": "a19dc388.e76f68",
        "name": "Mostrar Tanque",
        "order": 0,
        "width": "6",
        "height": "6",
        "format": "",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "x": 662.3333015441895,
        "y": 238.77783966064453,
        "wires": [
            []
        ]
    },
    {
        "id": "f31b1e40.58d9d8",
        "type": "ui_template",
        "z": "d5883d38.eb44d",
        "group": "a85a2484.9d88b",
        "name": "Mostrar Tanque",
        "order": 0,
        "width": "6",
        "height": "6",
        "format": "",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "x": 1382.3333015441895,
        "y": 158.77783966064453,
        "wires": [
            []
        ]
    },
    {
        "id": "2270e8df.310598",
        "type": "ui_template",
        "z": "d5883d38.eb44d",
        "group": "41ef8a5f.ab0c44",
        "name": "Mostrar Tanque",
        "order": 0,
        "width": "6",
        "height": "6",
        "format": "",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "x": 1022.3333015441895,
        "y": 238.77783966064453,
        "wires": [
            []
        ]
    },
    {
        "id": "4ea5820d.22b7dc",
        "type": "ui_template",
        "z": "d5883d38.eb44d",
        "group": "d796d7d7.aef4d8",
        "name": "Mostrar Tanque",
        "order": 0,
        "width": "6",
        "height": "6",
        "format": "",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "x": 842.3333015441895,
        "y": 238.77783966064453,
        "wires": [
            []
        ]
    },
    {
        "id": "9d69f5be.82908",
        "type": "ui_template",
        "z": "d5883d38.eb44d",
        "group": "a52dc82a.e870f8",
        "name": "Mostrar Tanque",
        "order": 0,
        "width": "6",
        "height": "6",
        "format": "",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "x": 1202.3333015441895,
        "y": 238.77783966064453,
        "wires": [
            []
        ]
    },
    {
        "id": "575b5a21.d22114",
        "type": "ui_template",
        "z": "d5883d38.eb44d",
        "group": "7406201f.6fe67",
        "name": "Mostrar Tanque",
        "order": 0,
        "width": "6",
        "height": "6",
        "format": "",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "x": 1382.3333015441895,
        "y": 238.77783966064453,
        "wires": [
            []
        ]
    },
    {
        "id": "da70cb4f.016848",
        "type": "ui_template",
        "z": "d5883d38.eb44d",
        "group": "bf8b9391.2d3a2",
        "name": "Mostrar Tanque",
        "order": 0,
        "width": "6",
        "height": "6",
        "format": "",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "x": 662.3333015441895,
        "y": 298.77783966064453,
        "wires": [
            []
        ]
    },
    {
        "id": "94cbe169.a32468",
        "type": "ui_template",
        "z": "d5883d38.eb44d",
        "group": "3ab4818e.a5ff76",
        "name": "Mostrar Tanque",
        "order": 0,
        "width": "6",
        "height": "6",
        "format": "",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "x": 1022.3333015441895,
        "y": 298.77783966064453,
        "wires": [
            []
        ]
    },
    {
        "id": "23803021.d73f6",
        "type": "ui_template",
        "z": "d5883d38.eb44d",
        "group": "464c8e8e.43292",
        "name": "Mostrar Tanque",
        "order": 0,
        "width": "6",
        "height": "6",
        "format": "",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "x": 842.3333015441895,
        "y": 298.77783966064453,
        "wires": [
            []
        ]
    },
    {
        "id": "6204f22b.375eac",
        "type": "ui_template",
        "z": "d5883d38.eb44d",
        "group": "cd537e83.b88f8",
        "name": "Mostrar Tanque",
        "order": 0,
        "width": "6",
        "height": "6",
        "format": "",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "x": 1202.3333015441895,
        "y": 298.77783966064453,
        "wires": [
            []
        ]
    },
    {
        "id": "eecd97cf.e6d07",
        "type": "ui_template",
        "z": "d5883d38.eb44d",
        "group": "cbc678a5.9613d",
        "name": "Mostrar Tanque",
        "order": 0,
        "width": "6",
        "height": "6",
        "format": "",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "x": 1382.3333015441895,
        "y": 298.77783966064453,
        "wires": [
            []
        ]
    },
    {
        "id": "16c445cc.a0ae0a",
        "type": "ui_template",
        "z": "d5883d38.eb44d",
        "group": "3f258f5d.54b13",
        "name": "Mostrar Tanque",
        "order": 0,
        "width": "6",
        "height": "6",
        "format": "",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "x": 662.3333015441895,
        "y": 378.77783966064453,
        "wires": [
            []
        ]
    },
    {
        "id": "f04f2c6.76f43d",
        "type": "ui_template",
        "z": "d5883d38.eb44d",
        "group": "9ee299b7.459618",
        "name": "Mostrar Tanque",
        "order": 0,
        "width": "6",
        "height": "6",
        "format": "",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "x": 1022.3333015441895,
        "y": 378.77783966064453,
        "wires": [
            []
        ]
    },
    {
        "id": "d1405591.828ab8",
        "type": "ui_template",
        "z": "d5883d38.eb44d",
        "group": "2f21b3d6.183f04",
        "name": "Mostrar Tanque",
        "order": 0,
        "width": "6",
        "height": "6",
        "format": "",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "x": 842.3333015441895,
        "y": 378.77783966064453,
        "wires": [
            []
        ]
    },
    {
        "id": "1baa5e00.5a7ec2",
        "type": "ui_template",
        "z": "d5883d38.eb44d",
        "group": "71c0a253.44a8cc",
        "name": "Mostrar Tanque",
        "order": 0,
        "width": "6",
        "height": "6",
        "format": "",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "x": 1202.3333015441895,
        "y": 378.77783966064453,
        "wires": [
            []
        ]
    },
    {
        "id": "2fe1caa.e15adb6",
        "type": "ui_template",
        "z": "d5883d38.eb44d",
        "group": "3028e0ea.8d3568",
        "name": "Mostrar Tanque",
        "order": 0,
        "width": "6",
        "height": "6",
        "format": "",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "x": 1382.3333015441895,
        "y": 378.77783966064453,
        "wires": [
            []
        ]
    },
    {
        "id": "e7b73d94.b738f8",
        "type": "ui_template",
        "z": "d5883d38.eb44d",
        "group": "f2ecdaf9.31705",
        "name": "Mostrar Tanque",
        "order": 0,
        "width": "6",
        "height": "6",
        "format": "",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "x": 662.3333015441895,
        "y": 458.77783966064453,
        "wires": [
            []
        ]
    },
    {
        "id": "5b74df2f.7458c8",
        "type": "ui_template",
        "z": "d5883d38.eb44d",
        "d": true,
        "group": "4adf345c.8374fc",
        "name": "Mostrar Tanque",
        "order": 0,
        "width": "6",
        "height": "6",
        "format": "<link rel=\"stylesheet\" href=\"/css/jquery-ui.min.css\">\n<script src=\"/js/jquery-1.12.4.js\"></script>\n<script src=\"/js/jquery-ui.js\"></script>\n\n<link rel=\"stylesheet\" href=\"/css/icecream-grid.min.css\">\n\n<div ng-attr-id=\"{{msg.payload.tankName + 'd'}}\" class=\"tamletra\" style=\"display:none\" title=\"Detalle Tanque {{msg.payload.tankName}}\">\n    <div class=\"i-g\">\n        <div class=\"i-6\">\n            <strong class=\"centrado\">Inventario</strong>\n            <hr/>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">Nivel Prod (auto):</div>\n                 <div class=\"i-6 azul\">{{msg.payload.productLevel || 'N/A'}} mm</div>\n            </div>\n\n\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">TOV:</div>\n                 <div class=\"i-6 azul\">{{msg.payload.tov | number : 2 || 'N/A'}} L</div>\n            </div>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">Nivel de Agua:</div>\n                 <div class=\"i-6 azul\">{{msg.payload.waterLevel || 'N/A'}} mm</div>\n            </div>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">Volumen de Agua:</div>\n                 <div class=\"i-6 azul\">{{msg.payload.waterVol || 'N/A'}}  m³</div>\n            </div>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">GOV:</div>\n                 <div class=\"i-6 azul\">{{msg.payload.gov | number : 2 || 'N/A'}} m³</div>\n            </div>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">Densidad Observada:</div>\n                 <div class=\"i-6 azul\">{{msg.payload.DObs || 'N/A'}} API °</div>\n            </div>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">Temperatura de Producto:</div>\n                 <div class=\"i-6 azul\">{{msg.payload.productTemp || 'N/A'}} °C</div>\n            </div>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">Temperatura de Vapor:</div>\n                 <div class=\"i-6 azul\">{{msg.payload.vapRoomTemp || 'N/A'}} °F</div>\n            </div>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">Densidad De Referencia:</div>\n                 <div class=\"i-6 azul\">{{msg.payload.productDRef || 'N/A'}} API °</div>\n            </div>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">VCF:</div>\n                 <div class=\"i-6 azul\">{{msg.payload.vcf || 'N/A'}}</div>\n            </div>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">GSV:</div>\n                 <div class=\"i-6 azul\">{{msg.payload.gsv || 'N/A'}} L</div>\n            </div>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">Espacio Disonible:</div>\n                 <div class=\"i-6 azul\">{{msg.payload.availableRoom || 'N/A'}} L</div>\n            </div>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">Producto Disponible:</div>\n                 <div class=\"i-6 azul\">{{msg.payload.availableProduct || 'N/A'}} L</div>\n            </div>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">Corrección (S & W):</div>\n                 <div class=\"i-6 azul\">{{msg.payload.sw || 'N/A'}} L</div>\n            </div>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">Corrección (NSV):</div>\n                 <div class=\"i-6 azul\">{{msg.payload.nsv || 'N/A'}} L</div>\n            </div>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">Total de Masa en Aire:</div>\n                 <div class=\"i-6 azul\">{{msg.payload.totalMass || 'N/A'}} Kg</div>\n            </div>\n            <div class=\"i-g\">\n                <br/>\n                <strong class=\"centrado\" style=\"padding-top:20px\">Caudal</strong>\n                <hr/>\n            </div>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">Caudal (TOV):</div>\n                <div class=\"i-6 azul\">{{msg.payload.flowTOV || 'N/A'}} m3/h</div>\n            </div>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">Tiempo de llenado:</div>\n                <div class=\"i-6 azul\">{{msg.payload.timeToFit || 'N/A'}} h:mm</div>\n            </div>\n        </div>   \n        <div class=\"i-6\">\n            <div class=\"i-g\">\n                <div class=\"i-4\">\n                    <img class=\"i-img\" ng-src=\"/images/tank{{msg.payload.tanqueRojo?'Red':''}}.png\" style=\"width:120px;height:auto\">\n                </div>    \n                <div class=\"i-8\">\n                    <h4>{{msg.payload.productName || 'N/A'}}</h4>\n                </div>  \n            </div>\n         \n            \n        </div>\n  \n    </div>\n</div>\n<div ng-hide=\"msg.payload\">\n    <p class=\"centrado\" style=\"padding-top:60px\">\n        <img src=\"/images/usb-disconnected.png\" style=\"width:150px;height:auto\"/>\n    </p>\n</div>\n<div ng-hide=\"!msg.payload\">  \n<h4 class=\"centrado\"><strong>{{msg.payload.tankName}}</strong></h4>\n<p class=\"centrado\"> \n    <img ng-attr-id=\"{{msg.payload.tankName + 'i'}}\" style=\"display:none\" \n    ng-src=\"/images/tank{{msg.payload.tanqueRojo?'Red':''}}.png\"/>\n    <canvas title=\"Click para ver detalles\" ng-click=\"showDetails()\" class=\"puntero pp\" ng-attr-id=\"{{msg.payload.tankName + 'c'}}\" width=\"150px\" height=\"130px\" style=\"background:transparent\"></canvas>\n</p>\n\n<img title=\"Inconsistencia detectada!\" class=\"imgcheck\" ng-show=\"msg.payload.inconsistencia==0\" src=\"/images/chk0.png\"/>\n<img title=\"Inconsistencia aceptada\" class=\"imgcheck\" ng-show=\"msg.payload.inconsistencia==1\" src=\"/images/chk1.png\"/>\n\n\n<p class=\"pp\"><span>Producto: <span class=\"azul\">{{msg.payload.productName || 'N/A'}}</span></span></p>\n<p class=\"pp\"><span>Nivel Prod (auto)  : <span class=\"azul\">{{msg.payload.productLevel || 'N/A'}} mm</span></span></p> \n<p class=\"pp\"><span>Nivel Prod (manual): <span class=\"azul\" \n    ng-attr-title=\"Última medición: {{msg.payload.nivelManualFechaHora? (msg.payload.nivelManualFechaHora | date:'dd/MM/yyyy HH:mm:ss Z') : 'N/A'}}\">{{msg.payload.nivelManual || 'N/A'}} mm</span></span></p> \n<p class=\"pp\"><span>Temperatura de Prod: <span class=\"azul\">{{msg.payload.productTemp || 'N/A'}} °C</span></span></p>       \n<p class=\"pp\"><span>TOV: <span class=\"azul\">{{msg.payload.tov || 'N/A'}} L</span></span></p>       \n<!--p class=\"pp\"><span>GOV: <span class=\"azul\">{{msg.payload.gov || 'N/A'}} L</span></span></p-->       \n<p class=\"pp\"><span ng-click=\"showDetails()\" class=\"puntero resalta\">Más Detalles</span> </p>       \n</div>\n<script>\n;(function(scope) { \n    scope.$watch('msg.payload', function(newVal, oldVal) { \n        if(scope.msg) {\n            var c = document.getElementById(scope.msg.payload.tankName + 'c');\n            if(c) {\n                console.log(\"Hi \"+scope.msg.payload.tankName + 'i');\n                var ctx = c.getContext(\"2d\");\n                var img = document.getElementById(scope.msg.payload.tankName + 'i');\n                ctx.drawImage(img, 0, 0,150,130);\n                var x1=104;\n                var y1=18;\n                var x2=29;\n                var y2=83;\n                var altoTotal=y2-y1;\n                var desplazamiento=altoTotal-(altoTotal*scope.msg.payload.percent);\n                //ctx.fillRect(x1,y1,x2,y2);\n                ctx.fillStyle=\"yellow\";\n                ctx.fillRect(x1,y1+desplazamiento,x2,y2-desplazamiento);\n                ctx.fillStyle=\"black\";\n                ctx.font = \"18px Arial\";\n                ctx.fillText(Number(scope.msg.payload.percent*100).toFixed(2)+\"%\",30,50);\n                if(!scope.msg.payload.tanqueRojo)\n                    ctx.fillStyle='red';\n                else \n                    ctx.fillStyle='yellow';\n                ctx.font = \"14px Arial\";\n                ctx.fillText(\"TOV\",45,75);\n                ctx.fillText(scope.msg.payload.tov + \" L\",30,95);\n                //c.addEventListener('mousemove', function(evt) {  \n                //     var rect = c.getBoundingClientRect();\n                //        console.log(evt.clientX - rect.left, evt.clientY - rect.top);\n                //}, false);\n            }\n        }\n        scope.showDetails=function() {\n            $( \"#\"+scope.msg.payload.tankName + 'd' ).dialog({\n                modal: true,\n                height: 575,\n                width: 800,\n                buttons: {\n                 Ok: function() {\n                $( this ).dialog( \"close\" );\n            }\n      }\n    });\n        }\n    }) \n\n})(scope) \n\n</script>\n\n<style type=\"text/css\" media=\"all\">\n.puntero {\n\tcursor: pointer;\n\tcursor: hand;\n}\n.resalta:hover { \n    color: green;\n}\n.pp {\n    padding-top: 0px !important;\n    margin-top: 0px !important;\n    border-top: 0px !important;\n    padding-bottom: 0px;\n    margin-bottom: 0px !important;\n    border-bottom: 0px;\n}\n.azul{\n    color: yellow;\n}\n.der {\n    text-align: right;\n}\n.centrado {\n\ttext-align: center;;\n}\n.tamletra {\n    font-size: 80%;\n}\n.tamletra1 {\n    font-size: 95%;\n}\n.imgcheck{\n    width: 32px;\n    height: 32px;\n    position: absolute;\n\ttop: 10px;\n\tright: 10px;\n\n}\n</style>\n\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 1022.3333015441895,
        "y": 458.77783966064453,
        "wires": [
            []
        ]
    },
    {
        "id": "7fa4a145.69716",
        "type": "ui_template",
        "z": "d5883d38.eb44d",
        "group": "dba5a500.24baa8",
        "name": "Mostrar Tanque",
        "order": 0,
        "width": "6",
        "height": "6",
        "format": "",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "x": 842.3333015441895,
        "y": 458.77783966064453,
        "wires": [
            []
        ]
    },
    {
        "id": "8b80aeb0.399e",
        "type": "ui_template",
        "z": "d5883d38.eb44d",
        "d": true,
        "group": "c2a869f1.db673",
        "name": "Mostrar Tanque",
        "order": 0,
        "width": "6",
        "height": "6",
        "format": "<link rel=\"stylesheet\" href=\"/css/jquery-ui.min.css\">\n<script src=\"/js/jquery-1.12.4.js\"></script>\n<script src=\"/js/jquery-ui.js\"></script>\n\n<link rel=\"stylesheet\" href=\"/css/icecream-grid.min.css\">\n\n<div ng-attr-id=\"{{msg.payload.tankName + 'd'}}\" class=\"tamletra\" style=\"display:none\" title=\"Detalle Tanque {{msg.payload.tankName}}\">\n    <div class=\"i-g\">\n        <div class=\"i-6\">\n            <strong class=\"centrado\">Inventario</strong>\n            <hr/>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">Nivel Prod (auto):</div>\n                 <div class=\"i-6 azul\">{{msg.payload.productLevel || 'N/A'}} mm</div>\n            </div>\n\n\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">TOV:</div>\n                 <div class=\"i-6 azul\">{{msg.payload.tov | number : 2 || 'N/A'}} L</div>\n            </div>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">Nivel de Agua:</div>\n                 <div class=\"i-6 azul\">{{msg.payload.waterLevel || 'N/A'}} mm</div>\n            </div>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">Volumen de Agua:</div>\n                 <div class=\"i-6 azul\">{{msg.payload.waterVol || 'N/A'}}  m³</div>\n            </div>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">GOV:</div>\n                 <div class=\"i-6 azul\">{{msg.payload.gov | number : 2 || 'N/A'}} m³</div>\n            </div>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">Densidad Observada:</div>\n                 <div class=\"i-6 azul\">{{msg.payload.DObs || 'N/A'}} API °</div>\n            </div>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">Temperatura de Producto:</div>\n                 <div class=\"i-6 azul\">{{msg.payload.productTemp || 'N/A'}} °C</div>\n            </div>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">Temperatura de Vapor:</div>\n                 <div class=\"i-6 azul\">{{msg.payload.vapRoomTemp || 'N/A'}} °F</div>\n            </div>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">Densidad De Referencia:</div>\n                 <div class=\"i-6 azul\">{{msg.payload.productDRef || 'N/A'}} API °</div>\n            </div>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">VCF:</div>\n                 <div class=\"i-6 azul\">{{msg.payload.vcf || 'N/A'}}</div>\n            </div>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">GSV:</div>\n                 <div class=\"i-6 azul\">{{msg.payload.gsv || 'N/A'}} L</div>\n            </div>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">Espacio Disonible:</div>\n                 <div class=\"i-6 azul\">{{msg.payload.availableRoom || 'N/A'}} L</div>\n            </div>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">Producto Disponible:</div>\n                 <div class=\"i-6 azul\">{{msg.payload.availableProduct || 'N/A'}} L</div>\n            </div>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">Corrección (S & W):</div>\n                 <div class=\"i-6 azul\">{{msg.payload.sw || 'N/A'}} L</div>\n            </div>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">Corrección (NSV):</div>\n                 <div class=\"i-6 azul\">{{msg.payload.nsv || 'N/A'}} L</div>\n            </div>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">Total de Masa en Aire:</div>\n                 <div class=\"i-6 azul\">{{msg.payload.totalMass || 'N/A'}} Kg</div>\n            </div>\n            <div class=\"i-g\">\n                <br/>\n                <strong class=\"centrado\" style=\"padding-top:20px\">Caudal</strong>\n                <hr/>\n            </div>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">Caudal (TOV):</div>\n                <div class=\"i-6 azul\">{{msg.payload.flowTOV || 'N/A'}} m3/h</div>\n            </div>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">Tiempo de llenado:</div>\n                <div class=\"i-6 azul\">{{msg.payload.timeToFit || 'N/A'}} h:mm</div>\n            </div>\n        </div>   \n        <div class=\"i-6\">\n            <div class=\"i-g\">\n                <div class=\"i-4\">\n                    <img class=\"i-img\" ng-src=\"/images/tank{{msg.payload.tanqueRojo?'Red':''}}.png\" style=\"width:120px;height:auto\">\n                </div>    \n                <div class=\"i-8\">\n                    <h4>{{msg.payload.productName || 'N/A'}}</h4>\n                </div>  \n            </div>\n         \n            \n        </div>\n  \n    </div>\n</div>\n<div ng-hide=\"msg.payload\">\n    <p class=\"centrado\" style=\"padding-top:60px\">\n        <img src=\"/images/usb-disconnected.png\" style=\"width:150px;height:auto\"/>\n    </p>\n</div>\n<div ng-hide=\"!msg.payload\">  \n<h4 class=\"centrado\"><strong>{{msg.payload.tankName}}</strong></h4>\n<p class=\"centrado\"> \n    <img ng-attr-id=\"{{msg.payload.tankName + 'i'}}\" style=\"display:none\" \n    ng-src=\"/images/tank{{msg.payload.tanqueRojo?'Red':''}}.png\"/>\n    <canvas title=\"Click para ver detalles\" ng-click=\"showDetails()\" class=\"puntero pp\" ng-attr-id=\"{{msg.payload.tankName + 'c'}}\" width=\"150px\" height=\"130px\" style=\"background:transparent\"></canvas>\n</p>\n\n<img title=\"Inconsistencia detectada!\" class=\"imgcheck\" ng-show=\"msg.payload.inconsistencia==0\" src=\"/images/chk0.png\"/>\n<img title=\"Inconsistencia aceptada\" class=\"imgcheck\" ng-show=\"msg.payload.inconsistencia==1\" src=\"/images/chk1.png\"/>\n\n\n<p class=\"pp\"><span>Producto: <span class=\"azul\">{{msg.payload.productName || 'N/A'}}</span></span></p>\n<p class=\"pp\"><span>Nivel Prod (auto)  : <span class=\"azul\">{{msg.payload.productLevel || 'N/A'}} mm</span></span></p> \n<p class=\"pp\"><span>Nivel Prod (manual): <span class=\"azul\" \n    ng-attr-title=\"Última medición: {{msg.payload.nivelManualFechaHora? (msg.payload.nivelManualFechaHora | date:'dd/MM/yyyy HH:mm:ss Z') : 'N/A'}}\">{{msg.payload.nivelManual || 'N/A'}} mm</span></span></p> \n<p class=\"pp\"><span>Temperatura de Prod: <span class=\"azul\">{{msg.payload.productTemp || 'N/A'}} °C</span></span></p>       \n<p class=\"pp\"><span>TOV: <span class=\"azul\">{{msg.payload.tov || 'N/A'}} L</span></span></p>       \n<!--p class=\"pp\"><span>GOV: <span class=\"azul\">{{msg.payload.gov || 'N/A'}} L</span></span></p-->       \n<p class=\"pp\"><span ng-click=\"showDetails()\" class=\"puntero resalta\">Más Detalles</span> </p>       \n</div>\n<script>\n;(function(scope) { \n    scope.$watch('msg.payload', function(newVal, oldVal) { \n        if(scope.msg) {\n            var c = document.getElementById(scope.msg.payload.tankName + 'c');\n            if(c) {\n                console.log(\"Hi \"+scope.msg.payload.tankName + 'i');\n                var ctx = c.getContext(\"2d\");\n                var img = document.getElementById(scope.msg.payload.tankName + 'i');\n                ctx.drawImage(img, 0, 0,150,130);\n                var x1=104;\n                var y1=18;\n                var x2=29;\n                var y2=83;\n                var altoTotal=y2-y1;\n                var desplazamiento=altoTotal-(altoTotal*scope.msg.payload.percent);\n                //ctx.fillRect(x1,y1,x2,y2);\n                ctx.fillStyle=\"yellow\";\n                ctx.fillRect(x1,y1+desplazamiento,x2,y2-desplazamiento);\n                ctx.fillStyle=\"black\";\n                ctx.font = \"18px Arial\";\n                ctx.fillText(Number(scope.msg.payload.percent*100).toFixed(2)+\"%\",30,50);\n                if(!scope.msg.payload.tanqueRojo)\n                    ctx.fillStyle='red';\n                else \n                    ctx.fillStyle='yellow';\n                ctx.font = \"14px Arial\";\n                ctx.fillText(\"TOV\",45,75);\n                ctx.fillText(scope.msg.payload.tov + \" L\",30,95);\n                //c.addEventListener('mousemove', function(evt) {  \n                //     var rect = c.getBoundingClientRect();\n                //        console.log(evt.clientX - rect.left, evt.clientY - rect.top);\n                //}, false);\n            }\n        }\n        scope.showDetails=function() {\n            $( \"#\"+scope.msg.payload.tankName + 'd' ).dialog({\n                modal: true,\n                height: 575,\n                width: 800,\n                buttons: {\n                 Ok: function() {\n                $( this ).dialog( \"close\" );\n            }\n      }\n    });\n        }\n    }) \n\n})(scope) \n\n</script>\n\n<style type=\"text/css\" media=\"all\">\n.puntero {\n\tcursor: pointer;\n\tcursor: hand;\n}\n.resalta:hover { \n    color: green;\n}\n.pp {\n    padding-top: 0px !important;\n    margin-top: 0px !important;\n    border-top: 0px !important;\n    padding-bottom: 0px;\n    margin-bottom: 0px !important;\n    border-bottom: 0px;\n}\n.azul{\n    color: yellow;\n}\n.der {\n    text-align: right;\n}\n.centrado {\n\ttext-align: center;;\n}\n.tamletra {\n    font-size: 80%;\n}\n.tamletra1 {\n    font-size: 95%;\n}\n.imgcheck{\n    width: 32px;\n    height: 32px;\n    position: absolute;\n\ttop: 10px;\n\tright: 10px;\n\n}\n</style>\n\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 1202.3333015441895,
        "y": 458.77783966064453,
        "wires": [
            []
        ]
    },
    {
        "id": "2ff1d4e0.74bfe4",
        "type": "ui_template",
        "z": "d5883d38.eb44d",
        "d": true,
        "group": "6a5e9f40.a2c8d",
        "name": "Mostrar Tanque",
        "order": 0,
        "width": "6",
        "height": "6",
        "format": "<link rel=\"stylesheet\" href=\"/css/jquery-ui.min.css\">\n<script src=\"/js/jquery-1.12.4.js\"></script>\n<script src=\"/js/jquery-ui.js\"></script>\n\n<link rel=\"stylesheet\" href=\"/css/icecream-grid.min.css\">\n\n<div ng-attr-id=\"{{msg.payload.tankName + 'd'}}\" class=\"tamletra\" style=\"display:none\" title=\"Detalle Tanque {{msg.payload.tankName}}\">\n    <div class=\"i-g\">\n        <div class=\"i-6\">\n            <strong class=\"centrado\">Inventario</strong>\n            <hr/>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">Nivel Prod (auto):</div>\n                 <div class=\"i-6 azul\">{{msg.payload.productLevel || 'N/A'}} mm</div>\n            </div>\n\n\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">TOV:</div>\n                 <div class=\"i-6 azul\">{{msg.payload.tov | number : 2 || 'N/A'}} L</div>\n            </div>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">Nivel de Agua:</div>\n                 <div class=\"i-6 azul\">{{msg.payload.waterLevel || 'N/A'}} mm</div>\n            </div>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">Volumen de Agua:</div>\n                 <div class=\"i-6 azul\">{{msg.payload.waterVol || 'N/A'}}  m³</div>\n            </div>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">GOV:</div>\n                 <div class=\"i-6 azul\">{{msg.payload.gov | number : 2 || 'N/A'}} m³</div>\n            </div>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">Densidad Observada:</div>\n                 <div class=\"i-6 azul\">{{msg.payload.DObs || 'N/A'}} API °</div>\n            </div>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">Temperatura de Producto:</div>\n                 <div class=\"i-6 azul\">{{msg.payload.productTemp || 'N/A'}} °C</div>\n            </div>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">Temperatura de Vapor:</div>\n                 <div class=\"i-6 azul\">{{msg.payload.vapRoomTemp || 'N/A'}} °F</div>\n            </div>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">Densidad De Referencia:</div>\n                 <div class=\"i-6 azul\">{{msg.payload.productDRef || 'N/A'}} API °</div>\n            </div>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">VCF:</div>\n                 <div class=\"i-6 azul\">{{msg.payload.vcf || 'N/A'}}</div>\n            </div>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">GSV:</div>\n                 <div class=\"i-6 azul\">{{msg.payload.gsv || 'N/A'}} L</div>\n            </div>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">Espacio Disonible:</div>\n                 <div class=\"i-6 azul\">{{msg.payload.availableRoom || 'N/A'}} L</div>\n            </div>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">Producto Disponible:</div>\n                 <div class=\"i-6 azul\">{{msg.payload.availableProduct || 'N/A'}} L</div>\n            </div>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">Corrección (S & W):</div>\n                 <div class=\"i-6 azul\">{{msg.payload.sw || 'N/A'}} L</div>\n            </div>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">Corrección (NSV):</div>\n                 <div class=\"i-6 azul\">{{msg.payload.nsv || 'N/A'}} L</div>\n            </div>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">Total de Masa en Aire:</div>\n                 <div class=\"i-6 azul\">{{msg.payload.totalMass || 'N/A'}} Kg</div>\n            </div>\n            <div class=\"i-g\">\n                <br/>\n                <strong class=\"centrado\" style=\"padding-top:20px\">Caudal</strong>\n                <hr/>\n            </div>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">Caudal (TOV):</div>\n                <div class=\"i-6 azul\">{{msg.payload.flowTOV || 'N/A'}} m3/h</div>\n            </div>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">Tiempo de llenado:</div>\n                <div class=\"i-6 azul\">{{msg.payload.timeToFit || 'N/A'}} h:mm</div>\n            </div>\n        </div>   \n        <div class=\"i-6\">\n            <div class=\"i-g\">\n                <div class=\"i-4\">\n                    <img class=\"i-img\" ng-src=\"/images/tank{{msg.payload.tanqueRojo?'Red':''}}.png\" style=\"width:120px;height:auto\">\n                </div>    \n                <div class=\"i-8\">\n                    <h4>{{msg.payload.productName || 'N/A'}}</h4>\n                </div>  \n            </div>\n         \n            \n        </div>\n  \n    </div>\n</div>\n<div ng-hide=\"msg.payload\">\n    <p class=\"centrado\" style=\"padding-top:60px\">\n        <img src=\"/images/usb-disconnected.png\" style=\"width:150px;height:auto\"/>\n    </p>\n</div>\n<div ng-hide=\"!msg.payload\">  \n<h4 class=\"centrado\"><strong>{{msg.payload.tankName}}</strong></h4>\n<p class=\"centrado\"> \n    <img ng-attr-id=\"{{msg.payload.tankName + 'i'}}\" style=\"display:none\" \n    ng-src=\"/images/tank{{msg.payload.tanqueRojo?'Red':''}}.png\"/>\n    <canvas title=\"Click para ver detalles\" ng-click=\"showDetails()\" class=\"puntero pp\" ng-attr-id=\"{{msg.payload.tankName + 'c'}}\" width=\"150px\" height=\"130px\" style=\"background:transparent\"></canvas>\n</p>\n\n<img title=\"Inconsistencia detectada!\" class=\"imgcheck\" ng-show=\"msg.payload.inconsistencia==0\" src=\"/images/chk0.png\"/>\n<img title=\"Inconsistencia aceptada\" class=\"imgcheck\" ng-show=\"msg.payload.inconsistencia==1\" src=\"/images/chk1.png\"/>\n\n\n<p class=\"pp\"><span>Producto: <span class=\"azul\">{{msg.payload.productName || 'N/A'}}</span></span></p>\n<p class=\"pp\"><span>Nivel Prod (auto)  : <span class=\"azul\">{{msg.payload.productLevel || 'N/A'}} mm</span></span></p> \n<p class=\"pp\"><span>Nivel Prod (manual): <span class=\"azul\" \n    ng-attr-title=\"Última medición: {{msg.payload.nivelManualFechaHora? (msg.payload.nivelManualFechaHora | date:'dd/MM/yyyy HH:mm:ss Z') : 'N/A'}}\">{{msg.payload.nivelManual || 'N/A'}} mm</span></span></p> \n<p class=\"pp\"><span>Temperatura de Prod: <span class=\"azul\">{{msg.payload.productTemp || 'N/A'}} °C</span></span></p>       \n<p class=\"pp\"><span>TOV: <span class=\"azul\">{{msg.payload.tov || 'N/A'}} L</span></span></p>       \n<!--p class=\"pp\"><span>GOV: <span class=\"azul\">{{msg.payload.gov || 'N/A'}} L</span></span></p-->       \n<p class=\"pp\"><span ng-click=\"showDetails()\" class=\"puntero resalta\">Más Detalles</span> </p>       \n</div>\n<script>\n;(function(scope) { \n    scope.$watch('msg.payload', function(newVal, oldVal) { \n        if(scope.msg) {\n            var c = document.getElementById(scope.msg.payload.tankName + 'c');\n            if(c) {\n                console.log(\"Hi \"+scope.msg.payload.tankName + 'i');\n                var ctx = c.getContext(\"2d\");\n                var img = document.getElementById(scope.msg.payload.tankName + 'i');\n                ctx.drawImage(img, 0, 0,150,130);\n                var x1=104;\n                var y1=18;\n                var x2=29;\n                var y2=83;\n                var altoTotal=y2-y1;\n                var desplazamiento=altoTotal-(altoTotal*scope.msg.payload.percent);\n                //ctx.fillRect(x1,y1,x2,y2);\n                ctx.fillStyle=\"yellow\";\n                ctx.fillRect(x1,y1+desplazamiento,x2,y2-desplazamiento);\n                ctx.fillStyle=\"black\";\n                ctx.font = \"18px Arial\";\n                ctx.fillText(Number(scope.msg.payload.percent*100).toFixed(2)+\"%\",30,50);\n                if(!scope.msg.payload.tanqueRojo)\n                    ctx.fillStyle='red';\n                else \n                    ctx.fillStyle='yellow';\n                ctx.font = \"14px Arial\";\n                ctx.fillText(\"TOV\",45,75);\n                ctx.fillText(scope.msg.payload.tov + \" L\",30,95);\n                //c.addEventListener('mousemove', function(evt) {  \n                //     var rect = c.getBoundingClientRect();\n                //        console.log(evt.clientX - rect.left, evt.clientY - rect.top);\n                //}, false);\n            }\n        }\n        scope.showDetails=function() {\n            $( \"#\"+scope.msg.payload.tankName + 'd' ).dialog({\n                modal: true,\n                height: 575,\n                width: 800,\n                buttons: {\n                 Ok: function() {\n                $( this ).dialog( \"close\" );\n            }\n      }\n    });\n        }\n    }) \n\n})(scope) \n\n</script>\n\n<style type=\"text/css\" media=\"all\">\n.puntero {\n\tcursor: pointer;\n\tcursor: hand;\n}\n.resalta:hover { \n    color: green;\n}\n.pp {\n    padding-top: 0px !important;\n    margin-top: 0px !important;\n    border-top: 0px !important;\n    padding-bottom: 0px;\n    margin-bottom: 0px !important;\n    border-bottom: 0px;\n}\n.azul{\n    color: yellow;\n}\n.der {\n    text-align: right;\n}\n.centrado {\n\ttext-align: center;;\n}\n.tamletra {\n    font-size: 80%;\n}\n.tamletra1 {\n    font-size: 95%;\n}\n.imgcheck{\n    width: 32px;\n    height: 32px;\n    position: absolute;\n\ttop: 10px;\n\tright: 10px;\n\n}\n</style>\n\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 1382.3333015441895,
        "y": 458.77783966064453,
        "wires": [
            []
        ]
    },
    {
        "id": "2c363dfb.57e3b2",
        "type": "debug",
        "z": "d5883d38.eb44d",
        "name": "",
        "active": true,
        "console": "false",
        "complete": "false",
        "x": 272.33330154418945,
        "y": 298.77783966064453,
        "wires": []
    },
    {
        "id": "6d446153.7a9298",
        "type": "debug",
        "z": "d5883d38.eb44d",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 742.3333015441895,
        "y": 598.7778396606445,
        "wires": []
    },
    {
        "id": "7c4c7de7.8e7df4",
        "type": "ui_template",
        "z": "d5883d38.eb44d",
        "group": "85c8d030.5509c",
        "name": "LIsta simple para tests",
        "order": 1,
        "width": "27",
        "height": "20",
        "format": "<link rel=\"stylesheet\" href=\"/css/bootstrap.min.css\">\n<link rel=\"stylesheet\" href=\"/css/bootstrap-theme.min.css\">\n\n<table class=\"table table-bordered\">\n<tr>\n    <td><strong>Tanque</strong></td>\n    <td><strong>Producto</strong></td>\n    <td><strong>Nivel (mm)</strong></td>\n    <td><strong>TOV (L)</strong></td>\n    <td><strong>Temperatura (°C)</strong></td>\n    <td><strong>Dens. de Referencia (g/cm³) </strong></td>\n    <td><strong>GSV (L)</strong></td>\n    <td><strong>Total Mass</strong></td>\n    \n</tr>\n<tr ng-show=\"t.payload\" ng-repeat=\"t in msg.payload\">\n    <td>{{t.payload.tankName}}</td>\n    <td>{{t.payload.productName}}</td>\n    <td style=\"text-align: right\">{{t.payload.productLevel | number : 2}}</td>\n    <td style=\"text-align: right\">{{t.payload.tov | number : 2}}</td>\n    <td style=\"text-align: right\">{{t.payload.productTemp | number : 2}}</td>\n    <td style=\"text-align: right\">{{t.payload.productDRef}}</td>\n    <td style=\"text-align: right\">{{t.payload.gsv}}</td>\n    <td style=\"text-align: right\">{{t.payload.totalMass}}</td>\n    \n</tr>\n</table>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 1082.3333015441895,
        "y": 638.7778396606445,
        "wires": [
            []
        ]
    },
    {
        "id": "24b5e71f.55a928",
        "type": "change",
        "z": "35b40fae.3fa48",
        "name": "Parse Inputs",
        "rules": [
            {
                "t": "set",
                "p": "urlBaseTT",
                "pt": "flow",
                "to": "urlBaseTT",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "idCompania",
                "pt": "flow",
                "to": "idCompania",
                "tot": "env"
            },
            {
                "t": "set",
                "p": "tokenTT",
                "pt": "flow",
                "to": "tokenTT",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "urlBaseTTBrowserCompat",
                "pt": "flow",
                "to": "urlBaseTTBrowserCompat",
                "tot": "env"
            },
            {
                "t": "set",
                "p": "categoriaTT",
                "pt": "flow",
                "to": "categoria",
                "tot": "env"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 200,
        "y": 80,
        "wires": [
            [
                "7a5f2f1f.07c6"
            ]
        ]
    },
    {
        "id": "7a5f2f1f.07c6",
        "type": "function",
        "z": "35b40fae.3fa48",
        "name": "Prepare Request",
        "func": "msg.headers = {};\nmsg.headers['X-AUTH-TOKEN'] = flow.get('tokenTT');\nmsg.headers['Content-Type'] = 'application/json';\nvar url=flow.get(\"urlBaseTT\");//BrowserCompat\nif(!url.endsWith('/'))\n    url=url+\"/\";\nmsg.url=url+\"api/v1/fafnir/ultimos_estados/\"+flow.get('idCompania');\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 420,
        "y": 90,
        "wires": [
            [
                "f226a559.a65db8"
            ]
        ]
    },
    {
        "id": "f226a559.a65db8",
        "type": "http request",
        "z": "35b40fae.3fa48",
        "name": "call detail",
        "method": "GET",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "x": 640,
        "y": 90,
        "wires": [
            [
                "44975b9a.989454"
            ]
        ]
    },
    {
        "id": "44975b9a.989454",
        "type": "switch",
        "z": "35b40fae.3fa48",
        "name": "",
        "property": "statusCode",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "200",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 820,
        "y": 140,
        "wires": [
            [
                "bb47b7b.0009648",
                "69abfd47.334cc4"
            ],
            []
        ],
        "outputLabels": [
            "ok",
            "no ok"
        ]
    },
    {
        "id": "bb47b7b.0009648",
        "type": "json",
        "z": "35b40fae.3fa48",
        "name": "",
        "property": "payload",
        "action": "obj",
        "pretty": false,
        "x": 1000,
        "y": 70,
        "wires": [
            [
                "c1519f1d.23df3"
            ]
        ]
    },
    {
        "id": "c1519f1d.23df3",
        "type": "function",
        "z": "35b40fae.3fa48",
        "name": "Add url & token",
        "func": "msg.payload.forEach(function(o,i){\n    o.urlBaseTT=flow.get('urlBaseTTBrowserCompat') + (flow.get('urlBaseTTBrowserCompat').endsWith(\"/\") ? \"\":\"/\");\n    o.tokenTT=flow.get(\"tokenTT\");\n    o.categoriaTT=flow.get(\"categoriaTT\")\n});\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1190,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "69abfd47.334cc4",
        "type": "function",
        "z": "35b40fae.3fa48",
        "name": "",
        "func": "msg.payload=\"Ult Req: \"+new Date().toISOString();\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 860,
        "y": 40,
        "wires": [
            []
        ]
    },
    {
        "id": "6976a4b7.3e4e8c",
        "type": "inject",
        "z": "1ae16134.2ffe3f",
        "g": "7575f7f7.3026d8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "5",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 95,
        "y": 780,
        "wires": [
            [
                "1319b071.8f9e3"
            ]
        ],
        "l": false
    },
    {
        "id": "1319b071.8f9e3",
        "type": "change",
        "z": "1ae16134.2ffe3f",
        "g": "7575f7f7.3026d8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "tokenTT",
                "pt": "msg",
                "to": "data.authToken.token",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "urlBaseTT",
                "pt": "msg",
                "to": "data.urlBase",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "hwPresente",
                "pt": "msg",
                "to": "HARDWARE_PRESENTE",
                "tot": "env"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 200,
        "y": 760,
        "wires": [
            [
                "cc594bfc.910258"
            ]
        ]
    },
    {
        "id": "cc594bfc.910258",
        "type": "function",
        "z": "1ae16134.2ffe3f",
        "g": "7575f7f7.3026d8",
        "name": "",
        "func": "if(msg.hwPresente==\"si\") {\n    node.status({fill:\"green\",shape:\"ring\",text:\"Hardware Presente\"});\n} else {\n     node.status({fill:\"red\",shape:\"ring\",text:\"Sin Hardware\"});\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 315,
        "y": 760,
        "wires": [
            [
                "ff525a2f.608f28"
            ]
        ],
        "l": false
    },
    {
        "id": "ff525a2f.608f28",
        "type": "switch",
        "z": "1ae16134.2ffe3f",
        "g": "7575f7f7.3026d8",
        "name": "Hay HW Presente?",
        "property": "hwPresente",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "si",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 450,
        "y": 760,
        "wires": [
            [
                "cd25a503.4992e8"
            ]
        ]
    },
    {
        "id": "cd25a503.4992e8",
        "type": "subflow:35b40fae.3fa48",
        "z": "1ae16134.2ffe3f",
        "g": "7575f7f7.3026d8",
        "name": "",
        "env": [
            {
                "name": "categoria",
                "value": "fafnir",
                "type": "str"
            }
        ],
        "x": 680,
        "y": 760,
        "wires": [
            [
                "726b285.1c265d8",
                "afb95977.5ce9d8"
            ],
            [],
            []
        ]
    },
    {
        "id": "726b285.1c265d8",
        "type": "function",
        "z": "1ae16134.2ffe3f",
        "g": "7575f7f7.3026d8",
        "name": "Tranforma Ultimo Estado",
        "func": "var r=[];\nvar fnAB=function(v) {\n    return v <0 ? '<span class=\"fa fa-arrow-down rojo\"></span>' : (v >0 ? '<span class=\"fa fa-arrow-up verde\"></span>' : '<span class=\"fa fa-circle\"></span>');\n};\nmsg.payload.forEach(function(c,i){\n    if(!c || c.ultimoEstado.nuevo) {\n        r.push({payload:false, enabled:true});\n    } else {\n        if(c.verEnTableroTanques) {\n            var rawData={};\n            try{\n                rawData=JSON.parse(c.ultimoEstado.rawData);\n            } catch(e) {\n                \n            }\n            //node.warn(rawData);\n            r.push({ payload:rawData , enabled:true });\n        }\n    }\n});\nmsg.payload=JSON.stringify(r);\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 930,
        "y": 760,
        "wires": [
            [
                "143fe700.e1b9c9"
            ]
        ]
    },
    {
        "id": "afb95977.5ce9d8",
        "type": "debug",
        "z": "1ae16134.2ffe3f",
        "g": "7575f7f7.3026d8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 930,
        "y": 700,
        "wires": []
    },
    {
        "id": "7e065f8a.82fc9",
        "type": "template",
        "z": "d5883d38.eb44d",
        "name": "",
        "field": "template",
        "fieldType": "msg",
        "format": "html",
        "syntax": "plain",
        "template": "<link rel=\"stylesheet\" href=\"/css/jquery-ui.min.css\">\n<script src=\"/js/jquery-1.12.4.js\"></script>\n<script src=\"/js/jquery-ui.js\"></script>\n\n<link rel=\"stylesheet\" href=\"/css/icecream-grid.min.css\">\n\n<div ng-attr-id=\"{{msg.payload.tankName + 'd'}}\" class=\"tamletra\" style=\"display:none\" title=\"Detalle Tanque {{msg.payload.tankName}}\">\n    <div class=\"i-g\">\n        <div class=\"i-6\">\n            <strong class=\"centrado\">Inventario</strong>\n            <hr/>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">Nivel Prod (auto):</div>\n                 <div class=\"i-6 azul\">{{msg.payload.productLevel || 'N/A'}} mm</div>\n            </div>\n\n\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">TOV:</div>\n                 <div class=\"i-6 azul\">{{msg.payload.tov | number : 2 || 'N/A'}} L</div>\n            </div>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">Nivel de Agua:</div>\n                 <div class=\"i-6 azul\">{{msg.payload.waterLevel || 'N/A'}} mm</div>\n            </div>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">Volumen de Agua:</div>\n                 <div class=\"i-6 azul\">{{msg.payload.waterVol || 'N/A'}}  m³</div>\n            </div>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">GOV:</div>\n                 <div class=\"i-6 azul\">{{msg.payload.gov | number : 2 || 'N/A'}} m³</div>\n            </div>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">Densidad Observada:</div>\n                 <div class=\"i-6 azul\">{{msg.payload.DObs || 'N/A'}} API °</div>\n            </div>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">Temperatura de Producto:</div>\n                 <div class=\"i-6 azul\">{{msg.payload.productTemp || 'N/A'}} °C</div>\n            </div>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">Temperatura de Vapor:</div>\n                 <div class=\"i-6 azul\">{{msg.payload.vapRoomTemp || 'N/A'}} °F</div>\n            </div>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">Densidad De Referencia:</div>\n                 <div class=\"i-6 azul\">{{msg.payload.productDRef || 'N/A'}} API °</div>\n            </div>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">VCF:</div>\n                 <div class=\"i-6 azul\">{{msg.payload.vcf || 'N/A'}}</div>\n            </div>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">GSV:</div>\n                 <div class=\"i-6 azul\">{{msg.payload.gsv || 'N/A'}} L</div>\n            </div>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">Espacio Disonible:</div>\n                 <div class=\"i-6 azul\">{{msg.payload.availableRoom || 'N/A'}} L</div>\n            </div>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">Producto Disponible:</div>\n                 <div class=\"i-6 azul\">{{msg.payload.availableProduct || 'N/A'}} L</div>\n            </div>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">Corrección (S & W):</div>\n                 <div class=\"i-6 azul\">{{msg.payload.sw || 'N/A'}} L</div>\n            </div>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">Corrección (NSV):</div>\n                 <div class=\"i-6 azul\">{{msg.payload.nsv || 'N/A'}} L</div>\n            </div>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">Total de Masa en Aire:</div>\n                 <div class=\"i-6 azul\">{{msg.payload.totalMass || 'N/A'}} Kg</div>\n            </div>\n            <div class=\"i-g\">\n                <br/>\n                <strong class=\"centrado\" style=\"padding-top:20px\">Caudal</strong>\n                <hr/>\n            </div>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">Caudal (TOV):</div>\n                <div class=\"i-6 azul\">{{msg.payload.flowTOV || 'N/A'}} m3/h</div>\n            </div>\n            <div class=\"i-g\">\n                <div class=\"i-6 der\">Tiempo de llenado:</div>\n                <div class=\"i-6 azul\">{{msg.payload.timeToFit || 'N/A'}} h:mm</div>\n            </div>\n        </div>   \n        <div class=\"i-6\">\n            <div class=\"i-g\">\n                <div class=\"i-4\">\n                    <img class=\"i-img\" ng-src=\"/images/tank{{msg.payload.tanqueRojo?'Red':''}}.png\" style=\"width:120px;height:auto\">\n                </div>    \n                <div class=\"i-8\">\n                    <h4>{{msg.payload.productName || 'N/A'}}</h4>\n                </div>  \n            </div>\n         \n            \n        </div>\n  \n    </div>\n</div>\n<div ng-hide=\"msg.payload\">\n    <p class=\"centrado\" style=\"padding-top:60px\">\n        <img src=\"/images/usb-disconnected.png\" style=\"width:150px;height:auto\"/>\n    </p>\n</div>\n<div ng-hide=\"!msg.payload\">  \n<h4 class=\"centrado\"><strong>{{msg.payload.tankName}}</strong></h4>\n<p class=\"centrado\"> \n    <img ng-attr-id=\"{{msg.payload.tankName + 'i'}}\" style=\"display:none\" \n    ng-src=\"/images/tank{{msg.payload.tanqueRojo?'Red':''}}.png\"/>\n    <canvas title=\"Click para ver detalles\" ng-click=\"showDetails()\" class=\"puntero pp\" ng-attr-id=\"{{msg.payload.tankName + 'c'}}\" width=\"150px\" height=\"130px\" style=\"background:transparent\"></canvas>\n</p>\n\n<img title=\"Inconsistencia detectada!\" class=\"imgcheck\" ng-show=\"msg.payload.inconsistencia==0\" src=\"/images/chk0.png\"/>\n<img title=\"Inconsistencia aceptada\" class=\"imgcheck\" ng-show=\"msg.payload.inconsistencia==1\" src=\"/images/chk1.png\"/>\n\n\n<p class=\"pp\"><span>Producto: <span class=\"azul\">{{msg.payload.productName || 'N/A'}}</span></span></p>\n<p class=\"pp\"><span>Nivel Prod (auto)  : <span class=\"azul\">{{msg.payload.productLevel || 'N/A'}} mm</span></span></p> \n<p class=\"pp\"><span>Nivel Prod (manual): <span class=\"azul\" \n    ng-attr-title=\"Última medición: {{msg.payload.nivelManualFechaHora? (msg.payload.nivelManualFechaHora | date:'dd/MM/yyyy HH:mm:ss Z') : 'N/A'}}\">{{msg.payload.nivelManual || 'N/A'}} mm</span></span></p> \n<p class=\"pp\"><span>Temperatura de Prod: <span class=\"azul\">{{msg.payload.productTemp || 'N/A'}} °C</span></span></p>       \n<p class=\"pp\"><span>TOV: <span class=\"azul\">{{msg.payload.tov || 'N/A'}} L</span></span></p>       \n<!--p class=\"pp\"><span>GOV: <span class=\"azul\">{{msg.payload.gov || 'N/A'}} L</span></span></p-->       \n<p class=\"pp\"><span ng-click=\"showDetails()\" class=\"puntero resalta\">Más Detalles</span> </p>       \n</div>\n<script>\n;(function(scope) { \n    scope.$watch('msg.payload', function(newVal, oldVal) { \n        if(scope.msg) {\n            var c = document.getElementById(scope.msg.payload.tankName + 'c');\n            if(c) {\n                console.log(\"Hi \"+scope.msg.payload.tankName + 'i');\n                var ctx = c.getContext(\"2d\");\n                var img = document.getElementById(scope.msg.payload.tankName + 'i');\n                ctx.drawImage(img, 0, 0,150,130);\n                var x1=104;\n                var y1=18;\n                var x2=29;\n                var y2=83;\n                var altoTotal=y2-y1;\n                var desplazamiento=altoTotal-(altoTotal*scope.msg.payload.percent);\n                //ctx.fillRect(x1,y1,x2,y2);\n                ctx.fillStyle=\"yellow\";\n                ctx.fillRect(x1,y1+desplazamiento,x2,y2-desplazamiento);\n                ctx.fillStyle=\"black\";\n                ctx.font = \"18px Arial\";\n                ctx.fillText(Number(scope.msg.payload.percent*100).toFixed(2)+\"%\",30,50);\n                if(!scope.msg.payload.tanqueRojo)\n                    ctx.fillStyle='red';\n                else \n                    ctx.fillStyle='yellow';\n                ctx.font = \"14px Arial\";\n                ctx.fillText(\"TOV\",45,75);\n                ctx.fillText(scope.msg.payload.tov + \" L\",30,95);\n                //c.addEventListener('mousemove', function(evt) {  \n                //     var rect = c.getBoundingClientRect();\n                //        console.log(evt.clientX - rect.left, evt.clientY - rect.top);\n                //}, false);\n            }\n        }\n        scope.showDetails=function() {\n            $( \"#\"+scope.msg.payload.tankName + 'd' ).dialog({\n                modal: true,\n                height: 575,\n                width: 800,\n                buttons: {\n                 Ok: function() {\n                $( this ).dialog( \"close\" );\n            }\n      }\n    });\n        }\n    }) \n\n})(scope) \n\n</script>\n\n<style type=\"text/css\" media=\"all\">\n.puntero {\n\tcursor: pointer;\n\tcursor: hand;\n}\n.resalta:hover { \n    color: green;\n}\n.pp {\n    padding-top: 0px !important;\n    margin-top: 0px !important;\n    border-top: 0px !important;\n    padding-bottom: 0px;\n    margin-bottom: 0px !important;\n    border-bottom: 0px;\n}\n.azul{\n    color: yellow;\n}\n.der {\n    text-align: right;\n}\n.centrado {\n\ttext-align: center;;\n}\n.tamletra {\n    font-size: 80%;\n}\n.tamletra1 {\n    font-size: 95%;\n}\n.imgcheck{\n    width: 32px;\n    height: 32px;\n    position: absolute;\n\ttop: 10px;\n\tright: 10px;\n\n}\n</style>\n\n",
        "output": "str",
        "x": 335,
        "y": 220,
        "wires": [
            [
                "d7f14374.27b0c"
            ]
        ],
        "l": false
    }
]